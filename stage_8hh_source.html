<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<!-- $Id: header.html,v 1.5 2008-02-24 23:24:40 rtv Exp $ -->

<HEAD>


<meta HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=utf-8">
<meta name="keywords" content="stage, robot, simulation, player, player/stage">
<link href="doxygen.css" rel="stylesheet" type="text/css">

<style type="text/css">

.floatright { float: right; margin: 0 0 1em 1em; }

body {
  font-family: sans-serif;
  #font-family: Geneva, Verdana, Helvetica, Arial, sans-serif;
  background-color: #FFF;
  color:#000;
}


a:link { 
	color: #A00;
}

a:visited { 
	color: #800;
}

a { text-decoration: none; }
a:hover { text-decoration: underline; }


.timestamp { text-align:right; background-color: #DDD; font-size:75%;}

h1 { 
  font-size:160%; 
}

h2 {
  font-size:110%;
  #color: #FFF;
  #background-color: #666;
  #padding:3px;
}

h3 { text-align:left; }

img {
  border: 0;
}

ul.menu { 
    position:relative;
    left:-2.5em;
    margin-bottom:0px;
    margin-top:0px;
}

ul.menu1 { 
    position:relative;
    left:-2.1em;
    margin-bottom:0px;
    margin-top:0px;
}

li.menu { 
    list-style-type: none;
    position:relative;
    #left:-0.5em;
}


#sidebar { position: absolute; left:0px; padding:2em; top:0em; width:11em;}

#content { position: absolute; left:12em; top:0em; padding-left:3em; padding-right:3em; padding-bottom:2em; margin-top:1em; margin-right:2em; }

div.box { background-color:#EEE; border: 1px solid #000; padding: 0.5ex 0.4em 0.5ex 0.6em; margin:1em;  }
div.box_light { background-color:#FFF; border: 1px solid #000; padding: 0.5ex 0.4em 0.5ex 0.6em; margin:1em;  }
div.title { font-weight:bold;  margin-bottom:2px;}

div.topbar { position: absolute; top:0px; left:9em; margin:1em; }

</style>

<TITLE>Stage Manual</TITLE>

</HEAD>

<body>

<div id="sidebar"> 

<h2 style="text-align:center;">
<a href="index.html"><img src="stage_button.png" alt="Stage logo image"></a>
</h2>

<div class="box">
<div class=title>Stage</div>

<ul class=menu>
<li class=menu><a href="index.html">Frontpage</a>
<li class=menu><a href="release.html">Release</a>
<li class=menu><a href="authors.html">Authors</a>
<li class=menu><a href="modules.html">Contents</a>
</div>


<div class="box">
<div class=title>User</div>
<ul class=menu>
<li class=menu><a href="install.html">Installation</a>
<li class=menu><a href="help.html">Help</a>
<hr>

<!-- the lists of plugins and models come next -->

<li class=menu><a href="group__world.html">World</a>
<li class=menu><a href="group__worldgui.html">WorldGUI</a>
<li class=menu><a href="group__model.html">Model</a>
<ul class=menu1>
<li class=menu><a href="group__model__actuator.html">actuator</a></li>
<li class=menu><a href="group__model__blobfinder.html">blobfinder</a></li>
<li class=menu><a href="group__model__camera.html">camera</a></li>
<li class=menu><a href="group__model__fiducial.html">fiducial</a></li>
<li class=menu><a href="group__model__gripper.html">gripper</a></li>
<li class=menu><a href="group__model__laser.html">laser</a></li>
<li class=menu><a href="group__model__position.html">position</a></li>
<li class=menu><a href="group__model__ranger.html">ranger</a></li>
<!--
TODO

<li class=menu><a href="group__model__bumper.html">bumper</a></li>
<li class=menu><a href="group__model__blinkenlight.html">blinkenlight</a></li>
-->
</ul>

</div>

<div class=box>
<div class="title">Player</div>
<li class=menu><a href="group__player.html">libstageplugin</a>
</div>


<div class=box>
<div class="title">Developer</div>
<a href="namespaces.html">libstage</a>
</div>

<div class=box_light>
<!-- <a href="http://sourceforge.net"><img border=0 src="http://sourceforge.net/sflogo.php?group_id=42445&type=1"></a> -->
<div class="title">Online</div>
<a href="http://playerstage.org">Homepage</a><br>
<a href="http://playerstage.sourceforge.net/wiki/Basic_FAQ">FAQ (Wiki)</a><br>
<a href="http://sourceforge.net/project/showfiles.php?group_id=42445">Download</a><br>
<a href="http://sourceforge.net/projects/playerstage">Project</a><br>
<a href="http://sourceforge.net/tracker/?group_id=42445">Bugs</a><br>
<a href="http://sourceforge.net/mail/?group_id=42445">Mailing Lists</a>
</div>


</div>

<div id="content" >
<!-- Generated by Doxygen 1.7.2 -->
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_b1518276d23a2e23b507fd99078f6343.html">libstage</a>      </li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>stage.hh</h1>  </div>
</div>
<div class="contents">
<a href="stage_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef STG_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define STG_H</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00005"></a>00005 <span class="comment"> *  Stage : a multi-robot simulator. Part of the Player Project.</span>
<a name="l00006"></a>00006 <span class="comment"> * </span>
<a name="l00007"></a>00007 <span class="comment"> *  Copyright (C) 2001-2009 Richard Vaughan, Brian Gerkey, Andrew</span>
<a name="l00008"></a>00008 <span class="comment"> *  Howard, Toby Collett, Reed Hedges, Alex Couture-Beil, Jeremy</span>
<a name="l00009"></a>00009 <span class="comment"> *  Asher, Pooya Karimian</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> *  This program is free software; you can redistribute it and/or modify</span>
<a name="l00012"></a>00012 <span class="comment"> *  it under the terms of the GNU General Public License as published by</span>
<a name="l00013"></a>00013 <span class="comment"> *  the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00014"></a>00014 <span class="comment"> *  (at your option) any later version.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> *  This program is distributed in the hope that it will be useful,</span>
<a name="l00017"></a>00017 <span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00018"></a>00018 <span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00019"></a>00019 <span class="comment"> *  GNU General Public License for more details.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> *  You should have received a copy of the GNU General Public License</span>
<a name="l00022"></a>00022 <span class="comment"> *  along with this program; if not, write to the Free Software</span>
<a name="l00023"></a>00023 <span class="comment"> *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 
<a name="l00034"></a>00034 <span class="comment">// C libs</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;stdint.h&gt;</span> <span class="comment">// for portable int types eg. uint32_t</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;libgen.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;sys/time.h&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;pthread.h&gt;</span> 
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="comment">// C++ libs</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;set&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;queue&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">// FLTK Gui includes</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;FL/Fl.H&gt;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &lt;FL/Fl_Box.H&gt;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &lt;FL/Fl_Gl_Window.H&gt;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &lt;FL/Fl_Menu_Bar.H&gt;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &lt;FL/Fl_Window.H&gt;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &lt;FL/fl_draw.H&gt;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &lt;FL/gl.h&gt;</span> <span class="comment">// FLTK takes care of platform-specific GL stuff</span>
<a name="l00064"></a>00064 <span class="comment">// except GLU</span>
<a name="l00065"></a>00065 <span class="preprocessor">#ifdef __APPLE__</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span><span class="preprocessor">#include &lt;OpenGL/glu.h&gt;</span>
<a name="l00067"></a>00067 <span class="preprocessor">#else</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span><span class="preprocessor">#include &lt;GL/glu.h&gt;</span>
<a name="l00069"></a>00069 <span class="preprocessor">#endif </span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>
<a name="l00072"></a>00072 <span class="keyword">namespace </span>Stg 
<a name="l00073"></a>00073 {
<a name="l00074"></a>00074   <span class="comment">// forward declare</span>
<a name="l00075"></a>00075   <span class="keyword">class </span>Block;
<a name="l00076"></a>00076   <span class="keyword">class </span>Canvas;
<a name="l00077"></a>00077   <span class="keyword">class </span>Cell;
<a name="l00078"></a>00078   <span class="keyword">class </span>Worldfile;
<a name="l00079"></a>00079   <span class="keyword">class </span>World;
<a name="l00080"></a>00080   <span class="keyword">class </span>WorldGui;
<a name="l00081"></a>00081   <span class="keyword">class </span>Model;
<a name="l00082"></a>00082   <span class="keyword">class </span>OptionsDlg;
<a name="l00083"></a>00083   <span class="keyword">class </span>Camera;
<a name="l00084"></a>00084   <span class="keyword">class </span>FileManager;
<a name="l00085"></a>00085   <span class="keyword">class </span>Option;
<a name="l00086"></a>00086   
<a name="l00087"></a><a class="code" href="namespaceStg.html#a61fe512d932794a555f2c3e63d483cb5">00087</a>   <span class="keyword">typedef</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* (*creator_t)( <a class="code" href="classStg_1_1World.html" title="World class">World</a>*, <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>*, <span class="keyword">const</span> std::string&amp; type );
<a name="l00088"></a>00088   
<a name="l00090"></a><a class="code" href="namespaceStg.html#acd0048e15bcc6c6a96056280ee31591b">00090</a>   <span class="keyword">typedef</span> std::set&lt;Model*&gt; <a class="code" href="namespaceStg.html#acd0048e15bcc6c6a96056280ee31591b">ModelPtrSet</a>;
<a name="l00091"></a>00091 
<a name="l00093"></a><a class="code" href="namespaceStg.html#a38d0c02cc28c516d9c490835a1e903a7">00093</a>   <span class="keyword">typedef</span> std::vector&lt;Model*&gt; <a class="code" href="namespaceStg.html#a38d0c02cc28c516d9c490835a1e903a7">ModelPtrVec</a>;
<a name="l00094"></a>00094 
<a name="l00096"></a><a class="code" href="namespaceStg.html#ad1222dfb12ac0408dbd8f292e99b4092">00096</a>   <span class="keyword">typedef</span> std::set&lt;Block*&gt; <a class="code" href="namespaceStg.html#ad1222dfb12ac0408dbd8f292e99b4092">BlockPtrSet</a>;
<a name="l00097"></a>00097 
<a name="l00099"></a><a class="code" href="namespaceStg.html#a67071608d422bdcf8e2520002c35151b">00099</a>   <span class="keyword">typedef</span> std::vector&lt;Cell*&gt; <a class="code" href="namespaceStg.html#a67071608d422bdcf8e2520002c35151b">CellPtrVec</a>;
<a name="l00100"></a>00100 
<a name="l00103"></a>00103   <span class="keywordtype">void</span> <a class="code" href="namespaceStg.html#a42592e46d158bb502087e84a6be606ec">Init</a>( <span class="keywordtype">int</span>* <a class="code" href="glutgraphics_8cc.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span>** <a class="code" href="glutgraphics_8cc.html#a67144f5e25315aba9d2d337a1c9e43d4">argv</a>[] );
<a name="l00104"></a>00104 
<a name="l00106"></a>00106   <span class="keywordtype">bool</span> <a class="code" href="namespaceStg.html#a230fac7c4d418e1ec88975914e9af7b7">InitDone</a>();
<a name="l00107"></a>00107   
<a name="l00110"></a>00110   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceStg.html#a52962c947a9ac0c21f0c4ed0697c847f">Version</a>();
<a name="l00111"></a>00111 
<a name="l00113"></a><a class="code" href="namespaceStg.html#ab7b97c87a071be0d05dc83c4a09d9b2a">00113</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="namespaceStg.html#ab7b97c87a071be0d05dc83c4a09d9b2a">COPYRIGHT</a>[] =                     
<a name="l00114"></a>00114     <span class="stringliteral">&quot;Copyright Richard Vaughan and contributors 2000-2009&quot;</span>;
<a name="l00115"></a>00115 
<a name="l00117"></a><a class="code" href="namespaceStg.html#ace6281855aca8d05bc4369fefad9a1d7">00117</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="namespaceStg.html#ace6281855aca8d05bc4369fefad9a1d7">AUTHORS</a>[] =                    
<a name="l00118"></a>00118     <span class="stringliteral">&quot;Richard Vaughan, Brian Gerkey, Andrew Howard, Reed Hedges, Pooya Karimian, Toby Collett, Jeremy Asher, Alex Couture-Beil and contributors.&quot;</span>;
<a name="l00119"></a>00119 
<a name="l00121"></a><a class="code" href="namespaceStg.html#a8096fa6c31e3cbc1ac3f3a9ef7f9f696">00121</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="namespaceStg.html#a8096fa6c31e3cbc1ac3f3a9ef7f9f696">WEBSITE</a>[] = <span class="stringliteral">&quot;http://playerstage.org&quot;</span>;
<a name="l00122"></a>00122 
<a name="l00124"></a><a class="code" href="namespaceStg.html#ab0123af3aa7274cb7b23ccef49ad059e">00124</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="namespaceStg.html#ab0123af3aa7274cb7b23ccef49ad059e">DESCRIPTION</a>[] =                       
<a name="l00125"></a>00125     <span class="stringliteral">&quot;Robot simulation library\nPart of the Player Project&quot;</span>;
<a name="l00126"></a>00126 
<a name="l00128"></a><a class="code" href="namespaceStg.html#ada51f5471e3d800c393197299cedb171">00128</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="namespaceStg.html#ada51f5471e3d800c393197299cedb171">LICENSE</a>[] = 
<a name="l00129"></a>00129     <span class="stringliteral">&quot;Stage robot simulation library\n&quot;</span>                  \
<a name="l00130"></a>00130     <span class="stringliteral">&quot;Copyright (C) 2000-2009 Richard Vaughan and contributors\n&quot;</span>    \
<a name="l00131"></a>00131     <span class="stringliteral">&quot;Part of the Player Project [http://playerstage.org]\n&quot;</span>     \
<a name="l00132"></a>00132     <span class="stringliteral">&quot;\n&quot;</span>                                \
<a name="l00133"></a>00133     <span class="stringliteral">&quot;This program is free software; you can redistribute it and/or\n&quot;</span>   \
<a name="l00134"></a>00134     <span class="stringliteral">&quot;modify it under the terms of the GNU General Public License\n&quot;</span> \
<a name="l00135"></a>00135     <span class="stringliteral">&quot;as published by the Free Software Foundation; either version 2\n&quot;</span>  \
<a name="l00136"></a>00136     <span class="stringliteral">&quot;of the License, or (at your option) any later version.\n&quot;</span>      \
<a name="l00137"></a>00137     <span class="stringliteral">&quot;\n&quot;</span>                                \
<a name="l00138"></a>00138     <span class="stringliteral">&quot;This program is distributed in the hope that it will be useful,\n&quot;</span> \
<a name="l00139"></a>00139     <span class="stringliteral">&quot;but WITHOUT ANY WARRANTY; without even the implied warranty of\n&quot;</span>  \
<a name="l00140"></a>00140     <span class="stringliteral">&quot;MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n&quot;</span>   \
<a name="l00141"></a>00141     <span class="stringliteral">&quot;GNU General Public License for more details.\n&quot;</span>            \
<a name="l00142"></a>00142     <span class="stringliteral">&quot;\n&quot;</span>                                \
<a name="l00143"></a>00143     <span class="stringliteral">&quot;You should have received a copy of the GNU General Public License\n&quot;</span> \
<a name="l00144"></a>00144     <span class="stringliteral">&quot;along with this program; if not, write to the Free Software\n&quot;</span> \
<a name="l00145"></a>00145     <span class="stringliteral">&quot;Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n&quot;</span> \
<a name="l00146"></a>00146     <span class="stringliteral">&quot;\n&quot;</span>                                \
<a name="l00147"></a>00147     <span class="stringliteral">&quot;The text of the license may also be available online at\n&quot;</span>     \
<a name="l00148"></a>00148     <span class="stringliteral">&quot;http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n&quot;</span>;
<a name="l00149"></a>00149   
<a name="l00151"></a><a class="code" href="namespaceStg.html#a50faac9c121b9c4496c631c32623a20d">00151</a>   <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#a50faac9c121b9c4496c631c32623a20d">thousand</a> = 1e3;
<a name="l00152"></a>00152 
<a name="l00154"></a><a class="code" href="namespaceStg.html#a2b2438eb22bf4523f996ff05bf780697">00154</a>   <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#a2b2438eb22bf4523f996ff05bf780697">million</a> = 1e6;
<a name="l00155"></a>00155 
<a name="l00157"></a><a class="code" href="namespaceStg.html#a6b48d9934f07f652f5c2c628152510e7">00157</a>   <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#a6b48d9934f07f652f5c2c628152510e7">billion</a> = 1e9;
<a name="l00158"></a>00158 
<a name="l00160"></a><a class="code" href="namespaceStg.html#add89bf71be99c7d64bf895742ffd67a8">00160</a>   <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#add89bf71be99c7d64bf895742ffd67a8">rtod</a>( <span class="keywordtype">double</span> r ){ <span class="keywordflow">return</span>( r*180.0/M_PI ); }
<a name="l00161"></a>00161   
<a name="l00163"></a><a class="code" href="namespaceStg.html#ad0d71ea2ba3f32c96398be40af8e8f05">00163</a>   <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#ad0d71ea2ba3f32c96398be40af8e8f05">dtor</a>( <span class="keywordtype">double</span> d ){ <span class="keywordflow">return</span>( d*M_PI/180.0 ); }
<a name="l00164"></a>00164   
<a name="l00166"></a><a class="code" href="namespaceStg.html#a3286ac1126b0271b382082295f5f11d9">00166</a>   <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#a3286ac1126b0271b382082295f5f11d9">normalize</a>( <span class="keywordtype">double</span> a )
<a name="l00167"></a>00167   {
<a name="l00168"></a>00168      <span class="keywordflow">while</span>( a &lt; -M_PI ) a += 2.0*M_PI;
<a name="l00169"></a>00169      <span class="keywordflow">while</span>( a &gt;  M_PI ) a -= 2.0*M_PI;   
<a name="l00170"></a>00170      <span class="keywordflow">return</span> a;
<a name="l00171"></a>00171   };
<a name="l00172"></a>00172     
<a name="l00174"></a><a class="code" href="namespaceStg.html#ac088b4cd291a1ffe77670c717357c6fd">00174</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="namespaceStg.html#ac088b4cd291a1ffe77670c717357c6fd">sgn</a>( <span class="keywordtype">int</span> a){ <span class="keywordflow">return</span>( a&lt;0 ? -1 : 1); }
<a name="l00175"></a>00175     
<a name="l00177"></a><a class="code" href="namespaceStg.html#afadbd482070d7a79d7f132d86b94d924">00177</a>   <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#ac088b4cd291a1ffe77670c717357c6fd">sgn</a>( <span class="keywordtype">double</span> a){ <span class="keywordflow">return</span>( a&lt;0 ? -1.0 : 1.0); }
<a name="l00178"></a>00178   
<a name="l00180"></a><a class="code" href="namespaceStg.html#a83a97b5ba8f196c6a0da6ac2d63211eda4ae9ce1a8829ac09f8e729413cbfaa3b">00180</a>   <span class="keyword">enum</span> { <a class="code" href="namespaceStg.html#a83a97b5ba8f196c6a0da6ac2d63211eda4ae9ce1a8829ac09f8e729413cbfaa3b">FiducialNone</a> = 0 };
<a name="l00181"></a>00181 
<a name="l00183"></a><a class="code" href="namespaceStg.html#a64f0d1542989f3a92bff9351ac9eacbd">00183</a>   <span class="keyword">typedef</span> uint32_t <a class="code" href="namespaceStg.html#a64f0d1542989f3a92bff9351ac9eacbd">id_t</a>;
<a name="l00184"></a>00184 
<a name="l00186"></a><a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">00186</a>   <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a>;
<a name="l00187"></a>00187 
<a name="l00189"></a><a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">00189</a>   <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a>;
<a name="l00190"></a>00190 
<a name="l00192"></a><a class="code" href="namespaceStg.html#a561f229a0718c4d0aaa1c39b8dd495c6">00192</a>   <span class="keyword">typedef</span> <span class="keyword">struct </span>timeval <a class="code" href="namespaceStg.html#a561f229a0718c4d0aaa1c39b8dd495c6">time_t</a>;
<a name="l00193"></a>00193 
<a name="l00195"></a><a class="code" href="namespaceStg.html#a3dbd06bfdb604e38e02d1a87c4cddb00">00195</a>   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespaceStg.html#a3dbd06bfdb604e38e02d1a87c4cddb00">msec_t</a>;
<a name="l00196"></a>00196 
<a name="l00198"></a><a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">00198</a>   <span class="keyword">typedef</span> uint64_t <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a>;
<a name="l00199"></a>00199 
<a name="l00201"></a><a class="code" href="namespaceStg.html#ac61562289fd5fb2461740d9d4c89db6c">00201</a>   <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#ac61562289fd5fb2461740d9d4c89db6c">kg_t</a>; <span class="comment">// Kilograms (mass)</span>
<a name="l00202"></a>00202 
<a name="l00204"></a><a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">00204</a>   <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a>;
<a name="l00205"></a>00205 
<a name="l00207"></a><a class="code" href="namespaceStg.html#aaf07f5b0b05dd2d9892578ece58bd74d">00207</a>   <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#aaf07f5b0b05dd2d9892578ece58bd74d">watts_t</a>;
<a name="l00208"></a>00208   
<a name="l00209"></a><a class="code" href="classStg_1_1Color.html">00209</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Color.html">Color</a>
<a name="l00210"></a>00210   {
<a name="l00211"></a>00211   <span class="keyword">public</span>:
<a name="l00212"></a><a class="code" href="classStg_1_1Color.html#a6cafc68c2e9dcdc4cb1633532930793a">00212</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Color.html#a6cafc68c2e9dcdc4cb1633532930793a">r</a>,<a class="code" href="classStg_1_1Color.html#aa3e9761187fd9b97b7d3323412b979ef">g</a>,<a class="code" href="classStg_1_1Color.html#a2b50bd3c54c9b3a4506e3e80be626196">b</a>,<a class="code" href="classStg_1_1Color.html#a8c968e8f6f1c8077bd02a739a7df3b7e">a</a>;
<a name="l00213"></a>00213     
<a name="l00214"></a>00214      <a class="code" href="classStg_1_1Color.html#a9a742cbe9f9f4037f5d9f4e81a9b2428">Color</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Color.html#a6cafc68c2e9dcdc4cb1633532930793a">r</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Color.html#aa3e9761187fd9b97b7d3323412b979ef">g</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Color.html#a2b50bd3c54c9b3a4506e3e80be626196">b</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Color.html#a8c968e8f6f1c8077bd02a739a7df3b7e">a</a>=1.0 );
<a name="l00215"></a>00215     
<a name="l00219"></a>00219      <a class="code" href="classStg_1_1Color.html#a9a742cbe9f9f4037f5d9f4e81a9b2428">Color</a>( <span class="keyword">const</span> std::string&amp; name );  
<a name="l00220"></a>00220     
<a name="l00221"></a>00221      <a class="code" href="classStg_1_1Color.html#a9a742cbe9f9f4037f5d9f4e81a9b2428">Color</a>();
<a name="l00222"></a>00222     
<a name="l00223"></a>00223      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Color.html#a26a76773840d4e600740653cb6c56571">operator!=</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Color.html">Color</a>&amp; other ) <span class="keyword">const</span>;
<a name="l00224"></a>00224      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Color.html#aa5e31eca29f94f3ea9d91bd8cd159558">operator==</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Color.html">Color</a>&amp; other ) <span class="keyword">const</span>;
<a name="l00225"></a>00225      <span class="keyword">static</span> <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1Color.html#a5a50d5a5bc7c5007992def88fc3824ff">RandomColor</a>();
<a name="l00226"></a>00226      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Color.html#a339dc97f0ceda008146c3689cdf9fa05">Print</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix ) <span class="keyword">const</span>;
<a name="l00227"></a>00227 
<a name="l00229"></a><a class="code" href="classStg_1_1Color.html#a412e363e456165ede1fe411639b72af2">00229</a>         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1Color.html#aa87280fb8d4db0eef8abb75f8b38f454">blue</a>, <a class="code" href="classStg_1_1Color.html#ae49463e1304b7b86b2c6df689c6bbb21">red</a>, <a class="code" href="classStg_1_1Color.html#a750a35e6278b39e348c2757db54fdda7">green</a>, <a class="code" href="classStg_1_1Color.html#a412e363e456165ede1fe411639b72af2">yellow</a>, <a class="code" href="classStg_1_1Color.html#aef8e459e9c324ae76adede4ee8c89863">magenta</a>, <a class="code" href="classStg_1_1Color.html#a21312bf978adb06dddc6b28c050d1e97">cyan</a>;
<a name="l00230"></a>00230 
<a name="l00231"></a>00231         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Color.html#aadb9751aa1d84368491f823b7dedf4c8">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l00232"></a>00232   };
<a name="l00233"></a>00233   
<a name="l00235"></a><a class="code" href="classStg_1_1Size.html">00235</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Size.html">Size</a>
<a name="l00236"></a>00236   {
<a name="l00237"></a>00237   <span class="keyword">public</span>:
<a name="l00238"></a><a class="code" href="classStg_1_1Size.html#a67e6fed9c1bfd1848d9402f96983e754">00238</a>     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Size.html#a4ee5c635ebb0a5119f03421d6403ab33">x</a>, <a class="code" href="classStg_1_1Size.html#aa90d590f6470b4c14c3fd2feb3b7f189">y</a>, <a class="code" href="classStg_1_1Size.html#a67e6fed9c1bfd1848d9402f96983e754">z</a>;
<a name="l00239"></a>00239     
<a name="l00240"></a><a class="code" href="classStg_1_1Size.html#acdb4cacd24f79e0e1aa0127037af5ff1">00240</a>     <a class="code" href="classStg_1_1Size.html#a73c610106439b32b89782ddc11a73710">Size</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Size.html#a4ee5c635ebb0a5119f03421d6403ab33">x</a>, 
<a name="l00241"></a>00241              <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Size.html#aa90d590f6470b4c14c3fd2feb3b7f189">y</a>, 
<a name="l00242"></a>00242              <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Size.html#a67e6fed9c1bfd1848d9402f96983e754">z</a> )
<a name="l00243"></a>00243       : x(x), y(y), z(z)
<a name="l00244"></a>00244     {<span class="comment">/*empty*/</span>}
<a name="l00245"></a>00245     
<a name="l00247"></a><a class="code" href="classStg_1_1Size.html#a73c610106439b32b89782ddc11a73710">00247</a>     <a class="code" href="classStg_1_1Size.html#a73c610106439b32b89782ddc11a73710">Size</a>() : <a class="code" href="classStg_1_1Size.html#a4ee5c635ebb0a5119f03421d6403ab33">x</a>( 0.4 ), <a class="code" href="classStg_1_1Size.html#aa90d590f6470b4c14c3fd2feb3b7f189">y</a>( 0.4 ), <a class="code" href="classStg_1_1Size.html#a67e6fed9c1bfd1848d9402f96983e754">z</a>( 1.0 )
<a name="l00248"></a>00248     {<span class="comment">/*empty*/</span>} 
<a name="l00249"></a>00249     
<a name="l00250"></a>00250      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Size.html#aaac21f2a2f04659b93e3e7951d8d8703">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> section, <span class="keyword">const</span> <span class="keywordtype">char</span>* keyword );
<a name="l00251"></a>00251      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Size.html#ab90d8bd50a4bc9bfeeb683d07d225e3f">Save</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> section, <span class="keyword">const</span> <span class="keywordtype">char</span>* keyword ) <span class="keyword">const</span>;
<a name="l00252"></a>00252      
<a name="l00253"></a><a class="code" href="classStg_1_1Size.html#a8a3ee890f3ea1f4aff86d30bc0f61678">00253</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Size.html#a8a3ee890f3ea1f4aff86d30bc0f61678">Zero</a>()
<a name="l00254"></a>00254      { <a class="code" href="classStg_1_1Size.html#a4ee5c635ebb0a5119f03421d6403ab33">x</a>=<a class="code" href="classStg_1_1Size.html#aa90d590f6470b4c14c3fd2feb3b7f189">y</a>=<a class="code" href="classStg_1_1Size.html#a67e6fed9c1bfd1848d9402f96983e754">z</a>=0.0; }
<a name="l00255"></a>00255   };
<a name="l00256"></a>00256   
<a name="l00258"></a><a class="code" href="classStg_1_1Pose.html">00258</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Pose.html">Pose</a>
<a name="l00259"></a>00259   {
<a name="l00260"></a>00260   <span class="keyword">public</span>:
<a name="l00261"></a><a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8">00261</a>     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>, <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>, <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>;
<a name="l00262"></a><a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3">00262</a>     <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>;
<a name="l00263"></a>00263     
<a name="l00264"></a><a class="code" href="classStg_1_1Pose.html#a3dd51d7514142a78fe1ef1c224be55c9">00264</a>     <a class="code" href="classStg_1_1Pose.html#ac29c3dd62956ae91e2a30bb0e25acf4f">Pose</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>, 
<a name="l00265"></a>00265              <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>, 
<a name="l00266"></a>00266              <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>,
<a name="l00267"></a>00267              <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> ) 
<a name="l00268"></a>00268       : x(x), y(y), z(z), a(a)
<a name="l00269"></a>00269     { <span class="comment">/*empty*/</span> }
<a name="l00270"></a>00270     
<a name="l00271"></a><a class="code" href="classStg_1_1Pose.html#ac29c3dd62956ae91e2a30bb0e25acf4f">00271</a>     <a class="code" href="classStg_1_1Pose.html#ac29c3dd62956ae91e2a30bb0e25acf4f">Pose</a>() : <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>(0.0), <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>(0.0), <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>(0.0), <a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>(0.0)
<a name="l00272"></a>00272     { <span class="comment">/*empty*/</span> }        
<a name="l00273"></a>00273     
<a name="l00274"></a><a class="code" href="classStg_1_1Pose.html#a6fea6905d63e90bde969353bf7226783">00274</a>     <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Pose.html#a6fea6905d63e90bde969353bf7226783">~Pose</a>(){};
<a name="l00275"></a>00275     
<a name="l00278"></a><a class="code" href="classStg_1_1Pose.html#aff5c52b253ea0d49ad8b1894931a26f3">00278</a>     <span class="keyword">static</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Pose.html#aff5c52b253ea0d49ad8b1894931a26f3">Random</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> xmin, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> xmax, 
<a name="l00279"></a>00279                                 <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> ymin, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> ymax )
<a name="l00280"></a>00280     {        
<a name="l00281"></a>00281       <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Pose.html#ac29c3dd62956ae91e2a30bb0e25acf4f">Pose</a>( xmin + drand48() * (xmax-xmin),
<a name="l00282"></a>00282                          ymin + drand48() * (ymax-ymin),
<a name="l00283"></a>00283                          0, 
<a name="l00284"></a>00284                          <a class="code" href="namespaceStg.html#a3286ac1126b0271b382082295f5f11d9">normalize</a>( drand48() * (2.0 * M_PI) ));
<a name="l00285"></a>00285     }
<a name="l00286"></a>00286     
<a name="l00290"></a><a class="code" href="classStg_1_1Pose.html#a8a5b8d94aee5dae0fee50e3330b03f75">00290</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Pose.html#a8a5b8d94aee5dae0fee50e3330b03f75">Print</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix )<span class="keyword"> const</span>
<a name="l00291"></a>00291 <span class="keyword">    </span>{
<a name="l00292"></a>00292       printf( <span class="stringliteral">&quot;%s pose [x:%.3f y:%.3f z:%.3f a:%.3f]\n&quot;</span>,
<a name="l00293"></a>00293                   prefix, <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>,<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>,<a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>,<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> );
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295     
<a name="l00296"></a><a class="code" href="classStg_1_1Pose.html#ad0e96e6239ce6fb54012b4b12f86355f">00296</a>      std::string <a class="code" href="classStg_1_1Pose.html#ad0e96e6239ce6fb54012b4b12f86355f">String</a>()<span class="keyword"> const</span>
<a name="l00297"></a>00297 <span class="keyword">     </span>{
<a name="l00298"></a>00298         <span class="keywordtype">char</span> buf[256];
<a name="l00299"></a>00299         snprintf( buf, 256, <span class="stringliteral">&quot;[ %.3f %.3f %.3f %.3f ]&quot;</span>,
<a name="l00300"></a>00300                      <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>,<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>,<a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>,<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> );
<a name="l00301"></a>00301         <span class="keywordflow">return</span> std::string(buf);
<a name="l00302"></a>00302      }
<a name="l00303"></a>00303     
<a name="l00304"></a>00304      <span class="comment">/* returns true iff all components of the velocity are zero. */</span>
<a name="l00305"></a><a class="code" href="classStg_1_1Pose.html#aaa9aa82886e4fac4234461b16c7e2f19">00305</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Pose.html#aaa9aa82886e4fac4234461b16c7e2f19">IsZero</a>()<span class="keyword"> const </span>
<a name="l00306"></a>00306 <span class="keyword">     </span>{ <span class="keywordflow">return</span>( !(<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> || <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a> || <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a> || <a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> )); };
<a name="l00307"></a>00307     
<a name="l00309"></a><a class="code" href="classStg_1_1Pose.html#add756d85e19791bff97d3a856efe58cf">00309</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Pose.html#add756d85e19791bff97d3a856efe58cf">Zero</a>()
<a name="l00310"></a>00310      { <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>=<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>=<a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>=<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>=0.0; }
<a name="l00311"></a>00311     
<a name="l00312"></a>00312      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Pose.html#a415e2e9d701c0fc1c0a5c391e76e5758">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> section, <span class="keyword">const</span> <span class="keywordtype">char</span>* keyword );
<a name="l00313"></a>00313      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Pose.html#afba1952f84485ff3afdb6875146524f7">Save</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> section, <span class="keyword">const</span> <span class="keywordtype">char</span>* keyword );
<a name="l00314"></a>00314     
<a name="l00315"></a><a class="code" href="classStg_1_1Pose.html#a1d7f10140f8c9e0a2965792e7f38bd6b">00315</a>      <span class="keyword">inline</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Pose.html#a1d7f10140f8c9e0a2965792e7f38bd6b">operator+</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; p )<span class="keyword"> const</span>
<a name="l00316"></a>00316 <span class="keyword">     </span>{
<a name="l00317"></a>00317         <span class="keyword">const</span> <span class="keywordtype">double</span> cosa = cos(<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>);
<a name="l00318"></a>00318         <span class="keyword">const</span> <span class="keywordtype">double</span> sina = sin(<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>);
<a name="l00319"></a>00319       
<a name="l00320"></a>00320         <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Pose.html#ac29c3dd62956ae91e2a30bb0e25acf4f">Pose</a>( <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> + p.<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> * cosa - p.<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a> * sina,
<a name="l00321"></a>00321                          <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a> + p.<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> * sina + p.<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a> * cosa,
<a name="l00322"></a>00322                          <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a> + p.<a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>,
<a name="l00323"></a>00323                          <a class="code" href="namespaceStg.html#a3286ac1126b0271b382082295f5f11d9">normalize</a>(<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> + p.<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>) );   
<a name="l00324"></a>00324      }  
<a name="l00325"></a>00325      
<a name="l00326"></a>00326      <span class="comment">// a &lt; b iff a is closer to the origin than b</span>
<a name="l00327"></a><a class="code" href="classStg_1_1Pose.html#a9d108132f20dfe1e2727e03be26e37f0">00327</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Pose.html#a9d108132f20dfe1e2727e03be26e37f0">operator&lt;</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; other )<span class="keyword"> const</span>
<a name="l00328"></a>00328 <span class="keyword">     </span>{
<a name="l00329"></a>00329         <span class="keywordflow">return</span>( hypot( <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>, <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> ) &lt; hypot( other.<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>, other.<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> ));
<a name="l00330"></a>00330      }
<a name="l00331"></a>00331      
<a name="l00332"></a><a class="code" href="classStg_1_1Pose.html#aaa6b185b386b569b935ad49aea12144f">00332</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Pose.html#aaa6b185b386b569b935ad49aea12144f">operator==</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; other )<span class="keyword"> const</span>
<a name="l00333"></a>00333 <span class="keyword">     </span>{
<a name="l00334"></a>00334         <span class="keywordflow">return</span>(  <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>==other.<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> &amp;&amp; 
<a name="l00335"></a>00335                     <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>==other.<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a> &amp;&amp; 
<a name="l00336"></a>00336                     <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>==other.<a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a> &amp;&amp; 
<a name="l00337"></a>00337                     <a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>==other.<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> );
<a name="l00338"></a>00338      }
<a name="l00339"></a>00339 
<a name="l00340"></a><a class="code" href="classStg_1_1Pose.html#a770154fe5aa71741fde0569f28dc0251">00340</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Pose.html#a770154fe5aa71741fde0569f28dc0251">operator!=</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; other )<span class="keyword"> const</span>
<a name="l00341"></a>00341 <span class="keyword">     </span>{
<a name="l00342"></a>00342         <span class="keywordflow">return</span>(  <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>!=other.<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a> ||
<a name="l00343"></a>00343                     <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>!=other.<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a> || 
<a name="l00344"></a>00344                     <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>!=other.<a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a> || 
<a name="l00345"></a>00345                     <a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>!=other.<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> );
<a name="l00346"></a>00346      }
<a name="l00347"></a>00347      
<a name="l00348"></a><a class="code" href="classStg_1_1Pose.html#a0344157cac8f0607b0e757339aa3bd67">00348</a>      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a0344157cac8f0607b0e757339aa3bd67">Distance2D</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; other )<span class="keyword"> const</span>
<a name="l00349"></a>00349 <span class="keyword">     </span>{
<a name="l00350"></a>00350         <span class="keywordflow">return</span> hypot( <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>-other.<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>, <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>-other.<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a> );
<a name="l00351"></a>00351      }
<a name="l00352"></a>00352   };
<a name="l00353"></a>00353   
<a name="l00354"></a>00354   
<a name="l00357"></a><a class="code" href="classStg_1_1Velocity.html">00357</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Velocity.html">Velocity</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>
<a name="l00358"></a>00358   {
<a name="l00359"></a>00359   <span class="keyword">public</span>:
<a name="l00365"></a><a class="code" href="classStg_1_1Velocity.html#a91155aad763e8e653c556c9bbb1e38d4">00365</a>     <a class="code" href="classStg_1_1Velocity.html#ae6c34a71040242a5d24013da84f1b98f">Velocity</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>, 
<a name="l00366"></a>00366                   <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>, 
<a name="l00367"></a>00367                   <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>,
<a name="l00368"></a>00368                   <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> ) :
<a name="l00369"></a>00369         <a class="code" href="classStg_1_1Pose.html">Pose</a>( x, y, z, a )
<a name="l00370"></a>00370     { <span class="comment">/*empty*/</span> }
<a name="l00371"></a>00371     
<a name="l00372"></a><a class="code" href="classStg_1_1Velocity.html#ae6c34a71040242a5d24013da84f1b98f">00372</a>     <a class="code" href="classStg_1_1Velocity.html#ae6c34a71040242a5d24013da84f1b98f">Velocity</a>()
<a name="l00373"></a>00373     { <span class="comment">/*empty*/</span> }        
<a name="l00374"></a>00374     
<a name="l00380"></a><a class="code" href="classStg_1_1Velocity.html#a7b7d4ab3ac39c5cf181a9ac47f3d5a01">00380</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Velocity.html#a7b7d4ab3ac39c5cf181a9ac47f3d5a01">Print</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix )<span class="keyword"> const</span>
<a name="l00381"></a>00381 <span class="keyword">    </span>{
<a name="l00382"></a>00382         <span class="keywordflow">if</span>( prefix )
<a name="l00383"></a>00383           printf( <span class="stringliteral">&quot;%s&quot;</span>, prefix );
<a name="l00384"></a>00384         
<a name="l00385"></a>00385         printf( <span class="stringliteral">&quot;velocity [x:%.3f y:%.3f z:%3.f a:%.3f]\n&quot;</span>,
<a name="l00386"></a>00386                   <a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>,<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>,<a class="code" href="classStg_1_1Pose.html#a530248533130000cebc263857b4dd2a8" title="location in 3 axes">z</a>,<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a> );        
<a name="l00387"></a>00387     }    
<a name="l00388"></a>00388   };
<a name="l00389"></a>00389   
<a name="l00392"></a><a class="code" href="classStg_1_1Geom.html">00392</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Geom.html">Geom</a>
<a name="l00393"></a>00393   {
<a name="l00394"></a>00394   <span class="keyword">public</span>:
<a name="l00395"></a><a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731">00395</a>     <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a>;
<a name="l00396"></a><a class="code" href="classStg_1_1Geom.html#aea93a59dd7041460ee29c99dbec82a50">00396</a>     <a class="code" href="classStg_1_1Size.html">Size</a> <a class="code" href="classStg_1_1Geom.html#aea93a59dd7041460ee29c99dbec82a50" title="extent">size</a>;
<a name="l00397"></a>00397     
<a name="l00403"></a><a class="code" href="classStg_1_1Geom.html#af70caf20368c7b53f85721a626062a8a">00403</a>     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Geom.html#af70caf20368c7b53f85721a626062a8a">Print</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix )<span class="keyword"> const</span>
<a name="l00404"></a>00404 <span class="keyword">    </span>{
<a name="l00405"></a>00405         <span class="keywordflow">if</span>( prefix )
<a name="l00406"></a>00406           printf( <span class="stringliteral">&quot;%s&quot;</span>, prefix );
<a name="l00407"></a>00407         
<a name="l00408"></a>00408         printf( <span class="stringliteral">&quot;geom pose: (%.2f,%.2f,%.2f) size: [%.2f,%.2f]\n&quot;</span>,
<a name="l00409"></a>00409                   <a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a>.<a class="code" href="classStg_1_1Pose.html#a11eda54b12da9faf1e0ffebf7d52c76f">x</a>,
<a name="l00410"></a>00410                   <a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a>.<a class="code" href="classStg_1_1Pose.html#a50a48a2438685b22e1c86dc9f9390eaa">y</a>,
<a name="l00411"></a>00411                   <a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a>.<a class="code" href="classStg_1_1Pose.html#af0d106882ac51b78517c59477ce54be3" title="rotation about the z axis.">a</a>,
<a name="l00412"></a>00412                   <a class="code" href="classStg_1_1Geom.html#aea93a59dd7041460ee29c99dbec82a50" title="extent">size</a>.<a class="code" href="classStg_1_1Size.html#a4ee5c635ebb0a5119f03421d6403ab33">x</a>,
<a name="l00413"></a>00413                   <a class="code" href="classStg_1_1Geom.html#aea93a59dd7041460ee29c99dbec82a50" title="extent">size</a>.<a class="code" href="classStg_1_1Size.html#aa90d590f6470b4c14c3fd2feb3b7f189">y</a> );
<a name="l00414"></a>00414     }
<a name="l00415"></a>00415      
<a name="l00417"></a><a class="code" href="classStg_1_1Geom.html#a8b242a718fe0f06ad3605b54fef88552">00417</a>      <a class="code" href="classStg_1_1Geom.html#a8b242a718fe0f06ad3605b54fef88552">Geom</a>() : <a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a>(), <a class="code" href="classStg_1_1Geom.html#aea93a59dd7041460ee29c99dbec82a50" title="extent">size</a>() {}
<a name="l00418"></a>00418 
<a name="l00420"></a><a class="code" href="classStg_1_1Geom.html#a40ab4661cf16dd5c9831b014870e7d25">00420</a>      <a class="code" href="classStg_1_1Geom.html#a40ab4661cf16dd5c9831b014870e7d25">Geom</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; p, <span class="keyword">const</span> <a class="code" href="classStg_1_1Size.html">Size</a>&amp; <a class="code" href="glutgraphics_8cc.html#a874f74a4dc1c9a0cd9c6e0d79c298f55">s</a> ) : <a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a>(p), <a class="code" href="classStg_1_1Geom.html#aea93a59dd7041460ee29c99dbec82a50" title="extent">size</a>(s) {}
<a name="l00421"></a>00421      
<a name="l00422"></a><a class="code" href="classStg_1_1Geom.html#a1a00212d04fde7577ca18fd61853e7d0">00422</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Geom.html#a1a00212d04fde7577ca18fd61853e7d0">Zero</a>()
<a name="l00423"></a>00423      {
<a name="l00424"></a>00424         <a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a>.<a class="code" href="classStg_1_1Pose.html#add756d85e19791bff97d3a856efe58cf">Zero</a>();
<a name="l00425"></a>00425         <a class="code" href="classStg_1_1Geom.html#aea93a59dd7041460ee29c99dbec82a50" title="extent">size</a>.<a class="code" href="classStg_1_1Size.html#a8a3ee890f3ea1f4aff86d30bc0f61678">Zero</a>();
<a name="l00426"></a>00426      }
<a name="l00427"></a>00427   };
<a name="l00428"></a>00428   
<a name="l00430"></a><a class="code" href="classStg_1_1Bounds.html">00430</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Bounds.html">Bounds</a>
<a name="l00431"></a>00431   {
<a name="l00432"></a>00432   <span class="keyword">public</span>:
<a name="l00434"></a><a class="code" href="classStg_1_1Bounds.html#a6738da3593693428c3e47dd9882dbcc7">00434</a>     <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Bounds.html#a6738da3593693428c3e47dd9882dbcc7" title="smallest value in range, initially zero">min</a>;
<a name="l00436"></a><a class="code" href="classStg_1_1Bounds.html#a602199ec931349ad7c5aba242e3f12db">00436</a>     <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Bounds.html#a602199ec931349ad7c5aba242e3f12db" title="largest value in range, initially zero">max</a>; 
<a name="l00437"></a>00437     
<a name="l00438"></a><a class="code" href="classStg_1_1Bounds.html#a46475c5477ea6079361dc1ead79da517">00438</a>     <a class="code" href="classStg_1_1Bounds.html#a46475c5477ea6079361dc1ead79da517">Bounds</a>() : <a class="code" href="classStg_1_1Bounds.html#a6738da3593693428c3e47dd9882dbcc7" title="smallest value in range, initially zero">min</a>(0), <a class="code" href="classStg_1_1Bounds.html#a602199ec931349ad7c5aba242e3f12db" title="largest value in range, initially zero">max</a>(0) { <span class="comment">/* empty*/</span>  }
<a name="l00439"></a><a class="code" href="classStg_1_1Bounds.html#a9b218f08d2230901250f0ddf85400dbe">00439</a>     <a class="code" href="classStg_1_1Bounds.html#a9b218f08d2230901250f0ddf85400dbe">Bounds</a>( <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Bounds.html#a6738da3593693428c3e47dd9882dbcc7" title="smallest value in range, initially zero">min</a>, <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Bounds.html#a602199ec931349ad7c5aba242e3f12db" title="largest value in range, initially zero">max</a> ) : min(min), max(max) { <span class="comment">/* empty*/</span>  }
<a name="l00440"></a>00440 
<a name="l00441"></a>00441         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Bounds.html#ac62c9130700ea2286114ef6eb7fd5622">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> section, <span class="keyword">const</span> <span class="keywordtype">char</span>* keyword );
<a name="l00442"></a>00442   };
<a name="l00443"></a>00443     
<a name="l00445"></a><a class="code" href="classStg_1_1bounds3d__t.html">00445</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1bounds3d__t.html">bounds3d_t</a>
<a name="l00446"></a>00446   {
<a name="l00447"></a>00447   <span class="keyword">public</span>:
<a name="l00449"></a><a class="code" href="classStg_1_1bounds3d__t.html#a6ae33f1cff491c44d79e7bc4d44c59f2">00449</a>     <a class="code" href="classStg_1_1Bounds.html">Bounds</a> <a class="code" href="classStg_1_1bounds3d__t.html#a6ae33f1cff491c44d79e7bc4d44c59f2" title="volume extent along x axis, intially zero">x</a>; 
<a name="l00451"></a><a class="code" href="classStg_1_1bounds3d__t.html#af1c970ed9623f0ec04a0d3f8682f8434">00451</a>     <a class="code" href="classStg_1_1Bounds.html">Bounds</a> <a class="code" href="classStg_1_1bounds3d__t.html#af1c970ed9623f0ec04a0d3f8682f8434" title="volume extent along y axis, initially zero">y</a>; 
<a name="l00453"></a><a class="code" href="classStg_1_1bounds3d__t.html#a8380fbaa755bf066ab78c74155963258">00453</a>     <a class="code" href="classStg_1_1Bounds.html">Bounds</a> <a class="code" href="classStg_1_1bounds3d__t.html#a8380fbaa755bf066ab78c74155963258" title="volume extent along z axis, initially zero">z</a>; 
<a name="l00454"></a>00454 
<a name="l00455"></a><a class="code" href="classStg_1_1bounds3d__t.html#abb8fe24b930e886fb72cf753cf215a76">00455</a>      <a class="code" href="classStg_1_1bounds3d__t.html#abb8fe24b930e886fb72cf753cf215a76">bounds3d_t</a>() : <a class="code" href="classStg_1_1bounds3d__t.html#a6ae33f1cff491c44d79e7bc4d44c59f2" title="volume extent along x axis, intially zero">x</a>(), <a class="code" href="classStg_1_1bounds3d__t.html#af1c970ed9623f0ec04a0d3f8682f8434" title="volume extent along y axis, initially zero">y</a>(), <a class="code" href="classStg_1_1bounds3d__t.html#a8380fbaa755bf066ab78c74155963258" title="volume extent along z axis, initially zero">z</a>() {}
<a name="l00456"></a><a class="code" href="classStg_1_1bounds3d__t.html#af15c5890026e3941073d245eb30bc9e1">00456</a>      <a class="code" href="classStg_1_1bounds3d__t.html#abb8fe24b930e886fb72cf753cf215a76">bounds3d_t</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Bounds.html">Bounds</a>&amp; <a class="code" href="classStg_1_1bounds3d__t.html#a6ae33f1cff491c44d79e7bc4d44c59f2" title="volume extent along x axis, intially zero">x</a>, <span class="keyword">const</span> <a class="code" href="classStg_1_1Bounds.html">Bounds</a>&amp; <a class="code" href="classStg_1_1bounds3d__t.html#af1c970ed9623f0ec04a0d3f8682f8434" title="volume extent along y axis, initially zero">y</a>, <span class="keyword">const</span> <a class="code" href="classStg_1_1Bounds.html">Bounds</a>&amp; <a class="code" href="classStg_1_1bounds3d__t.html#a8380fbaa755bf066ab78c74155963258" title="volume extent along z axis, initially zero">z</a>) 
<a name="l00457"></a>00457         : x(x), y(y), z(z) {}
<a name="l00458"></a>00458   };
<a name="l00459"></a>00459   
<a name="l00461"></a><a class="code" href="structStg_1_1fov__t.html">00461</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00462"></a>00462   {
<a name="l00463"></a><a class="code" href="structStg_1_1fov__t.html#a7c176a097070cc685353a4a911e67c71">00463</a>     <a class="code" href="classStg_1_1Bounds.html">Bounds</a> <a class="code" href="structStg_1_1fov__t.html#a7c176a097070cc685353a4a911e67c71" title="min and max range of sensor">range</a>; 
<a name="l00464"></a><a class="code" href="structStg_1_1fov__t.html#ac7765ad39c691b58eda12bdf44dcb1ed">00464</a>     <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="structStg_1_1fov__t.html#ac7765ad39c691b58eda12bdf44dcb1ed" title="width of viewing angle of sensor">angle</a>; 
<a name="l00465"></a>00465   } <a class="code" href="structStg_1_1fov__t.html">fov_t</a>;
<a name="l00466"></a>00466   
<a name="l00468"></a><a class="code" href="classStg_1_1point__t.html">00468</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1point__t.html">point_t</a>
<a name="l00469"></a>00469   {
<a name="l00470"></a>00470   <span class="keyword">public</span>:
<a name="l00471"></a><a class="code" href="classStg_1_1point__t.html#aac965cb009c112e5a9ac48f2a7acf512">00471</a>     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1point__t.html#af62615f4ed2939ee53ff756c97981f39">x</a>, <a class="code" href="classStg_1_1point__t.html#aac965cb009c112e5a9ac48f2a7acf512">y</a>;
<a name="l00472"></a><a class="code" href="classStg_1_1point__t.html#ae82c401dda81b7ff5314c2e647437174">00472</a>      <a class="code" href="classStg_1_1point__t.html#ae82c401dda81b7ff5314c2e647437174">point_t</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1point__t.html#af62615f4ed2939ee53ff756c97981f39">x</a>, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1point__t.html#aac965cb009c112e5a9ac48f2a7acf512">y</a> ) : x(x), y(y){}    
<a name="l00473"></a><a class="code" href="classStg_1_1point__t.html#a7dd000d36b455a9d96cff49078e2e9f5">00473</a>      <a class="code" href="classStg_1_1point__t.html#a7dd000d36b455a9d96cff49078e2e9f5">point_t</a>() : <a class="code" href="classStg_1_1point__t.html#af62615f4ed2939ee53ff756c97981f39">x</a>(0.0), <a class="code" href="classStg_1_1point__t.html#aac965cb009c112e5a9ac48f2a7acf512">y</a>(0.0){}
<a name="l00474"></a>00474     
<a name="l00475"></a><a class="code" href="classStg_1_1point__t.html#a0d717bb21f1ea3601e6892885ec478e5">00475</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1point__t.html#a0d717bb21f1ea3601e6892885ec478e5">operator+=</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__t.html">point_t</a>&amp; other ) 
<a name="l00476"></a>00476      { <span class="keywordflow">return</span> ((<a class="code" href="classStg_1_1point__t.html#af62615f4ed2939ee53ff756c97981f39">x</a> += other.<a class="code" href="classStg_1_1point__t.html#af62615f4ed2939ee53ff756c97981f39">x</a>) &amp;&amp; (<a class="code" href="classStg_1_1point__t.html#aac965cb009c112e5a9ac48f2a7acf512">y</a> += other.<a class="code" href="classStg_1_1point__t.html#aac965cb009c112e5a9ac48f2a7acf512">y</a>) ); }  
<a name="l00477"></a>00477   };
<a name="l00478"></a>00478   
<a name="l00480"></a><a class="code" href="classStg_1_1point3__t.html">00480</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1point3__t.html">point3_t</a>
<a name="l00481"></a>00481   {
<a name="l00482"></a>00482   <span class="keyword">public</span>:
<a name="l00483"></a><a class="code" href="classStg_1_1point3__t.html#af998935920fa4dee0a1b23fda0817ec8">00483</a>     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1point3__t.html#ad42c77998128453b3ded9285e2973584">x</a>,<a class="code" href="classStg_1_1point3__t.html#a3a830d13a3bd10752c8503b061e2ced2">y</a>,<a class="code" href="classStg_1_1point3__t.html#af998935920fa4dee0a1b23fda0817ec8">z</a>;
<a name="l00484"></a><a class="code" href="classStg_1_1point3__t.html#ad74a65a80b2a5aced29d2ab3f7d1af28">00484</a>      <a class="code" href="classStg_1_1point3__t.html#a453fb786b12d10b934149f56487de67b">point3_t</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1point3__t.html#ad42c77998128453b3ded9285e2973584">x</a>, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1point3__t.html#a3a830d13a3bd10752c8503b061e2ced2">y</a>, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1point3__t.html#af998935920fa4dee0a1b23fda0817ec8">z</a> ) 
<a name="l00485"></a>00485         : x(x), y(y), z(z) {}    
<a name="l00486"></a>00486   
<a name="l00487"></a><a class="code" href="classStg_1_1point3__t.html#a453fb786b12d10b934149f56487de67b">00487</a>      <a class="code" href="classStg_1_1point3__t.html#a453fb786b12d10b934149f56487de67b">point3_t</a>() : <a class="code" href="classStg_1_1point3__t.html#ad42c77998128453b3ded9285e2973584">x</a>(0.0), <a class="code" href="classStg_1_1point3__t.html#a3a830d13a3bd10752c8503b061e2ced2">y</a>(0.0), <a class="code" href="classStg_1_1point3__t.html#af998935920fa4dee0a1b23fda0817ec8">z</a>(0.0) {}
<a name="l00488"></a>00488   };
<a name="l00489"></a>00489   
<a name="l00491"></a><a class="code" href="classStg_1_1point__int__t.html">00491</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1point__int__t.html">point_int_t</a>
<a name="l00492"></a>00492   {
<a name="l00493"></a>00493   <span class="keyword">public</span>:
<a name="l00494"></a><a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">00494</a>     <span class="keywordtype">int</span> <a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a>,<a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">y</a>;
<a name="l00495"></a><a class="code" href="classStg_1_1point__int__t.html#afd9728bdf5227227142c1573475d4f3d">00495</a>         <a class="code" href="classStg_1_1point__int__t.html#afd9728bdf5227227142c1573475d4f3d">point_int_t</a>( <span class="keywordtype">int</span> <a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a>, <span class="keywordtype">int</span> <a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">y</a> ) : x(x), y(y){}   
<a name="l00496"></a><a class="code" href="classStg_1_1point__int__t.html#a0cc5344dfcd344d008a1a3b061266749">00496</a>         <a class="code" href="classStg_1_1point__int__t.html#a0cc5344dfcd344d008a1a3b061266749">point_int_t</a>() : <a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a>(0), <a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">y</a>(0){}
<a name="l00497"></a>00497         
<a name="l00499"></a><a class="code" href="classStg_1_1point__int__t.html#a91eabca8906e11473d49ebe3c7d24aef">00499</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1point__int__t.html#a91eabca8906e11473d49ebe3c7d24aef">operator&lt;</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a>&amp; other )<span class="keyword"> const</span>
<a name="l00500"></a>00500 <span class="keyword">        </span>{
<a name="l00501"></a>00501             <span class="keywordflow">if</span>( <a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a> &lt; other.<a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a> ) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00502"></a>00502             <span class="keywordflow">if</span>( other.<a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a> &lt; <a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a> ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00503"></a>00503             <span class="keywordflow">return</span> <a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">y</a> &lt; other.<a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">y</a>;
<a name="l00504"></a>00504         }
<a name="l00505"></a>00505  
<a name="l00506"></a><a class="code" href="classStg_1_1point__int__t.html#a8f5984f74c40c2cea4d894bdda13ea08">00506</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1point__int__t.html#a8f5984f74c40c2cea4d894bdda13ea08">operator==</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a>&amp; other )<span class="keyword"> const</span>
<a name="l00507"></a>00507 <span class="keyword">        </span>{ <span class="keywordflow">return</span> ((<a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a> == other.<a class="code" href="classStg_1_1point__int__t.html#a9e40a0ab1e02c37487c85da7532bf247">x</a>) &amp;&amp; (<a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">y</a> == other.<a class="code" href="classStg_1_1point__int__t.html#a581dbc76a003dc66f5138063855f07ef">y</a>) ); }
<a name="l00508"></a>00508   };
<a name="l00509"></a>00509   
<a name="l00510"></a><a class="code" href="namespaceStg.html#a7b3def6d7fecd049661dccc46a00f5ec">00510</a>   <span class="keyword">typedef</span> std::vector&lt;point_int_t&gt; <a class="code" href="namespaceStg.html#a7b3def6d7fecd049661dccc46a00f5ec">PointIntVec</a>;
<a name="l00511"></a>00511 
<a name="l00514"></a>00514   <a class="code" href="classStg_1_1point__t.html">point_t</a>* <a class="code" href="namespaceStg.html#aff37ed1cc0e2fec26f988341d4ce5059">unit_square_points_create</a>();
<a name="l00515"></a>00515   
<a name="l00516"></a>00516   
<a name="l00519"></a><a class="code" href="namespaceStg_1_1Gl.html">00519</a>   <span class="keyword">namespace </span>Gl
<a name="l00520"></a>00520   {
<a name="l00521"></a>00521      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#a05adf1436465b6b75d5c3ff4c823432d">pose_shift</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> &amp;pose );
<a name="l00522"></a>00522      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#abcbb056b83779155ae51d3ba52eca334">pose_inverse_shift</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> &amp;pose );
<a name="l00523"></a>00523      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#a26c2886a1e05eef7a7441d6380179eaa">coord_shift</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z, <span class="keywordtype">double</span> a  );
<a name="l00524"></a>00524      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#a87bcbe41081baa48a66ff7f0c8fea2b1">draw_grid</a>( <a class="code" href="classStg_1_1bounds3d__t.html">bounds3d_t</a> vol );
<a name="l00526"></a>00526      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#a8ab2c93ac9c6c2c4538f9effe2c2dab4">draw_string</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>);
<a name="l00527"></a>00527      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#ab6592fda3cbcd1388e0cdc89230b963f">draw_string_multiline</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> w, <span class="keywordtype">float</span> h, 
<a name="l00528"></a>00528                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>, Fl_Align align );
<a name="l00529"></a>00529      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#ab1015e64f590d342c435f2543fc9e2d1">draw_speech_bubble</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z, <span class="keyword">const</span> <span class="keywordtype">char</span>* str );
<a name="l00530"></a>00530      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#aa15e3f6e14bd6ed40bf7d5035d2ebe73">draw_octagon</a>( <span class="keywordtype">float</span> w, <span class="keywordtype">float</span> h, <span class="keywordtype">float</span> m );
<a name="l00531"></a>00531      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#aa15e3f6e14bd6ed40bf7d5035d2ebe73">draw_octagon</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> w, <span class="keywordtype">float</span> h, <span class="keywordtype">float</span> m );
<a name="l00532"></a>00532      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#ae4d2a45581468af46f17a38de915a699">draw_vector</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z );
<a name="l00533"></a>00533      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#abfd6f55019ff621993471ff7d8c73f18">draw_origin</a>( <span class="keywordtype">double</span> len );
<a name="l00534"></a>00534      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#a81247441332f227465b8564a4b98d3d4">draw_array</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> w, <span class="keywordtype">float</span> h, 
<a name="l00535"></a>00535                             <span class="keywordtype">float</span>* data, <span class="keywordtype">size_t</span> len, <span class="keywordtype">size_t</span> offset, 
<a name="l00536"></a>00536                             <span class="keywordtype">float</span> min, <span class="keywordtype">float</span> max );
<a name="l00537"></a>00537      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#a81247441332f227465b8564a4b98d3d4">draw_array</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> w, <span class="keywordtype">float</span> h, 
<a name="l00538"></a>00538                             <span class="keywordtype">float</span>* data, <span class="keywordtype">size_t</span> len, <span class="keywordtype">size_t</span> offset );
<a name="l00540"></a>00540      <span class="keywordtype">void</span> <a class="code" href="namespaceStg_1_1Gl.html#a8154128a928200f8bbd141ca9da6b581">draw_centered_rect</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> dx, <span class="keywordtype">float</span> dy );
<a name="l00541"></a>00541   } <span class="comment">// namespace Gl</span>
<a name="l00542"></a>00542   
<a name="l00543"></a>00543   <span class="keywordtype">void</span> <a class="code" href="namespaceStg.html#a7a9e544a3b686f20835a56c53b8f14e6">RegisterModels</a>();
<a name="l00544"></a>00544   
<a name="l00545"></a>00545   
<a name="l00547"></a><a class="code" href="classStg_1_1Visualizer.html">00547</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Visualizer.html">Visualizer</a> {
<a name="l00548"></a>00548   <span class="keyword">private</span>:
<a name="l00549"></a>00549      <span class="keyword">const</span> std::string menu_name;
<a name="l00550"></a>00550      <span class="keyword">const</span> std::string worldfile_name;
<a name="l00551"></a>00551      
<a name="l00552"></a>00552   <span class="keyword">public</span>:
<a name="l00553"></a><a class="code" href="classStg_1_1Visualizer.html#a63f821d7e79edcda0f7d6e7150cbecd3">00553</a>      <a class="code" href="classStg_1_1Visualizer.html#a63f821d7e79edcda0f7d6e7150cbecd3">Visualizer</a>( <span class="keyword">const</span> std::string&amp; menu_name, 
<a name="l00554"></a>00554                      <span class="keyword">const</span> std::string&amp; worldfile_name ) 
<a name="l00555"></a>00555         : menu_name( menu_name ),
<a name="l00556"></a>00556           worldfile_name( worldfile_name )
<a name="l00557"></a>00557      { }
<a name="l00558"></a>00558      
<a name="l00559"></a><a class="code" href="classStg_1_1Visualizer.html#a4ae82adbbac44426b73f90f7fff341a2">00559</a>      <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Visualizer.html#a4ae82adbbac44426b73f90f7fff341a2">~Visualizer</a>( <span class="keywordtype">void</span> ) { }
<a name="l00560"></a>00560      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Visualizer.html#a798d858493e1e61d825af1c35bb05fd5">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam ) = 0;
<a name="l00561"></a>00561      
<a name="l00562"></a><a class="code" href="classStg_1_1Visualizer.html#ab6ef7d43982c695eda99982d4270c632">00562</a>      <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Visualizer.html#ab6ef7d43982c695eda99982d4270c632">GetMenuName</a>() { <span class="keywordflow">return</span> menu_name; }
<a name="l00563"></a><a class="code" href="classStg_1_1Visualizer.html#ac3685601ac85e039cab13b516de79a02">00563</a>      <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Visualizer.html#ac3685601ac85e039cab13b516de79a02">GetWorldfileName</a>() { <span class="keywordflow">return</span> worldfile_name; }    
<a name="l00564"></a>00564   };
<a name="l00565"></a>00565 
<a name="l00566"></a>00566 
<a name="l00567"></a><a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">00567</a>   <span class="keyword">typedef</span> int(*<a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">model_callback_t</a>)(<a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <span class="keywordtype">void</span>* user );
<a name="l00568"></a><a class="code" href="namespaceStg.html#ae8d9e42a8837bdb310425f8b1ae6fca4">00568</a>   <span class="keyword">typedef</span> int(*<a class="code" href="namespaceStg.html#ae8d9e42a8837bdb310425f8b1ae6fca4">world_callback_t</a>)(<a class="code" href="classStg_1_1World.html" title="World class">World</a>* world, <span class="keywordtype">void</span>* user );
<a name="l00569"></a>00569   
<a name="l00570"></a>00570   <span class="comment">// return val, or minval if val &lt; minval, or maxval if val &gt; maxval</span>
<a name="l00571"></a>00571   <span class="keywordtype">double</span> <a class="code" href="namespaceStg.html#acdb575844fef1a304eb7ca5a62ec5522">constrain</a>( <span class="keywordtype">double</span> val, <span class="keywordtype">double</span> minval, <span class="keywordtype">double</span> maxval );
<a name="l00572"></a>00572     
<a name="l00573"></a><a class="code" href="structStg_1_1blinkenlight__t.html">00573</a>   <span class="keyword">typedef</span> <span class="keyword">struct </span>
<a name="l00574"></a>00574   {
<a name="l00575"></a><a class="code" href="structStg_1_1blinkenlight__t.html#a548237cd62bd4f26407a5f386b02606f">00575</a>     <span class="keywordtype">int</span> <a class="code" href="structStg_1_1blinkenlight__t.html#a548237cd62bd4f26407a5f386b02606f">enabled</a>;
<a name="l00576"></a><a class="code" href="structStg_1_1blinkenlight__t.html#a6967d5bf028675aac58c311400108777">00576</a>     <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="structStg_1_1blinkenlight__t.html#a6967d5bf028675aac58c311400108777">pose</a>;
<a name="l00577"></a><a class="code" href="structStg_1_1blinkenlight__t.html#af57e19cc610a7a27973b43017de22acb">00577</a>     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="structStg_1_1blinkenlight__t.html#af57e19cc610a7a27973b43017de22acb" title="rendered as a sphere with this diameter">size</a>; 
<a name="l00578"></a><a class="code" href="structStg_1_1blinkenlight__t.html#a06a8f219f778484cfae183c45d654394">00578</a>     <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="structStg_1_1blinkenlight__t.html#a06a8f219f778484cfae183c45d654394">color</a>;
<a name="l00579"></a><a class="code" href="structStg_1_1blinkenlight__t.html#a21528955562ae54a2f354cddf2fc7307">00579</a>     <a class="code" href="namespaceStg.html#a3dbd06bfdb604e38e02d1a87c4cddb00">msec_t</a> <a class="code" href="structStg_1_1blinkenlight__t.html#a21528955562ae54a2f354cddf2fc7307" title="duration of a complete cycle">period</a>; 
<a name="l00580"></a><a class="code" href="structStg_1_1blinkenlight__t.html#a1fca10bfccfa714f2baf14159f537660">00580</a>     <span class="keywordtype">double</span> <a class="code" href="structStg_1_1blinkenlight__t.html#a1fca10bfccfa714f2baf14159f537660" title="mark/space ratio">duty_cycle</a>; 
<a name="l00581"></a>00581   } <a class="code" href="structStg_1_1blinkenlight__t.html">blinkenlight_t</a>;
<a name="l00582"></a>00582 
<a name="l00583"></a>00583   
<a name="l00585"></a><a class="code" href="structStg_1_1rotrect__t.html">00585</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00586"></a>00586   {
<a name="l00587"></a><a class="code" href="structStg_1_1rotrect__t.html#a30a08b74aa1281a41c3bbd6fdcacbe06">00587</a>     <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="structStg_1_1rotrect__t.html#a30a08b74aa1281a41c3bbd6fdcacbe06">pose</a>;
<a name="l00588"></a><a class="code" href="structStg_1_1rotrect__t.html#a1a85008f72d4b99a3aa1521b782dd99e">00588</a>     <a class="code" href="classStg_1_1Size.html">Size</a> <a class="code" href="structStg_1_1rotrect__t.html#a1a85008f72d4b99a3aa1521b782dd99e">size</a>;
<a name="l00589"></a>00589   } <a class="code" href="structStg_1_1rotrect__t.html">rotrect_t</a>; <span class="comment">// rotated rectangle</span>
<a name="l00590"></a>00590 
<a name="l00596"></a>00596   <span class="keywordtype">int</span> <a class="code" href="namespaceStg.html#ac99cedf2e82ce09a864a5b3d7bcbc563">rotrects_from_image_file</a>( <span class="keyword">const</span> std::string&amp; filename, 
<a name="l00597"></a>00597                                                                 std::vector&lt;rotrect_t&gt;&amp; rects,
<a name="l00598"></a>00598                                                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; widthp, 
<a name="l00599"></a>00599                                                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; heightp );
<a name="l00600"></a>00600 
<a name="l00601"></a>00601   
<a name="l00604"></a><a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">00604</a>   <span class="keyword">typedef</span> bool (*<a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a>)(<a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* candidate, 
<a name="l00605"></a>00605                                                   <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* finder, 
<a name="l00606"></a>00606                                                   <span class="keyword">const</span> <span class="keywordtype">void</span>* arg );
<a name="l00607"></a>00607 
<a name="l00608"></a>00608   <span class="comment">// STL container iterator macros</span>
<a name="l00609"></a><a class="code" href="stage_8hh.html#aef0ee82d171cbf1169f4607b62f9fe63">00609</a> <span class="preprocessor">#define VAR(V,init) __typeof(init) V=(init)</span>
<a name="l00610"></a><a class="code" href="stage_8hh.html#a3690e75319c25cee97a4f7b27669d5da">00610</a> <span class="preprocessor"></span><span class="preprocessor">#define FOR_EACH(I,C) for(VAR(I,(C).begin());I!=(C).end();I++)</span>
<a name="l00611"></a>00611 <span class="preprocessor"></span>
<a name="l00613"></a>00613   <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> C&gt;
<a name="l00614"></a><a class="code" href="namespaceStg.html#a92c75c58a631170c78085e0fc40fd8a5">00614</a>   <span class="keywordtype">void</span> <a class="code" href="namespaceStg.html#a92c75c58a631170c78085e0fc40fd8a5">EraseAll</a>( T thing, C&amp; cont )
<a name="l00615"></a>00615   { cont.erase( std::remove( cont.begin(), cont.end(), thing ), cont.end() ); }
<a name="l00616"></a>00616   
<a name="l00617"></a>00617   <span class="comment">// Error macros - output goes to stderr</span>
<a name="l00618"></a><a class="code" href="stage_8hh.html#a1794556130a8b96d3ff49b331e44b1ee">00618</a> <span class="preprocessor">#define PRINT_ERR(m) fprintf( stderr, &quot;\033[41merr\033[0m: &quot;m&quot; (%s %s)\n&quot;, __FILE__, __FUNCTION__)</span>
<a name="l00619"></a><a class="code" href="stage_8hh.html#a3243f8f5c849349878779fcca01dd963">00619</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_ERR1(m,a) fprintf( stderr, &quot;\033[41merr\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, __FILE__, __FUNCTION__)    </span>
<a name="l00620"></a><a class="code" href="stage_8hh.html#ae0f8daa494d492ea7b40898cac50f03e">00620</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_ERR2(m,a,b) fprintf( stderr, &quot;\033[41merr\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, __FILE__, __FUNCTION__) </span>
<a name="l00621"></a><a class="code" href="stage_8hh.html#a296f1c1ea561b22be71f024861bd1ae8">00621</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_ERR3(m,a,b,c) fprintf( stderr, &quot;\033[41merr\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, c, __FILE__, __FUNCTION__)</span>
<a name="l00622"></a><a class="code" href="stage_8hh.html#abf071d45207584baa833d01b971ea827">00622</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_ERR4(m,a,b,c,d) fprintf( stderr, &quot;\033[41merr\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, c, d, __FILE__, __FUNCTION__)</span>
<a name="l00623"></a><a class="code" href="stage_8hh.html#a93bec1ab4dc877ae3e658faf6cb7c1f6">00623</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_ERR5(m,a,b,c,d,e) fprintf( stderr, &quot;\033[41merr\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, c, d, e, __FILE__, __FUNCTION__)</span>
<a name="l00624"></a>00624 <span class="preprocessor"></span>
<a name="l00625"></a>00625   <span class="comment">// Warning macros</span>
<a name="l00626"></a><a class="code" href="stage_8hh.html#a0ed26982a2b2bd64bd5899422289abe7">00626</a> <span class="preprocessor">#define PRINT_WARN(m) printf( &quot;\033[44mwarn\033[0m: &quot;m&quot; (%s %s)\n&quot;, __FILE__, __FUNCTION__)</span>
<a name="l00627"></a><a class="code" href="stage_8hh.html#a65e89f05113fe0270446ce55a239916d">00627</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_WARN1(m,a) printf( &quot;\033[44mwarn\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, __FILE__, __FUNCTION__)    </span>
<a name="l00628"></a><a class="code" href="stage_8hh.html#a28e20a0826f4b420e13f38b592f71cd9">00628</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_WARN2(m,a,b) printf( &quot;\033[44mwarn\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, __FILE__, __FUNCTION__) </span>
<a name="l00629"></a><a class="code" href="stage_8hh.html#a251e8f4bfce6341594ab1c870abdcca7">00629</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_WARN3(m,a,b,c) printf( &quot;\033[44mwarn\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, c, __FILE__, __FUNCTION__)</span>
<a name="l00630"></a><a class="code" href="stage_8hh.html#a5dac4205f330fc3f837c45178901b8ce">00630</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_WARN4(m,a,b,c,d) printf( &quot;\033[44mwarn\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, c, d, __FILE__, __FUNCTION__)</span>
<a name="l00631"></a><a class="code" href="stage_8hh.html#ab9fdf000a5151a1683e9db78b3a37d58">00631</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_WARN5(m,a,b,c,d,e) printf( &quot;\033[44mwarn\033[0m: &quot;m&quot; (%s %s)\n&quot;, a, b, c, d, e, __FILE__, __FUNCTION__)</span>
<a name="l00632"></a>00632 <span class="preprocessor"></span>
<a name="l00633"></a>00633   <span class="comment">// Message macros</span>
<a name="l00634"></a>00634 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00635"></a>00635 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG(m) printf( &quot;Stage: &quot;m&quot; (%s %s)\n&quot;, __FILE__, __FUNCTION__)</span>
<a name="l00636"></a>00636 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG1(m,a) printf( &quot;Stage: &quot;m&quot; (%s %s)\n&quot;, a, __FILE__, __FUNCTION__)    </span>
<a name="l00637"></a>00637 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG2(m,a,b) printf( &quot;Stage: &quot;m&quot; (%s %s)\n&quot;, a, b, __FILE__, __FUNCTION__) </span>
<a name="l00638"></a>00638 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG3(m,a,b,c) printf( &quot;Stage: &quot;m&quot; (%s %s)\n&quot;, a, b, c, __FILE__, __FUNCTION__)</span>
<a name="l00639"></a>00639 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG4(m,a,b,c,d) printf( &quot;Stage: &quot;m&quot; (%s %s)\n&quot;, a, b, c, d, __FILE__, __FUNCTION__)</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG5(m,a,b,c,d,e) printf( &quot;Stage: &quot;m&quot; (%s %s)\n&quot;, a, b, c, d, e,__FILE__, __FUNCTION__)</span>
<a name="l00641"></a>00641 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00642"></a><a class="code" href="stage_8hh.html#ae54e2e02b8cb2a81878098443dfa2f1e">00642</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG(m) printf( &quot;Stage: &quot;m&quot;\n&quot; )</span>
<a name="l00643"></a><a class="code" href="stage_8hh.html#a953b27657ac9c544f32b5a7f059fd8fe">00643</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG1(m,a) printf( &quot;Stage: &quot;m&quot;\n&quot;, a)</span>
<a name="l00644"></a><a class="code" href="stage_8hh.html#a37ed4dbd572053a8fab5e308d47a46ae">00644</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG2(m,a,b) printf( &quot;Stage: &quot;m&quot;\n,&quot;, a, b )</span>
<a name="l00645"></a><a class="code" href="stage_8hh.html#aaa93447f53ea17f986e51baa57f3623b">00645</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG3(m,a,b,c) printf( &quot;Stage: &quot;m&quot;\n&quot;, a, b, c )</span>
<a name="l00646"></a><a class="code" href="stage_8hh.html#a3cead98d15b74d02832c38638493e4a5">00646</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG4(m,a,b,c,d) printf( &quot;Stage: &quot;m&quot;\n&quot;, a, b, c, d )</span>
<a name="l00647"></a><a class="code" href="stage_8hh.html#ad567e9b1d057f543b229dcd4c570b5aa">00647</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_MSG5(m,a,b,c,d,e) printf( &quot;Stage: &quot;m&quot;\n&quot;, a, b, c, d, e )</span>
<a name="l00648"></a>00648 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00649"></a>00649 <span class="preprocessor"></span>
<a name="l00650"></a>00650   <span class="comment">// DEBUG macros</span>
<a name="l00651"></a>00651 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00652"></a>00652 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG(m) printf( &quot;debug: &quot;m&quot; (%s %s)\n&quot;, __FILE__, __FUNCTION__)</span>
<a name="l00653"></a>00653 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG1(m,a) printf( &quot;debug: &quot;m&quot; (%s %s)\n&quot;, a, __FILE__, __FUNCTION__)    </span>
<a name="l00654"></a>00654 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG2(m,a,b) printf( &quot;debug: &quot;m&quot; (%s %s)\n&quot;, a, b, __FILE__, __FUNCTION__) </span>
<a name="l00655"></a>00655 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG3(m,a,b,c) printf( &quot;debug: &quot;m&quot; (%s %s)\n&quot;, a, b, c, __FILE__, __FUNCTION__)</span>
<a name="l00656"></a>00656 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG4(m,a,b,c,d) printf( &quot;debug: &quot;m&quot; (%s %s)\n&quot;, a, b, c ,d, __FILE__, __FUNCTION__)</span>
<a name="l00657"></a>00657 <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG5(m,a,b,c,d,e) printf( &quot;debug: &quot;m&quot; (%s %s)\n&quot;, a, b, c ,d, e, __FILE__, __FUNCTION__)</span>
<a name="l00658"></a>00658 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00659"></a><a class="code" href="stage_8hh.html#a1be6a6b98992b65d9fbc42817275f709">00659</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG(m)</span>
<a name="l00660"></a><a class="code" href="stage_8hh.html#a163300abcc60e47b47920a7d064701ad">00660</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG1(m,a)</span>
<a name="l00661"></a><a class="code" href="stage_8hh.html#a9506de8c9a72ddb2e760aaf058079001">00661</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG2(m,a,b)</span>
<a name="l00662"></a><a class="code" href="stage_8hh.html#ac9072259ea9d6f7f14f37162498802b1">00662</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG3(m,a,b,c)</span>
<a name="l00663"></a><a class="code" href="stage_8hh.html#ab78baad08376a961ba2b8af57b3bc4b5">00663</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG4(m,a,b,c,d)</span>
<a name="l00664"></a><a class="code" href="stage_8hh.html#a622e1a29d4196d3277bd5692a7757c1c">00664</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINT_DEBUG5(m,a,b,c,d,e)</span>
<a name="l00665"></a>00665 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00666"></a>00666 <span class="preprocessor"></span>
<a name="l00667"></a>00667   <span class="keyword">class </span>Block;
<a name="l00668"></a>00668   <span class="keyword">class </span>Model;
<a name="l00669"></a>00669 
<a name="l00672"></a>00672   <span class="keyword">typedef</span> int (*<a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">model_callback_t</a>)( Model* mod, <span class="keywordtype">void</span>* user );
<a name="l00673"></a>00673 
<a name="l00674"></a>00674   <span class="comment">// ANCESTOR CLASS</span>
<a name="l00676"></a><a class="code" href="classStg_1_1Ancestor.html">00676</a> <span class="comment"></span>  <span class="keyword">class </span><a class="code" href="classStg_1_1Ancestor.html">Ancestor</a>
<a name="l00677"></a>00677   {
<a name="l00678"></a><a class="code" href="classStg_1_1Ancestor.html#a9816083e25bae0b2f472e19382136687">00678</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Canvas.html">Canvas</a>; <span class="comment">// allow Canvas access to our private members</span>
<a name="l00679"></a>00679      
<a name="l00680"></a>00680   <span class="keyword">protected</span>:
<a name="l00681"></a>00681 
<a name="l00683"></a><a class="code" href="classStg_1_1Ancestor.html#a8bfd93c24d1b93845708e9357d111293">00683</a>      std::map&lt;std::string,unsigned int&gt; <a class="code" href="classStg_1_1Ancestor.html#a8bfd93c24d1b93845708e9357d111293">child_type_counts</a>;
<a name="l00684"></a>00684 
<a name="l00685"></a><a class="code" href="classStg_1_1Ancestor.html#a58527b63857cdf4ee1fa38e8242d9694">00685</a>      <a class="code" href="namespaceStg.html#a38d0c02cc28c516d9c490835a1e903a7">ModelPtrVec</a> <a class="code" href="classStg_1_1Ancestor.html#a58527b63857cdf4ee1fa38e8242d9694">children</a>;
<a name="l00686"></a>00686 
<a name="l00687"></a><a class="code" href="classStg_1_1Ancestor.html#a5fe124b647307ae30b1b7ba59063e81c">00687</a>     <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Ancestor.html#a5fe124b647307ae30b1b7ba59063e81c">debug</a>;
<a name="l00688"></a>00688 
<a name="l00690"></a><a class="code" href="classStg_1_1Ancestor.html#a11e5b499c0ab9d49303a01b1f14a6927">00690</a>      std::map&lt;std::string,void*&gt; <a class="code" href="classStg_1_1Ancestor.html#a11e5b499c0ab9d49303a01b1f14a6927">props</a>;
<a name="l00691"></a>00691 
<a name="l00692"></a><a class="code" href="classStg_1_1Ancestor.html#a44526ef6fe520f951603654f6016c7ed">00692</a>      std::string <a class="code" href="classStg_1_1Ancestor.html#a44526ef6fe520f951603654f6016c7ed">token</a>;
<a name="l00693"></a>00693 
<a name="l00694"></a>00694      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Ancestor.html#a60e43b1e84f382b365bc4bfe46942c68">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> section );
<a name="l00695"></a>00695      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Ancestor.html#ac5b95d6914face5c05299d6641c15383">Save</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> section );    
<a name="l00696"></a>00696              
<a name="l00697"></a>00697   <span class="keyword">public</span>:   
<a name="l00698"></a>00698     <a class="code" href="classStg_1_1Ancestor.html#a36ba0d7664c6a58c7df9b6f302424fe3">Ancestor</a>();
<a name="l00699"></a>00699     <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Ancestor.html#ace87debd40e34eb4d39c05529afd94c6">~Ancestor</a>();
<a name="l00700"></a>00700      
<a name="l00702"></a><a class="code" href="classStg_1_1Ancestor.html#a31977357546af2d4981627ee9efbf7d2">00702</a>      <a class="code" href="namespaceStg.html#a38d0c02cc28c516d9c490835a1e903a7">ModelPtrVec</a>&amp; <a class="code" href="classStg_1_1Ancestor.html#a31977357546af2d4981627ee9efbf7d2">GetChildren</a>(){ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Ancestor.html#a58527b63857cdf4ee1fa38e8242d9694">children</a>;}
<a name="l00703"></a>00703     
<a name="l00705"></a>00705     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Ancestor.html#ae4d16f1574ad5c0e5a05c781ab7e8438">ForEachDescendant</a>( <a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">model_callback_t</a> func, <span class="keywordtype">void</span>* arg );
<a name="l00706"></a>00706      
<a name="l00707"></a>00707     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Ancestor.html#a54d1c6c9e9204e68692c02cdea344750">AddChild</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l00708"></a>00708     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Ancestor.html#abbb5a7a977a51b946462122e2278b377">RemoveChild</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l00709"></a>00709     <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Ancestor.html#ad7ba3d836505368fffdda44a79e9c70a">GetGlobalPose</a>();
<a name="l00710"></a>00710      
<a name="l00711"></a><a class="code" href="classStg_1_1Ancestor.html#a50f827ad6c83462426b8cfbb0b1996e1">00711</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classStg_1_1Ancestor.html#a50f827ad6c83462426b8cfbb0b1996e1">Token</a>(){ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Ancestor.html#a44526ef6fe520f951603654f6016c7ed">token</a>.c_str(); }
<a name="l00712"></a>00712 
<a name="l00713"></a><a class="code" href="classStg_1_1Ancestor.html#aedca6691f94fb5738ac295586b7235e4">00713</a>     <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Ancestor.html#aedca6691f94fb5738ac295586b7235e4">TokenStr</a>(){ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Ancestor.html#a44526ef6fe520f951603654f6016c7ed">token</a>; }
<a name="l00714"></a>00714      
<a name="l00715"></a><a class="code" href="classStg_1_1Ancestor.html#aacb761d3e6b5ed08b3f476c2dad24b82">00715</a>     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Ancestor.html#aacb761d3e6b5ed08b3f476c2dad24b82">SetToken</a>( <span class="keyword">const</span> std::string&amp; str ){ <a class="code" href="classStg_1_1Ancestor.html#a44526ef6fe520f951603654f6016c7ed">token</a> = str; } 
<a name="l00716"></a>00716      
<a name="l00718"></a><a class="code" href="classStg_1_1Ancestor.html#acd489566cacc6a4aea688cbf59189c69">00718</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Ancestor.html#acd489566cacc6a4aea688cbf59189c69">SetProperty</a>( std::string&amp; key, <span class="keywordtype">void</span>* value ){ <a class="code" href="classStg_1_1Ancestor.html#a11e5b499c0ab9d49303a01b1f14a6927">props</a>[ key ] = value; }
<a name="l00719"></a>00719      
<a name="l00721"></a><a class="code" href="classStg_1_1Ancestor.html#a10b41475322588ebc3beded50ba2c680">00721</a>      <span class="keywordtype">void</span>* <a class="code" href="classStg_1_1Ancestor.html#a10b41475322588ebc3beded50ba2c680">GetProperty</a>( std::string&amp; key )
<a name="l00722"></a>00722      {
<a name="l00723"></a>00723         std::map&lt;std::string,void*&gt;::iterator it = <a class="code" href="classStg_1_1Ancestor.html#a11e5b499c0ab9d49303a01b1f14a6927">props</a>.find( key );       
<a name="l00724"></a>00724         <span class="keywordflow">return</span>( it == <a class="code" href="classStg_1_1Ancestor.html#a11e5b499c0ab9d49303a01b1f14a6927">props</a>.end() ? NULL : it-&gt;second );
<a name="l00725"></a>00725      }
<a name="l00726"></a>00726   };
<a name="l00727"></a>00727 
<a name="l00730"></a><a class="code" href="classStg_1_1RaytraceResult.html">00730</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a>
<a name="l00731"></a>00731   {
<a name="l00732"></a>00732   <span class="keyword">public</span>:
<a name="l00733"></a><a class="code" href="classStg_1_1RaytraceResult.html#aa6b2366f39f3a629046164210fbddf86">00733</a>     <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1RaytraceResult.html#aa6b2366f39f3a629046164210fbddf86" title="location and direction of the ray origin">pose</a>; 
<a name="l00734"></a><a class="code" href="classStg_1_1RaytraceResult.html#a8fe85c9af0d5447d822c5ef3060baa55">00734</a>     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1RaytraceResult.html#a8fe85c9af0d5447d822c5ef3060baa55" title="range to beam hit in meters">range</a>; 
<a name="l00735"></a><a class="code" href="classStg_1_1RaytraceResult.html#a636a7ea20fd08877af42cdec8765db92">00735</a>     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1RaytraceResult.html#a636a7ea20fd08877af42cdec8765db92" title="the model struck by this beam">mod</a>; 
<a name="l00736"></a><a class="code" href="classStg_1_1RaytraceResult.html#a0fe1e89a768b8bff522ed9b8466e91d7">00736</a>     <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1RaytraceResult.html#a0fe1e89a768b8bff522ed9b8466e91d7" title="the color struck by this beam">color</a>; 
<a name="l00737"></a>00737      
<a name="l00738"></a><a class="code" href="classStg_1_1RaytraceResult.html#a098b7cd60f9f34572db68a2f50d784f0">00738</a>      <a class="code" href="classStg_1_1RaytraceResult.html#a098b7cd60f9f34572db68a2f50d784f0">RaytraceResult</a>() : <a class="code" href="classStg_1_1RaytraceResult.html#aa6b2366f39f3a629046164210fbddf86" title="location and direction of the ray origin">pose</a>(), <a class="code" href="classStg_1_1RaytraceResult.html#a8fe85c9af0d5447d822c5ef3060baa55" title="range to beam hit in meters">range</a>(0), <a class="code" href="classStg_1_1RaytraceResult.html#a636a7ea20fd08877af42cdec8765db92" title="the model struck by this beam">mod</a>(NULL), <a class="code" href="classStg_1_1RaytraceResult.html#a0fe1e89a768b8bff522ed9b8466e91d7" title="the color struck by this beam">color</a>() {}
<a name="l00739"></a><a class="code" href="classStg_1_1RaytraceResult.html#a69aded1eff36ab7124dcb51136818ee9">00739</a>      <a class="code" href="classStg_1_1RaytraceResult.html#a098b7cd60f9f34572db68a2f50d784f0">RaytraceResult</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; <a class="code" href="classStg_1_1RaytraceResult.html#aa6b2366f39f3a629046164210fbddf86" title="location and direction of the ray origin">pose</a>, 
<a name="l00740"></a>00740                           <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1RaytraceResult.html#a8fe85c9af0d5447d822c5ef3060baa55" title="range to beam hit in meters">range</a> ) 
<a name="l00741"></a>00741         : pose(pose), range(range), <a class="code" href="classStg_1_1RaytraceResult.html#a636a7ea20fd08877af42cdec8765db92" title="the model struck by this beam">mod</a>(NULL), <a class="code" href="classStg_1_1RaytraceResult.html#a0fe1e89a768b8bff522ed9b8466e91d7" title="the color struck by this beam">color</a>() {}    
<a name="l00742"></a>00742   };
<a name="l00743"></a>00743     
<a name="l00744"></a><a class="code" href="classStg_1_1Ray.html">00744</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Ray.html">Ray</a>
<a name="l00745"></a>00745   {
<a name="l00746"></a>00746   <span class="keyword">public</span>:
<a name="l00747"></a><a class="code" href="classStg_1_1Ray.html#ab4fd053c4427d71efec6624a91e459e0">00747</a>      <a class="code" href="classStg_1_1Ray.html#af2cf55c7cd75f2c1e91c07f396878a9a">Ray</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Ray.html#a407a26d18f42f4a4503903433b19c283">mod</a>, <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; <a class="code" href="classStg_1_1Ray.html#ab30faedbb6c0f86d104e44bf04a07226">origin</a>, <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Ray.html#a5c180068014ba0177e14041b4aa94b8a">range</a>, <span class="keyword">const</span> <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> <a class="code" href="classStg_1_1Ray.html#a204c401a35f95dd4a201fe645fe6d4ef">func</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classStg_1_1Ray.html#ad11204acf363c533e36f63ede2dbc483">arg</a>, <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Ray.html#a799f8c4190f8acf1a608794511b45d27">ztest</a> ) :
<a name="l00748"></a>00748         mod(mod), origin(origin), range(range), func(func), arg(arg), ztest(ztest)
<a name="l00749"></a>00749      {}
<a name="l00750"></a>00750 
<a name="l00751"></a><a class="code" href="classStg_1_1Ray.html#af2cf55c7cd75f2c1e91c07f396878a9a">00751</a>      <a class="code" href="classStg_1_1Ray.html#af2cf55c7cd75f2c1e91c07f396878a9a">Ray</a>() : <a class="code" href="classStg_1_1Ray.html#a407a26d18f42f4a4503903433b19c283">mod</a>(NULL), <a class="code" href="classStg_1_1Ray.html#ab30faedbb6c0f86d104e44bf04a07226">origin</a>(0,0,0,0), <a class="code" href="classStg_1_1Ray.html#a5c180068014ba0177e14041b4aa94b8a">range</a>(0), <a class="code" href="classStg_1_1Ray.html#a204c401a35f95dd4a201fe645fe6d4ef">func</a>(NULL), <a class="code" href="classStg_1_1Ray.html#ad11204acf363c533e36f63ede2dbc483">arg</a>(NULL), <a class="code" href="classStg_1_1Ray.html#a799f8c4190f8acf1a608794511b45d27">ztest</a>(true)
<a name="l00752"></a>00752      {}
<a name="l00753"></a>00753         
<a name="l00754"></a><a class="code" href="classStg_1_1Ray.html#a407a26d18f42f4a4503903433b19c283">00754</a>         <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Ray.html#a407a26d18f42f4a4503903433b19c283">mod</a>;
<a name="l00755"></a><a class="code" href="classStg_1_1Ray.html#ab30faedbb6c0f86d104e44bf04a07226">00755</a>         <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Ray.html#ab30faedbb6c0f86d104e44bf04a07226">origin</a>;
<a name="l00756"></a><a class="code" href="classStg_1_1Ray.html#a5c180068014ba0177e14041b4aa94b8a">00756</a>         <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Ray.html#a5c180068014ba0177e14041b4aa94b8a">range</a>;
<a name="l00757"></a><a class="code" href="classStg_1_1Ray.html#a204c401a35f95dd4a201fe645fe6d4ef">00757</a>         <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> <a class="code" href="classStg_1_1Ray.html#a204c401a35f95dd4a201fe645fe6d4ef">func</a>;
<a name="l00758"></a><a class="code" href="classStg_1_1Ray.html#ad11204acf363c533e36f63ede2dbc483">00758</a>         <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classStg_1_1Ray.html#ad11204acf363c533e36f63ede2dbc483">arg</a>;
<a name="l00759"></a><a class="code" href="classStg_1_1Ray.html#a799f8c4190f8acf1a608794511b45d27">00759</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Ray.html#a799f8c4190f8acf1a608794511b45d27">ztest</a>;        
<a name="l00760"></a>00760   };
<a name="l00761"></a>00761         
<a name="l00762"></a>00762 
<a name="l00763"></a>00763   <span class="comment">// defined in stage_internal.hh</span>
<a name="l00764"></a>00764   <span class="keyword">class </span><a class="code" href="classStg_1_1Region.html">Region</a>;
<a name="l00765"></a>00765   <span class="keyword">class </span><a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>;
<a name="l00766"></a>00766   <span class="keyword">class </span><a class="code" href="classStg_1_1BlockGroup.html">BlockGroup</a>;
<a name="l00767"></a>00767   <span class="keyword">class </span><a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>;
<a name="l00768"></a>00768 
<a name="l00769"></a><a class="code" href="classStg_1_1LogEntry.html">00769</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1LogEntry.html">LogEntry</a>
<a name="l00770"></a>00770   {
<a name="l00771"></a>00771      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> timestamp;
<a name="l00772"></a>00772      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod;
<a name="l00773"></a>00773      <a class="code" href="classStg_1_1Pose.html">Pose</a> pose;
<a name="l00774"></a>00774      
<a name="l00775"></a>00775   <span class="keyword">public</span>:
<a name="l00776"></a>00776      <a class="code" href="classStg_1_1LogEntry.html#a88b259278f7ec4c1fad3306a7f97618c">LogEntry</a>( <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> timestamp, <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l00777"></a>00777      
<a name="l00779"></a><a class="code" href="classStg_1_1LogEntry.html#aae5cddcbfe3640ac3aa7d1db8edf3d20">00779</a>      <span class="keyword">static</span> std::vector&lt;LogEntry&gt; <a class="code" href="classStg_1_1LogEntry.html#aae5cddcbfe3640ac3aa7d1db8edf3d20">log</a>;
<a name="l00780"></a>00780      
<a name="l00782"></a><a class="code" href="classStg_1_1LogEntry.html#a39a676ea3a4e44229eca34bcfae8bd71">00782</a>      <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="classStg_1_1LogEntry.html#a39a676ea3a4e44229eca34bcfae8bd71">Count</a>(){ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1LogEntry.html#aae5cddcbfe3640ac3aa7d1db8edf3d20">log</a>.size(); }
<a name="l00783"></a>00783      
<a name="l00785"></a><a class="code" href="classStg_1_1LogEntry.html#adac0284302c288d06a035e8538fc44ff">00785</a>      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1LogEntry.html#adac0284302c288d06a035e8538fc44ff">Clear</a>(){ <a class="code" href="classStg_1_1LogEntry.html#aae5cddcbfe3640ac3aa7d1db8edf3d20">log</a>.clear(); }
<a name="l00786"></a>00786 
<a name="l00788"></a>00788      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1LogEntry.html#ab9e54b72877edb37d2fb7c1f99eb9cb6">Print</a>();
<a name="l00789"></a>00789   };
<a name="l00790"></a>00790 
<a name="l00791"></a><a class="code" href="classStg_1_1CtrlArgs.html">00791</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1CtrlArgs.html">CtrlArgs</a>
<a name="l00792"></a>00792   {
<a name="l00793"></a>00793   <span class="keyword">public</span>:
<a name="l00794"></a><a class="code" href="classStg_1_1CtrlArgs.html#ab88fb7fbd062ccb91d72594c56a3d07b">00794</a>      std::string <a class="code" href="classStg_1_1CtrlArgs.html#ab88fb7fbd062ccb91d72594c56a3d07b">worldfile</a>;
<a name="l00795"></a><a class="code" href="classStg_1_1CtrlArgs.html#a036eafa7d11847c6078d6f75a8688289">00795</a>      std::string <a class="code" href="classStg_1_1CtrlArgs.html#a036eafa7d11847c6078d6f75a8688289">cmdline</a>;
<a name="l00796"></a>00796 
<a name="l00797"></a><a class="code" href="classStg_1_1CtrlArgs.html#ab827f93f522bdf46c906ee44ed0ada7c">00797</a>      <a class="code" href="classStg_1_1CtrlArgs.html#ab827f93f522bdf46c906ee44ed0ada7c">CtrlArgs</a>( std::string w, std::string c ) : <a class="code" href="classStg_1_1CtrlArgs.html#ab88fb7fbd062ccb91d72594c56a3d07b">worldfile</a>(w), <a class="code" href="classStg_1_1CtrlArgs.html#a036eafa7d11847c6078d6f75a8688289">cmdline</a>(c) {}
<a name="l00798"></a>00798   };
<a name="l00799"></a>00799 
<a name="l00801"></a><a class="code" href="classStg_1_1World.html">00801</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1World.html" title="World class">World</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Ancestor.html">Ancestor</a>
<a name="l00802"></a>00802   {
<a name="l00803"></a><a class="code" href="classStg_1_1World.html#ac2af81cbc457d21a00f09f5e7e5c4ddf">00803</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Block.html">Block</a>;
<a name="l00804"></a><a class="code" href="classStg_1_1World.html#a2bf2a0e9b454c55aa5dcb5aa4698697b">00804</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>; <span class="comment">// allow access to private members</span>
<a name="l00805"></a><a class="code" href="classStg_1_1World.html#af0a733ce1a9a43508f17b7aa252f6cf5">00805</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1ModelFiducial.html" title="ModelFiducial class">ModelFiducial</a>;
<a name="l00806"></a><a class="code" href="classStg_1_1World.html#a9816083e25bae0b2f472e19382136687">00806</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Canvas.html">Canvas</a>;
<a name="l00807"></a>00807 
<a name="l00808"></a>00808   <span class="keyword">public</span>: 
<a name="l00811"></a><a class="code" href="classStg_1_1World.html#ab0d50eed56d31d2155b8cb43e2e1766f">00811</a>      <span class="keyword">static</span> std::vector&lt;std::string&gt; <a class="code" href="classStg_1_1World.html#ab0d50eed56d31d2155b8cb43e2e1766f">args</a>;
<a name="l00812"></a><a class="code" href="classStg_1_1World.html#ac78297bc129aa5e56263debbe8a4c871">00812</a>      <span class="keyword">static</span> std::string <a class="code" href="classStg_1_1World.html#ac78297bc129aa5e56263debbe8a4c871">ctrlargs</a>;
<a name="l00813"></a>00813 
<a name="l00814"></a>00814   <span class="keyword">private</span>:
<a name="l00815"></a>00815     
<a name="l00816"></a>00816     <span class="keyword">static</span> std::set&lt;World*&gt; world_set; 
<a name="l00817"></a>00817     <span class="keyword">static</span> <span class="keywordtype">bool</span> quit_all; 
<a name="l00818"></a>00818     <span class="keyword">static</span> <span class="keywordtype">void</span> UpdateCb( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* world);
<a name="l00819"></a>00819     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> next_id; 
<a name="l00820"></a>00820      
<a name="l00821"></a>00821     <span class="keywordtype">bool</span> destroy;
<a name="l00822"></a>00822     <span class="keywordtype">bool</span> dirty; 
<a name="l00823"></a>00823 
<a name="l00825"></a>00825      <span class="comment">//std::vector&lt;Model*&gt; jit_render;</span>
<a name="l00826"></a>00826 
<a name="l00828"></a>00828      std::set&lt;Model*&gt; models;
<a name="l00829"></a>00829 
<a name="l00831"></a>00831      std::map&lt;std::string, Model*&gt; models_by_name;      
<a name="l00832"></a>00832 
<a name="l00834"></a>00834      std::map&lt;int,Model*&gt; models_by_wfentity;
<a name="l00835"></a>00835         
<a name="l00838"></a>00838      <a class="code" href="namespaceStg.html#a38d0c02cc28c516d9c490835a1e903a7">ModelPtrVec</a> models_with_fiducials;
<a name="l00839"></a>00839         
<a name="l00840"></a>00840         <span class="keyword">struct </span>ltx
<a name="l00841"></a>00841         {
<a name="l00842"></a>00842             <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* a, <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* b) <span class="keyword">const</span>;
<a name="l00843"></a>00843         };
<a name="l00844"></a>00844         
<a name="l00845"></a>00845         <span class="keyword">struct </span>lty
<a name="l00846"></a>00846         {
<a name="l00847"></a>00847             <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* a, <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* b) <span class="keyword">const</span>;
<a name="l00848"></a>00848         };
<a name="l00849"></a>00849         
<a name="l00850"></a>00850         std::set&lt;Model*,ltx&gt; models_with_fiducials_byx;
<a name="l00851"></a>00851         std::set&lt;Model*,lty&gt; models_with_fiducials_byy;
<a name="l00852"></a>00852                      
<a name="l00854"></a>00854      <span class="keywordtype">void</span> FiducialInsert( <a class="code" href="classStg_1_1World.html#a2bf2a0e9b454c55aa5dcb5aa4698697b">Model</a>* mod )
<a name="l00855"></a>00855      { 
<a name="l00856"></a>00856         FiducialErase( mod ); <span class="comment">// make sure it&#39;s not there already</span>
<a name="l00857"></a>00857         models_with_fiducials.push_back( mod ); 
<a name="l00858"></a>00858      }
<a name="l00859"></a>00859      
<a name="l00861"></a>00861      <span class="keywordtype">void</span> FiducialErase( <a class="code" href="classStg_1_1World.html#a2bf2a0e9b454c55aa5dcb5aa4698697b">Model</a>* mod )
<a name="l00862"></a>00862      { 
<a name="l00863"></a>00863         <a class="code" href="namespaceStg.html#a92c75c58a631170c78085e0fc40fd8a5">EraseAll</a>( mod, models_with_fiducials );
<a name="l00864"></a>00864      }
<a name="l00865"></a>00865 
<a name="l00866"></a>00866     <span class="keywordtype">double</span> ppm; 
<a name="l00867"></a>00867     <span class="keywordtype">bool</span> quit; 
<a name="l00868"></a>00868      
<a name="l00869"></a>00869      <span class="keywordtype">bool</span> show_clock; 
<a name="l00870"></a>00870      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> show_clock_interval; 
<a name="l00871"></a>00871 
<a name="l00872"></a>00872     pthread_mutex_t thread_mutex; 
<a name="l00873"></a>00873      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> threads_working; 
<a name="l00874"></a>00874     pthread_cond_t threads_start_cond; 
<a name="l00875"></a>00875     pthread_cond_t threads_done_cond; 
<a name="l00876"></a>00876     <span class="keywordtype">int</span> total_subs; 
<a name="l00877"></a>00877      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> worker_threads; 
<a name="l00878"></a>00878     
<a name="l00879"></a>00879   <span class="keyword">protected</span>:     
<a name="l00880"></a>00880 
<a name="l00881"></a><a class="code" href="classStg_1_1World.html#a3405cf528fe866d127008db3d937a11e">00881</a>      std::list&lt;std::pair&lt;world_callback_t,void*&gt; &gt; <a class="code" href="classStg_1_1World.html#a3405cf528fe866d127008db3d937a11e" title="List of callback functions and arguments.">cb_list</a>; 
<a name="l00882"></a><a class="code" href="classStg_1_1World.html#a5f2efa702013d6b3fe306a5c921adbc6">00882</a>     <a class="code" href="classStg_1_1bounds3d__t.html">bounds3d_t</a> <a class="code" href="classStg_1_1World.html#a5f2efa702013d6b3fe306a5c921adbc6" title="Describes the 3D volume of the world.">extent</a>; 
<a name="l00883"></a><a class="code" href="classStg_1_1World.html#a2675b0ca05a60cb2765e7b38ec2b7870">00883</a>     <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#a2675b0ca05a60cb2765e7b38ec2b7870" title="true iff we have a GUI">graphics</a>;
<a name="l00884"></a>00884 
<a name="l00885"></a><a class="code" href="classStg_1_1World.html#a3e0391353eb270a936fcccac5bab53df">00885</a>      std::set&lt;Option*&gt; <a class="code" href="classStg_1_1World.html#a3e0391353eb270a936fcccac5bab53df" title="GUI options (toggles) registered by models.">option_table</a>; 
<a name="l00886"></a><a class="code" href="classStg_1_1World.html#a0de3ad1119b20f06178e549cb9b577e8">00886</a>      std::list&lt;PowerPack*&gt; <a class="code" href="classStg_1_1World.html#a0de3ad1119b20f06178e549cb9b577e8" title="List of all the powerpacks attached to models in the world.">powerpack_list</a>; 
<a name="l00887"></a>00887 
<a name="l00888"></a><a class="code" href="classStg_1_1World.html#a808a6c0137f6df4e590c5c58aa60c9a9">00888</a>     <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1World.html#a808a6c0137f6df4e590c5c58aa60c9a9">quit_time</a>;
<a name="l00889"></a><a class="code" href="classStg_1_1World.html#a0c98cced125ac91eacf96a6e0dcd092f">00889</a>      std::list&lt;float*&gt; <a class="code" href="classStg_1_1World.html#a0c98cced125ac91eacf96a6e0dcd092f" title="List of rays traced for debug visualization.">ray_list</a>;
<a name="l00890"></a><a class="code" href="classStg_1_1World.html#ab0b2d2ccd57d40b71d67f62cc51cda30">00890</a>     <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1World.html#ab0b2d2ccd57d40b71d67f62cc51cda30" title="the current sim time in this world in microseconds">sim_time</a>; 
<a name="l00891"></a><a class="code" href="classStg_1_1World.html#af184b41236feeff398fc229785793b5d">00891</a>      std::map&lt;point_int_t,SuperRegion*&gt; <a class="code" href="classStg_1_1World.html#af184b41236feeff398fc229785793b5d">superregions</a>;
<a name="l00892"></a><a class="code" href="classStg_1_1World.html#a0309307dadcea4f9ce83b66018e471ca">00892</a>     <a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>* <a class="code" href="classStg_1_1World.html#a0309307dadcea4f9ce83b66018e471ca" title="The last superregion looked up by this world.">sr_cached</a>; 
<a name="l00893"></a>00893      
<a name="l00894"></a><a class="code" href="classStg_1_1World.html#a0ce80e6963096bfac854e7b7b2d3cdec">00894</a>      std::vector&lt;ModelPtrVec&gt; <a class="code" href="classStg_1_1World.html#a0ce80e6963096bfac854e7b7b2d3cdec">update_lists</a>;  
<a name="l00895"></a>00895      
<a name="l00896"></a><a class="code" href="classStg_1_1World.html#a43bda618797227cfb4f90d25ab7829ad">00896</a>     uint64_t <a class="code" href="classStg_1_1World.html#a43bda618797227cfb4f90d25ab7829ad" title="the number of simulated time steps executed so far">updates</a>; 
<a name="l00897"></a><a class="code" href="classStg_1_1World.html#af5502ca7af4650891c498f4a3171b3ad">00897</a>     <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1World.html#af5502ca7af4650891c498f4a3171b3ad" title="If set, points to the worldfile used to create this world.">wf</a>; 
<a name="l00898"></a>00898 
<a name="l00899"></a>00899      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#afc3d9b2e54c8971bacb52b1785f8ad4b" title="Call all calbacks in cb_list, removing any that return true;.">CallUpdateCallbacks</a>(); 
<a name="l00900"></a>00900 
<a name="l00901"></a>00901   <span class="keyword">public</span>:
<a name="l00902"></a>00902      
<a name="l00903"></a><a class="code" href="classStg_1_1World.html#ad8100c766184098402cb9f542ef3befb">00903</a>     <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#ad8100c766184098402cb9f542ef3befb" title="if true, the simulation is stopped">paused</a>; 
<a name="l00904"></a>00904 
<a name="l00905"></a><a class="code" href="classStg_1_1World.html#adfec9f77d3c63c7399d5844d05630811">00905</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#adfec9f77d3c63c7399d5844d05630811">Start</a>(){ <a class="code" href="classStg_1_1World.html#ad8100c766184098402cb9f542ef3befb" title="if true, the simulation is stopped">paused</a> = <span class="keyword">false</span>; };
<a name="l00906"></a><a class="code" href="classStg_1_1World.html#a18b86410ffda7c4d0d018e4cd59aba79">00906</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a18b86410ffda7c4d0d018e4cd59aba79">Stop</a>(){ <a class="code" href="classStg_1_1World.html#ad8100c766184098402cb9f542ef3befb" title="if true, the simulation is stopped">paused</a> = <span class="keyword">true</span>; };
<a name="l00907"></a><a class="code" href="classStg_1_1World.html#a61fedf61b3af41218ee2889cdebedcef">00907</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a61fedf61b3af41218ee2889cdebedcef">TogglePause</a>(){ <a class="code" href="classStg_1_1World.html#ad8100c766184098402cb9f542ef3befb" title="if true, the simulation is stopped">paused</a> ? <a class="code" href="classStg_1_1World.html#adfec9f77d3c63c7399d5844d05630811">Start</a>() : <a class="code" href="classStg_1_1World.html#a18b86410ffda7c4d0d018e4cd59aba79">Stop</a>(); };
<a name="l00908"></a>00908 
<a name="l00909"></a><a class="code" href="classStg_1_1World.html#af5b85393ae7715e418302109478cef54">00909</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#af5b85393ae7715e418302109478cef54">Paused</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span>( <a class="code" href="classStg_1_1World.html#ad8100c766184098402cb9f542ef3befb" title="if true, the simulation is stopped">paused</a> ); };
<a name="l00910"></a>00910         
<a name="l00914"></a><a class="code" href="classStg_1_1World.html#ad2e87a73f72f435151b1d684d51fec39">00914</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a6f224e5ec99ec1ed86df98f8bb36989c">Redraw</a>( <span class="keywordtype">void</span> ){ }; <span class="comment">// does nothing</span>
<a name="l00915"></a>00915 
<a name="l00916"></a>00916      <a class="code" href="namespaceStg.html#a7b3def6d7fecd049661dccc46a00f5ec">PointIntVec</a> <a class="code" href="classStg_1_1World.html#ad2e87a73f72f435151b1d684d51fec39">rt_cells</a>;
<a name="l00917"></a><a class="code" href="classStg_1_1World.html#a897508d78376a582d92bdc21dc5cac37">00917</a>      <a class="code" href="namespaceStg.html#a7b3def6d7fecd049661dccc46a00f5ec">PointIntVec</a> <a class="code" href="classStg_1_1World.html#a897508d78376a582d92bdc21dc5cac37">rt_candidate_cells</a>;
<a name="l00918"></a>00918 
<a name="l00919"></a><a class="code" href="classStg_1_1World.html#a9784420ba8ed4826d49d1f6f03ac01eb">00919</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1World.html#a9784420ba8ed4826d49d1f6f03ac01eb">DEFAULT_PPM</a> = 50;  <span class="comment">// default resolution in pixels per meter</span>
<a name="l00920"></a>00920 
<a name="l00923"></a>00923      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a0ddf429a80f04e03afb2c3ab97dfbf64">AddUpdateCallback</a>( <a class="code" href="namespaceStg.html#ae8d9e42a8837bdb310425f8b1ae6fca4">world_callback_t</a> cb, <span class="keywordtype">void</span>* user );
<a name="l00924"></a>00924 
<a name="l00927"></a>00927      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1World.html#a4642c388ada40ef36e0089b40a4f90c6">RemoveUpdateCallback</a>( <a class="code" href="namespaceStg.html#ae8d9e42a8837bdb310425f8b1ae6fca4">world_callback_t</a> cb, <span class="keywordtype">void</span>* user );
<a name="l00928"></a>00928 
<a name="l00930"></a>00930      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a68379d35f41709d543aee8412ef4fedb">Log</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l00931"></a>00931 
<a name="l00933"></a><a class="code" href="classStg_1_1World.html#a463f5e838b91a06595010d30b46abe98">00933</a>     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a463f5e838b91a06595010d30b46abe98">NeedRedraw</a>(){ dirty = <span class="keyword">true</span>; };
<a name="l00934"></a>00934     
<a name="l00936"></a>00936     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1World.html#ad76ecaa0209fac7d7e5d6d0c49083ce0">ground</a>;
<a name="l00937"></a>00937     
<a name="l00940"></a>00940     <span class="keyword">virtual</span> std::string <a class="code" href="classStg_1_1World.html#a577774607c8ef81acd591621a56ec649">ClockString</a>( <span class="keywordtype">void</span> ) <span class="keyword">const</span>;
<a name="l00941"></a>00941         
<a name="l00942"></a>00942      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1World.html#ae2451dd4a14602441fd98ef1b15417ab">CreateModel</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* parent, <span class="keyword">const</span> std::string&amp; typestr );    
<a name="l00943"></a>00943     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a8f7d837c6e0619e6d98b7b350145fb81">LoadModel</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1World.html#af5502ca7af4650891c498f4a3171b3ad" title="If set, points to the worldfile used to create this world.">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l00944"></a>00944     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a4403286b91ff82e7b2182447fe4e6289">LoadBlock</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1World.html#af5502ca7af4650891c498f4a3171b3ad" title="If set, points to the worldfile used to create this world.">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l00945"></a>00945     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#aef6c1958bccff337b25d63ee84830c9f">LoadBlockGroup</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1World.html#af5502ca7af4650891c498f4a3171b3ad" title="If set, points to the worldfile used to create this world.">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l00946"></a>00946     
<a name="l00947"></a>00947         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a0a78298741e9acab7c20fa4878c9c3fb">LoadSensor</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1World.html#af5502ca7af4650891c498f4a3171b3ad" title="If set, points to the worldfile used to create this world.">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l00948"></a>00948 
<a name="l00949"></a><a class="code" href="classStg_1_1World.html#a9dbe91395ab5492fb9d305993ba45221">00949</a>     <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1World.html#a9dbe91395ab5492fb9d305993ba45221">RecentlySelectedModel</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> NULL; }
<a name="l00950"></a>00950         
<a name="l00951"></a>00951     <a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>* <a class="code" href="classStg_1_1World.html#ae8e87d35b2d19601566d3b80c779fe04">AddSuperRegion</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a>&amp; coord );
<a name="l00952"></a>00952     <a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>* <a class="code" href="classStg_1_1World.html#a1ee85d9526aba9cc58acfe2965ae75a8">GetSuperRegion</a>( int32_t x, int32_t y );
<a name="l00953"></a>00953     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a88dd12e46036897fb8aac361df862ad9">ExpireSuperRegion</a>( <a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>* sr );
<a name="l00954"></a>00954         
<a name="l00957"></a>00957     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#add936135bb61e1ea3947409abbebf052">ForEachCellInLine</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a>&amp; pt1,
<a name="l00958"></a>00958                                                         <span class="keyword">const</span> <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a>&amp; pt2, 
<a name="l00959"></a>00959                                                         <a class="code" href="namespaceStg.html#a67071608d422bdcf8e2520002c35151b">CellPtrVec</a>&amp; cells );
<a name="l00960"></a>00960         
<a name="l00963"></a><a class="code" href="classStg_1_1World.html#a3401b4f6fb1840a10b52bb8832f6a61d">00963</a>     int32_t <a class="code" href="classStg_1_1World.html#a3401b4f6fb1840a10b52bb8832f6a61d">MetersToPixels</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> x )<span class="keyword"> const</span>
<a name="l00964"></a>00964 <span class="keyword">    </span>{ <span class="keywordflow">return</span> (int32_t)floor(x * ppm); };
<a name="l00965"></a>00965         
<a name="l00966"></a><a class="code" href="classStg_1_1World.html#a14d57aecad856349c5afb41448b74b96">00966</a>     <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a> <a class="code" href="classStg_1_1World.html#a3401b4f6fb1840a10b52bb8832f6a61d">MetersToPixels</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__t.html">point_t</a>&amp; pt )<span class="keyword"> const</span>
<a name="l00967"></a>00967 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a>( <a class="code" href="classStg_1_1World.html#a14d57aecad856349c5afb41448b74b96">MetersToPixels</a>(pt.<a class="code" href="classStg_1_1point__t.html#af62615f4ed2939ee53ff756c97981f39">x</a>), <a class="code" href="classStg_1_1World.html#a3401b4f6fb1840a10b52bb8832f6a61d">MetersToPixels</a>(pt.<a class="code" href="classStg_1_1point__t.html#aac965cb009c112e5a9ac48f2a7acf512">y</a>)); };
<a name="l00968"></a>00968         
<a name="l00969"></a>00969     <span class="comment">// dummy implementations to be overloaded by GUI subclasses</span>
<a name="l00970"></a><a class="code" href="classStg_1_1World.html#a628bd136bf2555ceea8992de15d76ea3">00970</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a628bd136bf2555ceea8992de15d76ea3">PushColor</a>( <a class="code" href="classStg_1_1Color.html">Color</a> col ) 
<a name="l00971"></a>00971      { <span class="comment">/* do nothing */</span>  (void)col; };
<a name="l00972"></a><a class="code" href="classStg_1_1World.html#ad361219666c8791c7063f8b53d296560">00972</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a628bd136bf2555ceea8992de15d76ea3">PushColor</a>( <span class="keywordtype">double</span> r, <span class="keywordtype">double</span> g, <span class="keywordtype">double</span> b, <span class="keywordtype">double</span> a ) 
<a name="l00973"></a>00973      { <span class="comment">/* do nothing */</span> (void)r; (void)g; (void)b; (void)a; };
<a name="l00974"></a>00974      
<a name="l00975"></a><a class="code" href="classStg_1_1World.html#aa21b0871f0ef5ef68036ebea11faba29">00975</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#aa21b0871f0ef5ef68036ebea11faba29">PopColor</a>(){ <span class="comment">/* do nothing */</span>  };
<a name="l00976"></a>00976         
<a name="l00977"></a>00977     <a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>* <a class="code" href="classStg_1_1World.html#ad7d9d8b4e3356e8811fe497d5886a867">CreateSuperRegion</a>( <a class="code" href="classStg_1_1point__int__t.html">point_int_t</a> origin );
<a name="l00978"></a>00978     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a17b448eace182661a9a5d36282c68912">DestroySuperRegion</a>( <a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>* sr );
<a name="l00979"></a>00979         
<a name="l00981"></a>00981      <a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a> <a class="code" href="classStg_1_1World.html#a4df8e4a11e51d540fb42188a1e440c4a">Raytrace</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Ray.html">Ray</a>&amp; ray );
<a name="l00982"></a>00982 
<a name="l00983"></a>00983     <a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a> <a class="code" href="classStg_1_1World.html#a4df8e4a11e51d540fb42188a1e440c4a">Raytrace</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; pose,           
<a name="l00984"></a>00984                                                 <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> range,
<a name="l00985"></a>00985                                                 <span class="keyword">const</span> <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> func,
<a name="l00986"></a>00986                                                 <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* finder,
<a name="l00987"></a>00987                                                 <span class="keyword">const</span> <span class="keywordtype">void</span>* arg,
<a name="l00988"></a>00988                                                 <span class="keyword">const</span> <span class="keywordtype">bool</span> ztest );
<a name="l00989"></a>00989         
<a name="l00990"></a>00990     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a4df8e4a11e51d540fb42188a1e440c4a">Raytrace</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> &amp;pose,             
<a name="l00991"></a>00991                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> range,
<a name="l00992"></a>00992                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> fov,
<a name="l00993"></a>00993                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> func,
<a name="l00994"></a>00994                          <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* finder,
<a name="l00995"></a>00995                          <span class="keyword">const</span> <span class="keywordtype">void</span>* arg,
<a name="l00996"></a>00996                          <a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a>* samples,
<a name="l00997"></a>00997                          <span class="keyword">const</span> uint32_t sample_count,
<a name="l00998"></a>00998                          <span class="keyword">const</span> <span class="keywordtype">bool</span> ztest );
<a name="l00999"></a>00999         
<a name="l01000"></a>01000         
<a name="l01002"></a>01002     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#af9844e06707ed319d83e4eb8b2020bd5">Extend</a>( <a class="code" href="classStg_1_1point3__t.html">point3_t</a> pt );
<a name="l01003"></a>01003   
<a name="l01004"></a>01004     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a1496ba37cf684508ac124f541a7d7f53">AddModel</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l01005"></a>01005     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a96ea4ed0af8edd34a17259596a36011b">RemoveModel</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l01006"></a>01006 
<a name="l01007"></a>01007     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a3f1663f093abf22487537a822a115b76">AddModelName</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <span class="keyword">const</span> std::string&amp; name );
<a name="l01008"></a>01008         
<a name="l01009"></a>01009     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#aa535413c97e654524e315c2bb4d10e5b">AddPowerPack</a>( <a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>* pp );
<a name="l01010"></a>01010     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#addbd44639721adb441e0672bfb487bce">RemovePowerPack</a>( <a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>* pp );
<a name="l01011"></a>01011         
<a name="l01012"></a>01012     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#aff36f9dd3fe0e61a4ea18d02a87072ef">ClearRays</a>();
<a name="l01013"></a>01013   
<a name="l01015"></a>01015     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a38634e35d47011299a8d5d64f6b950e3">RecordRay</a>( <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> x2, <span class="keywordtype">double</span> y2 );
<a name="l01016"></a>01016         
<a name="l01019"></a>01019     <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#adc9318a0d2005802c41a74fb7ce78d49">PastQuitTime</a>();
<a name="l01020"></a>01020                 
<a name="l01021"></a>01021     <span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="classStg_1_1World.html#a247a219cf02b97d978358188b6e4b44d">update_thread_entry</a>( std::pair&lt;World*,int&gt;* info );
<a name="l01022"></a>01022     
<a name="l01023"></a><a class="code" href="classStg_1_1World_1_1Event.html">01023</a>     <span class="keyword">class </span><a class="code" href="classStg_1_1World_1_1Event.html">Event</a>
<a name="l01024"></a>01024     {
<a name="l01025"></a>01025     <span class="keyword">public</span>:
<a name="l01026"></a>01026       
<a name="l01027"></a><a class="code" href="classStg_1_1World_1_1Event.html#abd45729a35469f26320ec5e7aa8a405f">01027</a>       <a class="code" href="classStg_1_1World_1_1Event.html#abd45729a35469f26320ec5e7aa8a405f">Event</a>( <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1World_1_1Event.html#a2c43eca6840eb9c2e98e0a545df7157a" title="time that event occurs">time</a>, <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod ) 
<a name="l01028"></a>01028           : time(time), mod(mod) {}
<a name="l01029"></a>01029       
<a name="l01030"></a><a class="code" href="classStg_1_1World_1_1Event.html#a2c43eca6840eb9c2e98e0a545df7157a">01030</a>       <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1World_1_1Event.html#a2c43eca6840eb9c2e98e0a545df7157a" title="time that event occurs">time</a>; 
<a name="l01031"></a><a class="code" href="classStg_1_1World_1_1Event.html#afdbb4d36906479f7d6aa7f911ccd9cde">01031</a>       <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1World_1_1Event.html#afdbb4d36906479f7d6aa7f911ccd9cde" title="model to update">mod</a>; 
<a name="l01032"></a>01032       
<a name="l01035"></a>01035       <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World_1_1Event.html#a5251d44208a0acfd358453db54c227f4">operator&lt;</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1World_1_1Event.html">Event</a>&amp; other ) <span class="keyword">const</span>;
<a name="l01036"></a>01036     };
<a name="l01037"></a>01037      
<a name="l01039"></a><a class="code" href="classStg_1_1World.html#a20739f65f253ec502a05b2e40a4e2dff">01039</a>      std::vector&lt;std::priority_queue&lt;Event&gt; &gt; <a class="code" href="classStg_1_1World.html#a20739f65f253ec502a05b2e40a4e2dff">event_queues</a>;
<a name="l01040"></a>01040 
<a name="l01052"></a>01052      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a5147974f009c1e81661f18a730e572e0">Enqueue</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> queue_num, <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> delay, <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l01053"></a>01053      
<a name="l01055"></a><a class="code" href="classStg_1_1World.html#aa3a89b54bff3b2a5617144710754609a">01055</a>      std::set&lt;Model*&gt; <a class="code" href="classStg_1_1World.html#aa3a89b54bff3b2a5617144710754609a">active_energy</a>;
<a name="l01056"></a>01056 
<a name="l01058"></a><a class="code" href="classStg_1_1World.html#a9bb85347e9abc5ac8174b08365fa147f">01058</a>      std::set&lt;Model*&gt; <a class="code" href="classStg_1_1World.html#a9bb85347e9abc5ac8174b08365fa147f">active_velocity</a>;
<a name="l01059"></a>01059 
<a name="l01061"></a><a class="code" href="classStg_1_1World.html#ab8470fa275b454399774b21cdaf3842b">01061</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1World.html#ab8470fa275b454399774b21cdaf3842b">sim_interval</a>;
<a name="l01062"></a>01062      
<a name="l01064"></a>01064      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a8b9bcbcd9f50ac7d68a1492dcee39506">ConsumeQueue</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> queue_num );
<a name="l01065"></a>01065 
<a name="l01068"></a>01068      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1World.html#a402c739c5d8061939048cc38f1cd262d">GetEventQueue</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod ) <span class="keyword">const</span>;
<a name="l01069"></a>01069 
<a name="l01070"></a>01070   <span class="keyword">public</span>:
<a name="l01072"></a>01072     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#ad8813b39aa23dfe963fff64b1ebb4bdf">UpdateAll</a>(); 
<a name="l01073"></a>01073      
<a name="l01074"></a>01074     <a class="code" href="classStg_1_1World.html#a58c94c81b930014a47f61a588421f265">World</a>( <span class="keyword">const</span> std::string&amp; name = <span class="stringliteral">&quot;MyWorld&quot;</span>, 
<a name="l01075"></a>01075               <span class="keywordtype">double</span> ppm = <a class="code" href="classStg_1_1World.html#a9784420ba8ed4826d49d1f6f03ac01eb">DEFAULT_PPM</a> );
<a name="l01076"></a>01076         
<a name="l01077"></a>01077     <span class="keyword">virtual</span> <a class="code" href="classStg_1_1World.html#a8c73fba541a5817fff65147ba47cd827">~World</a>();
<a name="l01078"></a>01078     
<a name="l01080"></a><a class="code" href="classStg_1_1World.html#a3088961f98c4da78aee8c553a4b58439">01080</a>     <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1World.html#a3088961f98c4da78aee8c553a4b58439">SimTimeNow</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1World.html#ab0b2d2ccd57d40b71d67f62cc51cda30" title="the current sim time in this world in microseconds">sim_time</a>; }
<a name="l01081"></a>01081         
<a name="l01084"></a><a class="code" href="classStg_1_1World.html#acf81d18ff640ef495c82bb2d0a6984b2">01084</a>     <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1World.html#acf81d18ff640ef495c82bb2d0a6984b2">GetWorldFile</a>()   { <span class="keywordflow">return</span> <a class="code" href="classStg_1_1World.html#af5502ca7af4650891c498f4a3171b3ad" title="If set, points to the worldfile used to create this world.">wf</a>; };
<a name="l01085"></a>01085         
<a name="l01089"></a><a class="code" href="classStg_1_1World.html#af7c194e08e648fc1b1caf96e2f79a15d">01089</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#af7c194e08e648fc1b1caf96e2f79a15d">IsGUI</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l01090"></a>01090      
<a name="l01096"></a>01096     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a27b7230dd0c1a59492689e8044689caa">Load</a>( <span class="keyword">const</span> std::string&amp; worldfile_path );
<a name="l01097"></a>01097 
<a name="l01098"></a>01098     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a53d5d1f4dc282566a23381909adbd2de">UnLoad</a>();
<a name="l01099"></a>01099 
<a name="l01100"></a>01100     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a7677b28e51018c2b0a5b117302eaeb22">Reload</a>();
<a name="l01101"></a>01101 
<a name="l01104"></a>01104     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#a06902bf3d07de5edb7a89ee1147981ad">Save</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* filename );
<a name="l01105"></a>01105 
<a name="l01109"></a>01109     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#ac518bc93441b88e5000c222820023401">Update</a>(<span class="keywordtype">void</span>);
<a name="l01110"></a>01110      
<a name="l01114"></a><a class="code" href="classStg_1_1World.html#ac4490a1be893e4d48b67cb6aedec2c71">01114</a>     <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1World.html#ac4490a1be893e4d48b67cb6aedec2c71">TestQuit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span>( quit || quit_all );  }
<a name="l01115"></a>01115         
<a name="l01117"></a><a class="code" href="classStg_1_1World.html#aed1b06528a719f90e44d14c589abdf81">01117</a>     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#aed1b06528a719f90e44d14c589abdf81">Quit</a>(){ quit = <span class="keyword">true</span>; }
<a name="l01118"></a>01118 
<a name="l01120"></a><a class="code" href="classStg_1_1World.html#aa8c30e82a23c89a041bf549e39d57f03">01120</a>     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#aa8c30e82a23c89a041bf549e39d57f03">QuitAll</a>(){ quit_all = <span class="keyword">true</span>; }
<a name="l01121"></a>01121 
<a name="l01123"></a><a class="code" href="classStg_1_1World.html#a5b85f478e479e3adac5bc4b372cad70c">01123</a>     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a5b85f478e479e3adac5bc4b372cad70c">CancelQuit</a>(){ quit = <span class="keyword">false</span>; }
<a name="l01124"></a>01124 
<a name="l01126"></a><a class="code" href="classStg_1_1World.html#a003ffbaeaf706fcbe1017d0aa6f9fe1f">01126</a>     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a003ffbaeaf706fcbe1017d0aa6f9fe1f">CancelQuitAll</a>(){ quit_all = <span class="keyword">false</span>; }
<a name="l01127"></a>01127      
<a name="l01128"></a>01128      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a59352bee8ff2cbcf73467d2454d5eefd">TryCharge</a>( <a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>* pp, <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; pose );
<a name="l01129"></a>01129 
<a name="l01132"></a><a class="code" href="classStg_1_1World.html#ab49d5becfaaaca90e1c0eb15163c5daf">01132</a>     <span class="keywordtype">double</span> <a class="code" href="classStg_1_1World.html#ab49d5becfaaaca90e1c0eb15163c5daf">Resolution</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ppm; };
<a name="l01133"></a>01133    
<a name="l01136"></a>01136     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1World.html#a6b1b59c454c3a2261cf7b0abdc805930">GetModel</a>( <span class="keyword">const</span> std::string&amp; name ) <span class="keyword">const</span>;
<a name="l01137"></a>01137 
<a name="l01139"></a><a class="code" href="classStg_1_1World.html#a8345da021c42b09dde0e714704e6a642">01139</a>     <span class="keyword">const</span> std::set&lt;Model*&gt; <a class="code" href="classStg_1_1World.html#a8345da021c42b09dde0e714704e6a642">GetAllModels</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> models; };
<a name="l01140"></a>01140   
<a name="l01142"></a><a class="code" href="classStg_1_1World.html#a2278d2e6713cab36b1456359fbdd80b8">01142</a>     <span class="keyword">const</span> <a class="code" href="classStg_1_1bounds3d__t.html">bounds3d_t</a>&amp; <a class="code" href="classStg_1_1World.html#a2278d2e6713cab36b1456359fbdd80b8">GetExtent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1World.html#a5f2efa702013d6b3fe306a5c921adbc6" title="Describes the 3D volume of the world.">extent</a>; };
<a name="l01143"></a>01143   
<a name="l01145"></a><a class="code" href="classStg_1_1World.html#a83173198f040ec46e1a757eea8f90562">01145</a>     uint64_t <a class="code" href="classStg_1_1World.html#a83173198f040ec46e1a757eea8f90562">GetUpdateCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1World.html#a43bda618797227cfb4f90d25ab7829ad" title="the number of simulated time steps executed so far">updates</a>; }
<a name="l01146"></a>01146 
<a name="l01148"></a>01148      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#a04e2dcff94092553fb40efcdaab1818a" title="Register an Option for pickup by the GUI.">RegisterOption</a>( <a class="code" href="classStg_1_1Option.html">Option</a>* opt );    
<a name="l01149"></a>01149      
<a name="l01151"></a><a class="code" href="classStg_1_1World.html#af5afff1cfadcac314220a3ef69842a06">01151</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1World.html#af5afff1cfadcac314220a3ef69842a06" title="Control printing time to stdout.">ShowClock</a>( <span class="keywordtype">bool</span> enable ){ show_clock = enable; };
<a name="l01152"></a>01152 
<a name="l01154"></a><a class="code" href="classStg_1_1World.html#ae8fbe44a4724121e0ffaf1ba0e024adb">01154</a>      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1World.html#ae8fbe44a4724121e0ffaf1ba0e024adb">GetGround</a>() {<span class="keywordflow">return</span> <a class="code" href="classStg_1_1World.html#ad76ecaa0209fac7d7e5d6d0c49083ce0">ground</a>;};
<a name="l01155"></a>01155     
<a name="l01156"></a>01156   };
<a name="l01157"></a>01157 
<a name="l01158"></a><a class="code" href="classStg_1_1Block.html">01158</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Block.html">Block</a>
<a name="l01159"></a>01159   {
<a name="l01160"></a><a class="code" href="classStg_1_1Block.html#ac3a0e30bad796953b667d382ff42d30a">01160</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1BlockGroup.html">BlockGroup</a>;
<a name="l01161"></a><a class="code" href="classStg_1_1Block.html#a2bf2a0e9b454c55aa5dcb5aa4698697b">01161</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>;
<a name="l01162"></a><a class="code" href="classStg_1_1Block.html#ac31376255d87f86be3c51faa360a285f">01162</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1SuperRegion.html">SuperRegion</a>;
<a name="l01163"></a><a class="code" href="classStg_1_1Block.html#a7b4bcdf992c21ae83363f25df05b1d25">01163</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1World.html" title="World class">World</a>;
<a name="l01164"></a><a class="code" href="classStg_1_1Block.html#a9816083e25bae0b2f472e19382136687">01164</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Canvas.html">Canvas</a>;
<a name="l01165"></a>01165   <span class="keyword">public</span>:
<a name="l01166"></a>01166   
<a name="l01170"></a>01170     <a class="code" href="classStg_1_1Block.html#ab21d2f9c738bdfd9cca5faa28801bb61">Block</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod,  
<a name="l01171"></a>01171                      <span class="keyword">const</span> std::vector&lt;point_t&gt;&amp; pts,
<a name="l01172"></a>01172                      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> zmin,
<a name="l01173"></a>01173                      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> zmax,
<a name="l01174"></a>01174                      <a class="code" href="classStg_1_1Color.html">Color</a> color,
<a name="l01175"></a>01175                      <span class="keywordtype">bool</span> inherit_color,
<a name="l01176"></a>01176                      <span class="keywordtype">bool</span> wheel );
<a name="l01177"></a>01177   
<a name="l01179"></a>01179     <a class="code" href="classStg_1_1Block.html#ab21d2f9c738bdfd9cca5faa28801bb61">Block</a>(  <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod,  <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> entity);
<a name="l01180"></a>01180      
<a name="l01181"></a>01181     <a class="code" href="classStg_1_1Block.html#a19d1bd0e1cef6a865ed2745a2e648405">~Block</a>();
<a name="l01182"></a>01182      
<a name="l01184"></a>01184     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a35647b1146a6bd9692ea094dbbe5a743">Map</a>();      
<a name="l01185"></a>01185      
<a name="l01187"></a>01187     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#ab25f3dfcc7cf5ffdc0b74a2acc635cf4">UnMap</a>();    
<a name="l01188"></a>01188      
<a name="l01190"></a>01190      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a46c58e4f0fdfa02a229d6d8bb6b9a5f9">DrawSolid</a>();
<a name="l01191"></a>01191 
<a name="l01193"></a>01193     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a528693d53b90f12bf522b698a1c96187">DrawFootPrint</a>(); 
<a name="l01194"></a>01194 
<a name="l01196"></a>01196      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a2aca36ead429291b6a707d4f399dce56">Translate</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y );   
<a name="l01197"></a>01197 
<a name="l01199"></a>01199      <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Block.html#adeaabd3aa235954fb6bd0e7323b3e67d">CenterX</a>();
<a name="l01200"></a>01200 
<a name="l01202"></a>01202      <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Block.html#a431fa22396519b8478b1acb92c681d6b">CenterY</a>();
<a name="l01203"></a>01203 
<a name="l01205"></a>01205      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#afdb99f237b8f08203834847c8bbe645f">SetCenterX</a>( <span class="keywordtype">double</span> y );
<a name="l01206"></a>01206 
<a name="l01208"></a>01208      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#aafee15568ef03c2755424f900427140d">SetCenterY</a>( <span class="keywordtype">double</span> y );
<a name="l01209"></a>01209 
<a name="l01211"></a>01211      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#ac56648bebf9e3b85e125b106cba55c46">SetCenter</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);    
<a name="l01212"></a>01212 
<a name="l01214"></a>01214      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#acb1a811dff1418b4bb546b44def123e9">SetZ</a>( <span class="keywordtype">double</span> min, <span class="keywordtype">double</span> max );
<a name="l01215"></a>01215         
<a name="l01216"></a>01216     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a1c62d0a8b8e71b4ffa0bc5fa654e9261">RemoveFromCellArray</a>( <a class="code" href="namespaceStg.html#a67071608d422bdcf8e2520002c35151b">CellPtrVec</a>* blocks );
<a name="l01217"></a>01217     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a754a1c489a417a62b251970ca4e85e68">GenerateCandidateCells</a>();  
<a name="l01218"></a>01218         
<a name="l01219"></a>01219         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a867e3911d3041929a42d2194d4b8467d">AppendTouchingModels</a>( <a class="code" href="namespaceStg.html#acd0048e15bcc6c6a96056280ee31591b">ModelPtrSet</a>&amp; touchers );
<a name="l01220"></a>01220      
<a name="l01222"></a>01222     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Block.html#ab03dceda3b1e7a565e74f1ea6555f641">TestCollision</a>(); 
<a name="l01223"></a>01223     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#a37b633fc0554631b4101db36313f9e16">SwitchToTestedCells</a>();  
<a name="l01224"></a>01224     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#ab43aaf676d4d17ff78e39b46f54f379f">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> entity );  
<a name="l01225"></a><a class="code" href="classStg_1_1Block.html#a673aa5c12cf0bcd7c78074e269033ab1">01225</a>     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Block.html#a673aa5c12cf0bcd7c78074e269033ab1">GetModel</a>(){ <span class="keywordflow">return</span> mod; };  
<a name="l01226"></a>01226     <span class="keyword">const</span> <a class="code" href="classStg_1_1Color.html">Color</a>&amp; <a class="code" href="classStg_1_1Block.html#a92982fc608ba0e23d7217f9c7702373e">GetColor</a>();        
<a name="l01227"></a>01227      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Block.html#af9bba6ef4e93051a44138f97f8cf6b5b">Rasterize</a>( uint8_t* data, 
<a name="l01228"></a>01228                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> height,      
<a name="l01229"></a>01229                           <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellwidth, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellheight );
<a name="l01230"></a>01230         
<a name="l01231"></a>01231   <span class="keyword">private</span>:
<a name="l01232"></a>01232     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod; 
<a name="l01233"></a>01233      std::vector&lt;point_t&gt; mpts; 
<a name="l01234"></a>01234     <span class="keywordtype">size_t</span> pt_count; 
<a name="l01235"></a>01235      std::vector&lt;point_t&gt; pts; 
<a name="l01236"></a>01236     <a class="code" href="classStg_1_1Size.html">Size</a> size;   
<a name="l01237"></a>01237     <a class="code" href="classStg_1_1Bounds.html">Bounds</a> local_z; 
<a name="l01238"></a>01238     <a class="code" href="classStg_1_1Color.html">Color</a> color;
<a name="l01239"></a>01239     <span class="keywordtype">bool</span> inherit_color;
<a name="l01240"></a>01240         <span class="keywordtype">bool</span> wheel;
<a name="l01241"></a>01241 
<a name="l01242"></a>01242     <span class="keywordtype">void</span> DrawTop();
<a name="l01243"></a>01243     <span class="keywordtype">void</span> DrawSides();
<a name="l01244"></a>01244      
<a name="l01246"></a>01246     <a class="code" href="classStg_1_1Bounds.html">Bounds</a> global_z;     
<a name="l01247"></a>01247     <span class="keywordtype">bool</span> mapped;
<a name="l01248"></a>01248         
<a name="l01250"></a>01250         std::vector&lt; std::list&lt;Block*&gt;::iterator &gt; list_entries;
<a name="l01251"></a>01251 
<a name="l01254"></a>01254      <a class="code" href="namespaceStg.html#a67071608d422bdcf8e2520002c35151b">CellPtrVec</a> * rendered_cells;
<a name="l01255"></a>01255 
<a name="l01262"></a>01262      <a class="code" href="namespaceStg.html#a67071608d422bdcf8e2520002c35151b">CellPtrVec</a> * candidate_cells;
<a name="l01263"></a>01263     
<a name="l01264"></a>01264      <a class="code" href="namespaceStg.html#a7b3def6d7fecd049661dccc46a00f5ec">PointIntVec</a> gpts;
<a name="l01265"></a>01265     
<a name="l01268"></a>01268      <a class="code" href="classStg_1_1point__t.html">point_t</a> BlockPointToModelMeters( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__t.html">point_t</a>&amp; bpt );
<a name="l01269"></a>01269     
<a name="l01271"></a>01271      <span class="keywordtype">void</span> InvalidateModelPointCache();
<a name="l01272"></a>01272   };
<a name="l01273"></a>01273 
<a name="l01274"></a>01274     
<a name="l01275"></a><a class="code" href="classStg_1_1BlockGroup.html">01275</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1BlockGroup.html">BlockGroup</a>
<a name="l01276"></a>01276   {
<a name="l01277"></a><a class="code" href="classStg_1_1BlockGroup.html#a2bf2a0e9b454c55aa5dcb5aa4698697b">01277</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>;
<a name="l01278"></a><a class="code" href="classStg_1_1BlockGroup.html#ac2af81cbc457d21a00f09f5e7e5c4ddf">01278</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Block.html">Block</a>;
<a name="l01279"></a>01279         
<a name="l01280"></a>01280   <span class="keyword">private</span>:
<a name="l01281"></a>01281     <span class="keywordtype">int</span> displaylist;
<a name="l01282"></a>01282         
<a name="l01283"></a>01283     <span class="keywordtype">void</span> BuildDisplayList( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l01284"></a>01284         
<a name="l01285"></a>01285         <a class="code" href="namespaceStg.html#ad1222dfb12ac0408dbd8f292e99b4092">BlockPtrSet</a> blocks;
<a name="l01286"></a>01286     <a class="code" href="classStg_1_1Size.html">Size</a> size;
<a name="l01287"></a>01287     <a class="code" href="classStg_1_1point3__t.html">point3_t</a> offset;
<a name="l01288"></a>01288     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> minx, maxx, miny, maxy;
<a name="l01289"></a>01289         
<a name="l01290"></a>01290   <span class="keyword">public</span>:
<a name="l01291"></a>01291     <a class="code" href="classStg_1_1BlockGroup.html#abe7c27be226cd462273eaa156c8f6664">BlockGroup</a>();
<a name="l01292"></a>01292     <a class="code" href="classStg_1_1BlockGroup.html#a2de492ec9ba1b254d4af948ae28edcfa">~BlockGroup</a>();
<a name="l01293"></a>01293         
<a name="l01294"></a><a class="code" href="classStg_1_1BlockGroup.html#a12034c8dcacb7b80a6caa91893793e8b">01294</a>     uint32_t <a class="code" href="classStg_1_1BlockGroup.html#a12034c8dcacb7b80a6caa91893793e8b">GetCount</a>(){ <span class="keywordflow">return</span> blocks.size(); };
<a name="l01295"></a><a class="code" href="classStg_1_1BlockGroup.html#ad96607bc0cef944a9591b313f0adf7ab">01295</a>     <span class="keyword">const</span> <a class="code" href="classStg_1_1Size.html">Size</a>&amp; <a class="code" href="classStg_1_1BlockGroup.html#ad96607bc0cef944a9591b313f0adf7ab">GetSize</a>(){ <span class="keywordflow">return</span> size; };
<a name="l01296"></a><a class="code" href="classStg_1_1BlockGroup.html#addde44536b143ba2cc270f0f8487e9f0">01296</a>     <span class="keyword">const</span> <a class="code" href="classStg_1_1point3__t.html">point3_t</a>&amp; <a class="code" href="classStg_1_1BlockGroup.html#addde44536b143ba2cc270f0f8487e9f0">GetOffset</a>(){ <span class="keywordflow">return</span> offset; };
<a name="l01297"></a>01297         
<a name="l01300"></a>01300     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#af746df9fde9891462a2107d02f64c1ca">CalcSize</a>();
<a name="l01301"></a>01301      
<a name="l01302"></a>01302     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#addca7ee290ceed9297d4fdc82056922d">AppendBlock</a>( <a class="code" href="classStg_1_1Block.html">Block</a>* block );
<a name="l01303"></a>01303     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#a40ca33e3bb09ddbb3e6a92f413fe6cb2">CallDisplayList</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l01304"></a>01304     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#ae6fbc3dddce6bcb5c5ed2cac4e082a7c">Clear</a>() ; 
<a name="l01306"></a>01306      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#a6ce28c614016884ef08cc67a3fbb05a0">AppendTouchingModels</a>( <a class="code" href="namespaceStg.html#acd0048e15bcc6c6a96056280ee31591b">ModelPtrSet</a>&amp; touchers );
<a name="l01307"></a>01307      
<a name="l01310"></a>01310     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1BlockGroup.html#a2f196be87d5129230bf88cc285a41558">TestCollision</a>();
<a name="l01311"></a>01311  
<a name="l01312"></a>01312     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#aacd6e7890f79101fa2968bc71bf3e4c3">SwitchToTestedCells</a>();
<a name="l01313"></a>01313      
<a name="l01314"></a>01314     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#aa1780e25d53624f23832ad3454d21ba4">Map</a>();
<a name="l01315"></a>01315     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#ad902d6179f11ff3d4aefaa0632613da5">UnMap</a>();
<a name="l01316"></a>01316      
<a name="l01318"></a>01318     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#a3722a5e1fd35b60392452dcc3e4e4a47">DrawSolid</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Geom.html">Geom</a> &amp;geom); 
<a name="l01319"></a>01319 
<a name="l01321"></a>01321      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#abea9bfb602e2b45a6c1ff040374d988e">DrawFootPrint</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Geom.html">Geom</a> &amp;geom);
<a name="l01322"></a>01322 
<a name="l01323"></a>01323     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#abf7021dd17488ac35c7b6827e2d6c41d">LoadBitmap</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <span class="keyword">const</span> std::string&amp; bitmapfile, <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a> *<a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a> );
<a name="l01324"></a>01324     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#a72cf66097ad3c6af1ba1ec80e9c531f5">LoadBlock</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l01325"></a>01325      
<a name="l01326"></a>01326      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#a3a641c2c2edf03555842df6823178011">Rasterize</a>( uint8_t* data, 
<a name="l01327"></a>01327                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> height,
<a name="l01328"></a>01328                           <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellwidth, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellheight );
<a name="l01329"></a>01329      
<a name="l01330"></a><a class="code" href="classStg_1_1BlockGroup.html#a467a1b6adf3691a3510b06a518e5da2d">01330</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1BlockGroup.html#a467a1b6adf3691a3510b06a518e5da2d">InvalidateModelPointCache</a>()
<a name="l01331"></a>01331      {
<a name="l01332"></a>01332         <a class="code" href="stage_8hh.html#a3690e75319c25cee97a4f7b27669d5da">FOR_EACH</a>( it, blocks )
<a name="l01333"></a>01333           (*it)-&gt;InvalidateModelPointCache();
<a name="l01334"></a>01334      }
<a name="l01335"></a>01335 
<a name="l01336"></a>01336   };
<a name="l01337"></a>01337 
<a name="l01338"></a><a class="code" href="classStg_1_1Camera.html">01338</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Camera.html">Camera</a> 
<a name="l01339"></a>01339   {
<a name="l01340"></a>01340   <span class="keyword">protected</span>:
<a name="l01341"></a><a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">01341</a>     <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a>; <span class="comment">//left-right (about y)</span>
<a name="l01342"></a><a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">01342</a>     <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a>; <span class="comment">//up-down (about x)</span>
<a name="l01343"></a><a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">01343</a>     <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a388938d16c6c66ab6764b55315275a96">_x</a>, <a class="code" href="classStg_1_1Camera.html#ae1a2d11028b7d980188c30cfce5c8308">_y</a>, <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a>;
<a name="l01344"></a>01344     
<a name="l01345"></a>01345   <span class="keyword">public</span>:
<a name="l01346"></a><a class="code" href="classStg_1_1Camera.html#a0cc2c698633020efee696780b5b643cc">01346</a>     <a class="code" href="classStg_1_1Camera.html#a0cc2c698633020efee696780b5b643cc">Camera</a>() : <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a>( 0 ), <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a>( 0 ), <a class="code" href="classStg_1_1Camera.html#a388938d16c6c66ab6764b55315275a96">_x</a>( 0 ), <a class="code" href="classStg_1_1Camera.html#ae1a2d11028b7d980188c30cfce5c8308">_y</a>( 0 ), <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a>( 0 ) { }
<a name="l01347"></a><a class="code" href="classStg_1_1Camera.html#a6f54913a56b91bdb01b13da57acae142">01347</a>     <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Camera.html#a6f54913a56b91bdb01b13da57acae142">~Camera</a>() { }
<a name="l01348"></a>01348 
<a name="l01349"></a>01349     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Camera.html#a7568744f093c66185e0959bab56d5a68">Draw</a>( <span class="keywordtype">void</span> ) <span class="keyword">const</span> = 0;
<a name="l01350"></a>01350     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Camera.html#a8709cd764580420091ce2b895f35d782">SetProjection</a>( <span class="keywordtype">void</span> ) <span class="keyword">const</span> = 0;
<a name="l01351"></a>01351 
<a name="l01352"></a><a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">01352</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a>; }
<a name="l01353"></a><a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">01353</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a>; }
<a name="l01354"></a>01354      
<a name="l01355"></a><a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">01355</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Camera.html#a388938d16c6c66ab6764b55315275a96">_x</a>; }
<a name="l01356"></a><a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">01356</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Camera.html#ae1a2d11028b7d980188c30cfce5c8308">_y</a>; }
<a name="l01357"></a><a class="code" href="classStg_1_1Camera.html#a4765cf8b8dec896e67aaab646db572f2">01357</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a4765cf8b8dec896e67aaab646db572f2">z</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a>; }
<a name="l01358"></a>01358      
<a name="l01359"></a>01359     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Camera.html#ab0dedbfbe81cd84f4d0e30e6bc402237">reset</a>() = 0;
<a name="l01360"></a>01360     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Camera.html#acd51fc228e0d860a343bc3396c4b19ce">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> sec ) = 0;
<a name="l01361"></a>01361 
<a name="l01362"></a>01362     <span class="comment">//TODO data should be passed in somehow else. (at least min/max stuff)</span>
<a name="l01363"></a>01363     <span class="comment">//virtual void SetProjection( float pixels_width, float pixels_height, float y_min, float y_max ) const = 0;</span>
<a name="l01364"></a>01364   };
<a name="l01365"></a>01365 
<a name="l01366"></a><a class="code" href="classStg_1_1PerspectiveCamera.html">01366</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1PerspectiveCamera.html">PerspectiveCamera</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Camera.html">Camera</a>
<a name="l01367"></a>01367   {
<a name="l01368"></a>01368   <span class="keyword">private</span>:
<a name="l01369"></a>01369     <span class="keywordtype">float</span> _z_near;
<a name="l01370"></a>01370     <span class="keywordtype">float</span> _z_far;
<a name="l01371"></a>01371     <span class="keywordtype">float</span> _vert_fov;
<a name="l01372"></a>01372     <span class="keywordtype">float</span> _horiz_fov;
<a name="l01373"></a>01373     <span class="keywordtype">float</span> _aspect;
<a name="l01374"></a>01374 
<a name="l01375"></a>01375   <span class="keyword">public</span>:
<a name="l01376"></a>01376     <a class="code" href="classStg_1_1PerspectiveCamera.html#a870853229155cae6ff84bbe7f4e9548f">PerspectiveCamera</a>( <span class="keywordtype">void</span> );
<a name="l01377"></a>01377 
<a name="l01378"></a>01378     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a7299fc987701f46c79b90ed26bc7a55d">Draw</a>( <span class="keywordtype">void</span> ) <span class="keyword">const</span>;
<a name="l01379"></a>01379     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a33b9aa9d4e1fbf66e0368c6e6176b94e">SetProjection</a>( <span class="keywordtype">void</span> ) <span class="keyword">const</span>;
<a name="l01380"></a>01380     <span class="comment">//void SetProjection( float aspect ) const;</span>
<a name="l01381"></a>01381     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#ae7cc497eb887cb3932e34fdee90f8441">update</a>( <span class="keywordtype">void</span> );
<a name="l01382"></a>01382 
<a name="l01383"></a>01383     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a722df7ab7627f8f801c68eb6a823ea09">strafe</a>( <span class="keywordtype">float</span> amount );
<a name="l01384"></a>01384     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#ad5a2bccaafed2a81760ad8e15177c211">forward</a>( <span class="keywordtype">float</span> amount );
<a name="l01385"></a>01385     
<a name="l01386"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a0d2e4067fdd1a90790cf1ab6786f445e">01386</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a0d2e4067fdd1a90790cf1ab6786f445e">setPose</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a4765cf8b8dec896e67aaab646db572f2">z</a> ) { <a class="code" href="classStg_1_1Camera.html#a388938d16c6c66ab6764b55315275a96">_x</a> = <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>; <a class="code" href="classStg_1_1Camera.html#ae1a2d11028b7d980188c30cfce5c8308">_y</a> = <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>; <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a> = <a class="code" href="classStg_1_1Camera.html#a4765cf8b8dec896e67aaab646db572f2">z</a>; }
<a name="l01387"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a78af97a782aabbfef9f6f75c1e69eaa9">01387</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a78af97a782aabbfef9f6f75c1e69eaa9">addPose</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a4765cf8b8dec896e67aaab646db572f2">z</a> ) { <a class="code" href="classStg_1_1Camera.html#a388938d16c6c66ab6764b55315275a96">_x</a> += <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>; <a class="code" href="classStg_1_1Camera.html#ae1a2d11028b7d980188c30cfce5c8308">_y</a> += <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>; <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a> += <a class="code" href="classStg_1_1Camera.html#a4765cf8b8dec896e67aaab646db572f2">z</a>; <span class="keywordflow">if</span>( <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a> &lt; 0.1 ) <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a> = 0.1; }
<a name="l01388"></a>01388     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#ab1f2c7b058482aa3ac61825d50152f13">move</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a4765cf8b8dec896e67aaab646db572f2">z</a> );
<a name="l01389"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#aee8d6e3fb070f6780fd896b9fad0fecc">01389</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#aee8d6e3fb070f6780fd896b9fad0fecc">setFov</a>( <span class="keywordtype">float</span> horiz_fov, <span class="keywordtype">float</span> vert_fov ) { _horiz_fov = horiz_fov; _vert_fov = vert_fov; }
<a name="l01391"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a6cd54cb6c736d2d76c30cf56c62bb755">01391</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a6cd54cb6c736d2d76c30cf56c62bb755" title="update vertical fov based on window aspect and current horizontal fov">setAspect</a>( <span class="keywordtype">float</span> aspect ) { _aspect = aspect; }
<a name="l01392"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a50d231ac4dfa8915d4af8ffd4837026e">01392</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a50d231ac4dfa8915d4af8ffd4837026e">setYaw</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a> ) { <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a> = <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a>; }
<a name="l01393"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a0a0eff2d9f91d377236f8aa4dfcf69bc">01393</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a0a0eff2d9f91d377236f8aa4dfcf69bc">horizFov</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _horiz_fov; }
<a name="l01394"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#abd8bd23ef08e3c3b3b70dec0355a4b4f">01394</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#abd8bd23ef08e3c3b3b70dec0355a4b4f">vertFov</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _vert_fov; }
<a name="l01395"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a67b17332d326b1a6196bca6996d5c7d4">01395</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a67b17332d326b1a6196bca6996d5c7d4">addYaw</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a> ) { <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a> += <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a>; }
<a name="l01396"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a199e424b29982dba90402802d4e6bfe8">01396</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a199e424b29982dba90402802d4e6bfe8">setPitch</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a> ) { <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> = <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a>; }
<a name="l01397"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a2de1763b6b04dbb7e00ec895208a4d7f">01397</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a2de1763b6b04dbb7e00ec895208a4d7f">addPitch</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a> ) { <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> += <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a>; <span class="keywordflow">if</span>( <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> &lt; 0 ) <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> = 0; <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> &gt; 180 ) <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> = 180; }
<a name="l01398"></a>01398     
<a name="l01399"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#af0d33b55f7b332aa0210069869a9ef58">01399</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#af0d33b55f7b332aa0210069869a9ef58">realDistance</a>( <span class="keywordtype">float</span> z_buf_val )<span class="keyword"> const </span>{
<a name="l01400"></a>01400       <span class="keywordflow">return</span> _z_near * _z_far / ( _z_far - z_buf_val * ( _z_far - _z_near ) );
<a name="l01401"></a>01401     }
<a name="l01402"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a4997c102ef57ca799b372f4245bb46ba">01402</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a4997c102ef57ca799b372f4245bb46ba">scroll</a>( <span class="keywordtype">float</span> dy ) { <a class="code" href="classStg_1_1Camera.html#a0e865ce4f14a96dd838608dcf92dc10a">_z</a> += dy; }
<a name="l01403"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#acf1ff031847af2c37236fcb925769485">01403</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#acf1ff031847af2c37236fcb925769485">nearClip</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _z_near; }
<a name="l01404"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#aa6c06b4adea6713f9d5ec147bf830655">01404</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#aa6c06b4adea6713f9d5ec147bf830655">farClip</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _z_far; }
<a name="l01405"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#a59a82553a9283afe2e12ff5d181f874f">01405</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#a59a82553a9283afe2e12ff5d181f874f">setClip</a>( <span class="keywordtype">float</span> near, <span class="keywordtype">float</span> far ) { _z_far = far; _z_near = near; }
<a name="l01406"></a>01406     
<a name="l01407"></a><a class="code" href="classStg_1_1PerspectiveCamera.html#ad11c22e7e93d360a53e5ab08b5c8d497">01407</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#ad11c22e7e93d360a53e5ab08b5c8d497">reset</a>() { <a class="code" href="classStg_1_1PerspectiveCamera.html#a199e424b29982dba90402802d4e6bfe8">setPitch</a>( 70 ); <a class="code" href="classStg_1_1PerspectiveCamera.html#a50d231ac4dfa8915d4af8ffd4837026e">setYaw</a>( 0 ); }
<a name="l01408"></a>01408     
<a name="l01409"></a>01409     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#abb798a0097812697bac5c00e5f1660a4">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> sec );
<a name="l01410"></a>01410     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PerspectiveCamera.html#ad697a899c518fb58ef3eefd50709e3a1">Save</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> sec );
<a name="l01411"></a>01411   };
<a name="l01412"></a>01412   
<a name="l01413"></a><a class="code" href="classStg_1_1OrthoCamera.html">01413</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1OrthoCamera.html">OrthoCamera</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Camera.html">Camera</a>
<a name="l01414"></a>01414   {
<a name="l01415"></a>01415   <span class="keyword">private</span>:
<a name="l01416"></a>01416     <span class="keywordtype">float</span> _scale;
<a name="l01417"></a>01417     <span class="keywordtype">float</span> _pixels_width;
<a name="l01418"></a>01418     <span class="keywordtype">float</span> _pixels_height;
<a name="l01419"></a>01419     <span class="keywordtype">float</span> _y_min;
<a name="l01420"></a>01420     <span class="keywordtype">float</span> _y_max;
<a name="l01421"></a>01421   
<a name="l01422"></a>01422   <span class="keyword">public</span>:
<a name="l01423"></a><a class="code" href="classStg_1_1OrthoCamera.html#af2620f2aafe322ce37fc9b5be15f2a09">01423</a>     <a class="code" href="classStg_1_1OrthoCamera.html#af2620f2aafe322ce37fc9b5be15f2a09">OrthoCamera</a>( <span class="keywordtype">void</span> ) : _scale( 15 ) { }
<a name="l01424"></a>01424     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a6d155efd0a12c1a36ab63633a5808f94">Draw</a>() <span class="keyword">const</span>;
<a name="l01425"></a>01425     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#abc49f3b99cd5dce3cbc5d298f9e82d7b">SetProjection</a>( <span class="keywordtype">float</span> pixels_width, <span class="keywordtype">float</span> pixels_height, <span class="keywordtype">float</span> y_min, <span class="keywordtype">float</span> y_max );
<a name="l01426"></a>01426     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#abc49f3b99cd5dce3cbc5d298f9e82d7b">SetProjection</a>( <span class="keywordtype">void</span> ) <span class="keyword">const</span>;
<a name="l01427"></a>01427   
<a name="l01428"></a>01428     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#ac90c63eee4fded6b7da26d839115a407">move</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a> );
<a name="l01429"></a><a class="code" href="classStg_1_1OrthoCamera.html#a938a3062382533b5ca9d877f9c7a1e91">01429</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a938a3062382533b5ca9d877f9c7a1e91">setYaw</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a> ) { <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a> = <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a>; }
<a name="l01430"></a><a class="code" href="classStg_1_1OrthoCamera.html#ad0699e5adb4bc14cb8de0cc110e97dcf">01430</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#ad0699e5adb4bc14cb8de0cc110e97dcf">setPitch</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a> ) { <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> = <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a>; }
<a name="l01431"></a><a class="code" href="classStg_1_1OrthoCamera.html#a51189fc319278d2f07d2a500275971d1">01431</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a51189fc319278d2f07d2a500275971d1">addYaw</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a> ) { <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a> += <a class="code" href="classStg_1_1Camera.html#accdc9633da6da7c85af07132b1735181">yaw</a>;    }
<a name="l01432"></a><a class="code" href="classStg_1_1OrthoCamera.html#a57bd6505e45d6d70c8ea04416fa2cdba">01432</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a57bd6505e45d6d70c8ea04416fa2cdba">addPitch</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a> ) {
<a name="l01433"></a>01433       <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> += <a class="code" href="classStg_1_1Camera.html#a1bc900726ccb14bde906422f61dfe5ef">pitch</a>;
<a name="l01434"></a>01434       <span class="keywordflow">if</span>( <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> &gt; 90 )
<a name="l01435"></a>01435           <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> = 90;
<a name="l01436"></a>01436       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> &lt; 0 )
<a name="l01437"></a>01437           <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> = 0;
<a name="l01438"></a>01438     }
<a name="l01439"></a>01439   
<a name="l01440"></a><a class="code" href="classStg_1_1OrthoCamera.html#a04b1bd294898941ffecbe91dfe2c9a71">01440</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a04b1bd294898941ffecbe91dfe2c9a71">setScale</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1OrthoCamera.html#afff95b93e59ec358d9e4067ab7caed5d">scale</a> ) { _scale = <a class="code" href="classStg_1_1OrthoCamera.html#afff95b93e59ec358d9e4067ab7caed5d">scale</a>; }
<a name="l01441"></a><a class="code" href="classStg_1_1OrthoCamera.html#a11af0ed8bc69f9a5544f0882c3112705">01441</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a11af0ed8bc69f9a5544f0882c3112705">setPose</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>, <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>) { <a class="code" href="classStg_1_1Camera.html#a388938d16c6c66ab6764b55315275a96">_x</a> = <a class="code" href="classStg_1_1Camera.html#ab88294a3309b21c5c9e158a7d42325c9">x</a>; <a class="code" href="classStg_1_1Camera.html#ae1a2d11028b7d980188c30cfce5c8308">_y</a> = <a class="code" href="classStg_1_1Camera.html#a9a9a1cc119919cbba0b7844de521cd9a">y</a>; }
<a name="l01442"></a>01442   
<a name="l01443"></a>01443     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#afff95b93e59ec358d9e4067ab7caed5d">scale</a>( <span class="keywordtype">float</span> <a class="code" href="classStg_1_1OrthoCamera.html#afff95b93e59ec358d9e4067ab7caed5d">scale</a>, <span class="keywordtype">float</span> shift_x = 0, <span class="keywordtype">float</span> h = 0, <span class="keywordtype">float</span> shift_y = 0, <span class="keywordtype">float</span> w = 0 );  
<a name="l01444"></a><a class="code" href="classStg_1_1OrthoCamera.html#a4aaa00b8ec97e700dc04c2386114fff8">01444</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a4aaa00b8ec97e700dc04c2386114fff8">reset</a>( <span class="keywordtype">void</span> ) { <a class="code" href="classStg_1_1Camera.html#aa2ab58d7a9cecef12d924d3183e4c54e">_pitch</a> = <a class="code" href="classStg_1_1Camera.html#a9dca613313db6c129a402cb85b764123">_yaw</a> = 0; }
<a name="l01445"></a>01445   
<a name="l01446"></a><a class="code" href="classStg_1_1OrthoCamera.html#afff95b93e59ec358d9e4067ab7caed5d">01446</a>      <span class="keywordtype">float</span> <a class="code" href="classStg_1_1OrthoCamera.html#afff95b93e59ec358d9e4067ab7caed5d">scale</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _scale; }
<a name="l01447"></a>01447   
<a name="l01448"></a>01448     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#a6421712e52f64a3df4400d57fd387d85">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> sec );
<a name="l01449"></a>01449     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1OrthoCamera.html#ae48be21ec23c232f59184e9890d0b249">Save</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="stagecpp_8cc.html#a236757a0ce44eab14cf9e1189c710d0b">wf</a>, <span class="keywordtype">int</span> sec );
<a name="l01450"></a>01450   };
<a name="l01451"></a>01451 
<a name="l01452"></a>01452 
<a name="l01456"></a><a class="code" href="classStg_1_1WorldGui.html">01456</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1WorldGui.html">WorldGui</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1World.html" title="World class">World</a>, <span class="keyword">public</span> Fl_Window 
<a name="l01457"></a>01457   {
<a name="l01458"></a><a class="code" href="classStg_1_1WorldGui.html#a9816083e25bae0b2f472e19382136687">01458</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Canvas.html">Canvas</a>;
<a name="l01459"></a><a class="code" href="classStg_1_1WorldGui.html#aae970bc1bc758c7691390dfd76bdcf4f">01459</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1ModelCamera.html" title="ModelCamera class">ModelCamera</a>;
<a name="l01460"></a><a class="code" href="classStg_1_1WorldGui.html#a2bf2a0e9b454c55aa5dcb5aa4698697b">01460</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>;
<a name="l01461"></a><a class="code" href="classStg_1_1WorldGui.html#abd6e6c0003d4ecf9ff0385ab131dcc0e">01461</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Option.html">Option</a>;
<a name="l01462"></a>01462 
<a name="l01463"></a>01463   <span class="keyword">private</span>:
<a name="l01464"></a>01464 
<a name="l01465"></a>01465     <a class="code" href="classStg_1_1Canvas.html">Canvas</a>* canvas;
<a name="l01466"></a>01466     std::vector&lt;Option*&gt; drawOptions;
<a name="l01467"></a>01467     <a class="code" href="classStg_1_1FileManager.html">FileManager</a>* fileMan; 
<a name="l01468"></a>01468      std::vector&lt;usec_t&gt; interval_log;
<a name="l01469"></a>01469      
<a name="l01472"></a>01472      <span class="keywordtype">float</span> speedup; 
<a name="l01473"></a>01473 
<a name="l01474"></a>01474     Fl_Menu_Bar* mbar;
<a name="l01475"></a>01475     <a class="code" href="classStg_1_1OptionsDlg.html">OptionsDlg</a>* oDlg;
<a name="l01476"></a>01476     <span class="keywordtype">bool</span> pause_time;
<a name="l01477"></a>01477 
<a name="l01480"></a>01480     <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> real_time_interval;
<a name="l01481"></a>01481      
<a name="l01483"></a>01483     <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> real_time_now; 
<a name="l01484"></a>01484 
<a name="l01487"></a>01487     <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> real_time_recorded;
<a name="l01488"></a>01488      
<a name="l01490"></a>01490      uint64_t timing_interval;
<a name="l01491"></a>01491 
<a name="l01492"></a>01492     <span class="comment">// static callback functions</span>
<a name="l01493"></a>01493     <span class="keyword">static</span> <span class="keywordtype">void</span> windowCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg ); 
<a name="l01494"></a>01494     <span class="keyword">static</span> <span class="keywordtype">void</span> fileLoadCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01495"></a>01495     <span class="keyword">static</span> <span class="keywordtype">void</span> fileSaveCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01496"></a>01496     <span class="keyword">static</span> <span class="keywordtype">void</span> fileSaveAsCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01497"></a>01497     <span class="keyword">static</span> <span class="keywordtype">void</span> fileExitCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01498"></a>01498     <span class="keyword">static</span> <span class="keywordtype">void</span> viewOptionsCb( <a class="code" href="classStg_1_1OptionsDlg.html">OptionsDlg</a>* oDlg, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01499"></a>01499     <span class="keyword">static</span> <span class="keywordtype">void</span> optionsDlgCb( <a class="code" href="classStg_1_1OptionsDlg.html">OptionsDlg</a>* oDlg, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01500"></a>01500     <span class="keyword">static</span> <span class="keywordtype">void</span> helpAboutCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01501"></a>01501     <span class="keyword">static</span> <span class="keywordtype">void</span> pauseCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01502"></a>01502     <span class="keyword">static</span> <span class="keywordtype">void</span> onceCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01503"></a>01503     <span class="keyword">static</span> <span class="keywordtype">void</span> fasterCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01504"></a>01504     <span class="keyword">static</span> <span class="keywordtype">void</span> slowerCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01505"></a>01505     <span class="keyword">static</span> <span class="keywordtype">void</span> realtimeCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01506"></a>01506     <span class="keyword">static</span> <span class="keywordtype">void</span> fasttimeCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01507"></a>01507     <span class="keyword">static</span> <span class="keywordtype">void</span> resetViewCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01508"></a>01508     <span class="keyword">static</span> <span class="keywordtype">void</span> moreHelptCb( Fl_Widget* w, <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* wg );
<a name="l01509"></a>01509     
<a name="l01510"></a>01510     <span class="comment">// GUI functions</span>
<a name="l01511"></a>01511     <span class="keywordtype">bool</span> saveAsDialog();
<a name="l01512"></a>01512     <span class="keywordtype">bool</span> closeWindowQuery();
<a name="l01513"></a>01513     
<a name="l01514"></a>01514     <span class="keyword">virtual</span> <span class="keywordtype">void</span> AddModel( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );
<a name="l01515"></a>01515     
<a name="l01516"></a>01516      <span class="keywordtype">void</span> SetTimeouts();
<a name="l01517"></a>01517 
<a name="l01518"></a>01518   <span class="keyword">protected</span>:
<a name="l01519"></a>01519     
<a name="l01520"></a>01520     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#a10acbfd21c06d0bba332cb10b4bde6ed">PushColor</a>( <a class="code" href="classStg_1_1Color.html">Color</a> col );
<a name="l01521"></a>01521     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#a10acbfd21c06d0bba332cb10b4bde6ed">PushColor</a>( <span class="keywordtype">double</span> r, <span class="keywordtype">double</span> g, <span class="keywordtype">double</span> b, <span class="keywordtype">double</span> a );
<a name="l01522"></a>01522     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#a0400e218bfa74856bdf40c20f7eaf4b4">PopColor</a>();
<a name="l01523"></a>01523     
<a name="l01524"></a>01524     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#afaf84bb47c6a32a3898eac5c3b4f709b">DrawOccupancy</a>() <span class="keyword">const</span>;
<a name="l01525"></a>01525     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#aa0e718be7e3c2e651eb37c4d35e8c3d8">DrawVoxels</a>() <span class="keyword">const</span>;
<a name="l01526"></a>01526      
<a name="l01527"></a>01527   <span class="keyword">public</span>:
<a name="l01528"></a>01528     
<a name="l01529"></a>01529     <a class="code" href="classStg_1_1WorldGui.html#a62e4ea522d198569df193bf8f2494916">WorldGui</a>(<span class="keywordtype">int</span> W,<span class="keywordtype">int</span> H,<span class="keyword">const</span> <span class="keywordtype">char</span>*L=0);
<a name="l01530"></a>01530     <a class="code" href="classStg_1_1WorldGui.html#aa73bccbc2447ef6978bd1068b877743c">~WorldGui</a>();
<a name="l01531"></a>01531 
<a name="l01533"></a>01533         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#ac6f6f78bb25d56a0bafd47fc3b19ce39">Redraw</a>( <span class="keywordtype">void</span> );
<a name="l01534"></a>01534 
<a name="l01535"></a>01535     <span class="keyword">virtual</span> std::string <a class="code" href="classStg_1_1WorldGui.html#a151166646ca36b49bcde18cf137d7aef">ClockString</a>() <span class="keyword">const</span>;
<a name="l01536"></a>01536     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1WorldGui.html#ae1c1f26467b048bd4c9abf6b0261280c">Update</a>();  
<a name="l01537"></a>01537     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#ab9dca3f370148cf88dbc846b45aef389">Load</a>( <span class="keyword">const</span> std::string&amp; filename );
<a name="l01538"></a>01538     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#acbcbdcac8ed23de03ae07e76e8e5a6ad">UnLoad</a>();
<a name="l01539"></a>01539     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1WorldGui.html#aaa5247dbf2e0d761f61ab885613c44c5">Save</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* filename );  
<a name="l01540"></a><a class="code" href="classStg_1_1WorldGui.html#a3462e7dd0a5d1fe3a6e59431c5f2adac">01540</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1WorldGui.html#a3462e7dd0a5d1fe3a6e59431c5f2adac">IsGUI</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; };    
<a name="l01541"></a>01541     <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1WorldGui.html#aee7cbeef09a905dd0df2280ade14654a">RecentlySelectedModel</a>() <span class="keyword">const</span>;
<a name="l01542"></a>01542 
<a name="l01543"></a>01543     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#a7016da8c99c72a581cfa8e375fa55976">Start</a>();
<a name="l01544"></a>01544     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#a24bbcc8d14c0f4470f53085a0bfe9424">Stop</a>();
<a name="l01545"></a>01545     
<a name="l01546"></a>01546     <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1WorldGui.html#a19339839ace43c9c0cbb39fe39812800">RealTimeNow</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l01547"></a>01547  
<a name="l01548"></a>01548     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#ae040de6d8dd027b1ae6f9edf7f211fa6">DrawBoundingBoxTree</a>();
<a name="l01549"></a>01549     
<a name="l01550"></a><a class="code" href="classStg_1_1WorldGui.html#a8860c7b0b898beb345b59cfa849c7423">01550</a>     <a class="code" href="classStg_1_1Canvas.html">Canvas</a>* <a class="code" href="classStg_1_1WorldGui.html#a8860c7b0b898beb345b59cfa849c7423">GetCanvas</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> canvas; } 
<a name="l01551"></a>01551 
<a name="l01553"></a>01553     <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#a9143d3e7cca0a5c4d32b772a2130560c">Show</a>(); 
<a name="l01554"></a>01554 
<a name="l01556"></a>01556     std::string <a class="code" href="classStg_1_1WorldGui.html#aff74691077d489bd401e4a85613872b4">EnergyString</a>( <span class="keywordtype">void</span> ) <span class="keyword">const</span>; 
<a name="l01557"></a>01557     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1WorldGui.html#a646bb192680816b37947f1a8caee1cf2">RemoveChild</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod );  
<a name="l01558"></a>01558   };
<a name="l01559"></a>01559 
<a name="l01560"></a>01560 
<a name="l01561"></a><a class="code" href="classStg_1_1StripPlotVis.html">01561</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1StripPlotVis.html">StripPlotVis</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a>
<a name="l01562"></a>01562   {
<a name="l01563"></a>01563   <span class="keyword">private</span>:
<a name="l01564"></a>01564      
<a name="l01565"></a>01565      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod;
<a name="l01566"></a>01566      <span class="keywordtype">float</span>* data;
<a name="l01567"></a>01567      <span class="keywordtype">size_t</span> len;
<a name="l01568"></a>01568      <span class="keywordtype">size_t</span> count;
<a name="l01569"></a>01569      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index;
<a name="l01570"></a>01570      <span class="keywordtype">float</span> x,y,w,h,min,max;
<a name="l01571"></a>01571      <a class="code" href="classStg_1_1Color.html">Color</a> fgcolor, bgcolor;
<a name="l01572"></a>01572      
<a name="l01573"></a>01573   <span class="keyword">public</span>:
<a name="l01574"></a>01574      <a class="code" href="classStg_1_1StripPlotVis.html#a9280962956a2d7f7edd4048e07b0a91c">StripPlotVis</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> w, <span class="keywordtype">float</span> h, 
<a name="l01575"></a>01575                         <span class="keywordtype">size_t</span> len, 
<a name="l01576"></a>01576                         <a class="code" href="classStg_1_1Color.html">Color</a> fgcolor, <a class="code" href="classStg_1_1Color.html">Color</a> bgcolor,
<a name="l01577"></a>01577                         <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* wfname );
<a name="l01578"></a>01578      <span class="keyword">virtual</span> <a class="code" href="classStg_1_1StripPlotVis.html#a0b8fb32b65d86eafb4caceba76438fe8">~StripPlotVis</a>();
<a name="l01579"></a>01579      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1StripPlotVis.html#a0dc43df96aff8573885a6bdd72a984c2">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );     
<a name="l01580"></a>01580      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1StripPlotVis.html#a4d45c4cf6ecfdc0b19c2437bd0081a28">AppendValue</a>( <span class="keywordtype">float</span> value );
<a name="l01581"></a>01581   };
<a name="l01582"></a>01582 
<a name="l01583"></a>01583 
<a name="l01584"></a><a class="code" href="classStg_1_1PowerPack.html">01584</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>
<a name="l01585"></a>01585   {
<a name="l01586"></a><a class="code" href="classStg_1_1PowerPack.html#ad223cdf40b827667fb94cddf81c703e0">01586</a>      <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>;
<a name="l01587"></a><a class="code" href="classStg_1_1PowerPack.html#a9816083e25bae0b2f472e19382136687">01587</a>      <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Canvas.html">Canvas</a>;
<a name="l01588"></a>01588      
<a name="l01589"></a>01589   <span class="keyword">protected</span>:
<a name="l01590"></a>01590      
<a name="l01591"></a><a class="code" href="classStg_1_1PowerPack_1_1DissipationVis.html">01591</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1PowerPack_1_1DissipationVis.html">DissipationVis</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a>
<a name="l01592"></a>01592      {
<a name="l01593"></a>01593      <span class="keyword">private</span>:
<a name="l01594"></a>01594         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> columns, rows;
<a name="l01595"></a>01595         <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> width, height;
<a name="l01596"></a>01596          
<a name="l01597"></a>01597          std::vector&lt;joules_t&gt; cells;
<a name="l01598"></a>01598          
<a name="l01599"></a>01599          <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> peak_value;
<a name="l01600"></a>01600          <span class="keywordtype">double</span> cellsize;
<a name="l01601"></a>01601          
<a name="l01602"></a>01602         <span class="keyword">static</span> <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> global_peak_value; 
<a name="l01603"></a>01603 
<a name="l01604"></a>01604      <span class="keyword">public</span>:
<a name="l01605"></a>01605         <a class="code" href="classStg_1_1PowerPack_1_1DissipationVis.html#af700d39df7233b340312b143bc22532a">DissipationVis</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> width, 
<a name="l01606"></a>01606                              <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> height, 
<a name="l01607"></a>01607                              <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellsize );
<a name="l01608"></a>01608 
<a name="l01609"></a>01609         <span class="keyword">virtual</span> <a class="code" href="classStg_1_1PowerPack_1_1DissipationVis.html#a6aa18699ea437b6e827ab1ca2bee41b9">~DissipationVis</a>();
<a name="l01610"></a>01610         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack_1_1DissipationVis.html#a81862829ee90f4118d76fef6dfe7c6d0">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1PowerPack.html#a0c157858f7eb20e861fc3ecbd377d138">mod</a>, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );      
<a name="l01611"></a>01611         
<a name="l01612"></a>01612         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack_1_1DissipationVis.html#a0b3eda174906a78fc7a4c97d43f32714">Accumulate</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> x, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> y, <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> amount );
<a name="l01613"></a>01613      } <a class="code" href="classStg_1_1PowerPack.html#acca72c89bba55af0cd8c58ea9c915a5a">event_vis</a>;
<a name="l01614"></a>01614      
<a name="l01615"></a>01615 
<a name="l01616"></a><a class="code" href="classStg_1_1PowerPack.html#a24212ca418541562f63d6229c8c39dbb">01616</a>      <a class="code" href="classStg_1_1StripPlotVis.html">StripPlotVis</a> <a class="code" href="classStg_1_1PowerPack.html#a24212ca418541562f63d6229c8c39dbb">output_vis</a>;
<a name="l01617"></a><a class="code" href="classStg_1_1PowerPack.html#a98df838840f2f6eda939d54bfec0e026">01617</a>      <a class="code" href="classStg_1_1StripPlotVis.html">StripPlotVis</a> <a class="code" href="classStg_1_1PowerPack.html#a98df838840f2f6eda939d54bfec0e026">stored_vis</a>;
<a name="l01618"></a>01618 
<a name="l01620"></a><a class="code" href="classStg_1_1PowerPack.html#a0c157858f7eb20e861fc3ecbd377d138">01620</a>      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1PowerPack.html#a0c157858f7eb20e861fc3ecbd377d138">mod</a>;
<a name="l01621"></a>01621     
<a name="l01623"></a><a class="code" href="classStg_1_1PowerPack.html#a13e259f928cb83681d4b3d7816907b9e">01623</a>      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#a13e259f928cb83681d4b3d7816907b9e">stored</a>;
<a name="l01624"></a>01624      
<a name="l01626"></a><a class="code" href="classStg_1_1PowerPack.html#ad59d87ee58623b2977822d14dca072ab">01626</a>      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#ad59d87ee58623b2977822d14dca072ab">capacity</a>;
<a name="l01627"></a>01627      
<a name="l01629"></a><a class="code" href="classStg_1_1PowerPack.html#abf6c8183dc499160422aa1320c2949d4">01629</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1PowerPack.html#abf6c8183dc499160422aa1320c2949d4">charging</a>;
<a name="l01630"></a>01630      
<a name="l01632"></a><a class="code" href="classStg_1_1PowerPack.html#ad4d9bfca59e20a51298bd5ce07f02e13">01632</a>      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#ad4d9bfca59e20a51298bd5ce07f02e13">dissipated</a>;
<a name="l01633"></a>01633      
<a name="l01634"></a>01634      <span class="comment">// these are used to visualize the power draw</span>
<a name="l01635"></a><a class="code" href="classStg_1_1PowerPack.html#a457c7237e2f627a22b471bfbd62319e5">01635</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1PowerPack.html#a457c7237e2f627a22b471bfbd62319e5">last_time</a>;
<a name="l01636"></a><a class="code" href="classStg_1_1PowerPack.html#a317764f1f53df3f7699c4870a4f3bb10">01636</a>      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#a317764f1f53df3f7699c4870a4f3bb10">last_joules</a>;
<a name="l01637"></a><a class="code" href="classStg_1_1PowerPack.html#aa03878a0e2e4f7502dae476a6d8c0502">01637</a>      <a class="code" href="namespaceStg.html#aaf07f5b0b05dd2d9892578ece58bd74d">watts_t</a> <a class="code" href="classStg_1_1PowerPack.html#aa03878a0e2e4f7502dae476a6d8c0502">last_watts</a>;
<a name="l01638"></a>01638 
<a name="l01639"></a>01639   <span class="keyword">public</span>:
<a name="l01640"></a><a class="code" href="classStg_1_1PowerPack.html#afa82fd366763b64eddbd44964415bcdb">01640</a>      <span class="keyword">static</span> <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#afa82fd366763b64eddbd44964415bcdb">global_stored</a>;
<a name="l01641"></a><a class="code" href="classStg_1_1PowerPack.html#a1e5ef255e5b798de94695b944d149a49">01641</a>      <span class="keyword">static</span> <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#a1e5ef255e5b798de94695b944d149a49">global_capacity</a>;
<a name="l01642"></a><a class="code" href="classStg_1_1PowerPack.html#ad5047ec1678fb473ed4474204a65b592">01642</a>      <span class="keyword">static</span> <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#ad5047ec1678fb473ed4474204a65b592">global_dissipated</a>;  
<a name="l01643"></a><a class="code" href="classStg_1_1PowerPack.html#a14d04d2ea24c9b617f43b9e829ef23a8">01643</a>      <span class="keyword">static</span> <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#a14d04d2ea24c9b617f43b9e829ef23a8">global_input</a>;
<a name="l01644"></a>01644 
<a name="l01645"></a>01645   <span class="keyword">public</span>:
<a name="l01646"></a>01646      <a class="code" href="classStg_1_1PowerPack.html#a415c7019aab106eb662c4eb00d9091b9">PowerPack</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1PowerPack.html#a0c157858f7eb20e861fc3ecbd377d138">mod</a> );
<a name="l01647"></a>01647      <a class="code" href="classStg_1_1PowerPack.html#ad3d77494fe91c047215aa00eaf6097fb">~PowerPack</a>();
<a name="l01648"></a>01648      
<a name="l01650"></a>01650      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#af6a1ed44f8cf2b7eb649d3a8e26d531c">Visualize</a>( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l01651"></a>01651 
<a name="l01653"></a>01653      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#a4b72517eeb47a357497fc96b865e2434">RemainingCapacity</a>() <span class="keyword">const</span>;
<a name="l01654"></a>01654      
<a name="l01656"></a>01656      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#a02482a1296cdfe6bc9e9349492854359">Add</a>( <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> j );
<a name="l01657"></a>01657         
<a name="l01659"></a>01659      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#a6e21da220ea8372a0a5058c6d54df496">Subtract</a>( <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> j );
<a name="l01660"></a>01660         
<a name="l01662"></a>01662      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#a77aff0013ac727449416426687f0a572">TransferTo</a>( <a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>* dest, <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> amount );    
<a name="l01663"></a>01663 
<a name="l01664"></a><a class="code" href="classStg_1_1PowerPack.html#a17ceed295d4a5b6267148b50f78efe58">01664</a>      <span class="keywordtype">double</span> <a class="code" href="classStg_1_1PowerPack.html#a17ceed295d4a5b6267148b50f78efe58">ProportionRemaining</a>()<span class="keyword"> const</span>
<a name="l01665"></a>01665 <span class="keyword">     </span>{ <span class="keywordflow">return</span>( <a class="code" href="classStg_1_1PowerPack.html#a13e259f928cb83681d4b3d7816907b9e">stored</a> / <a class="code" href="classStg_1_1PowerPack.html#ad59d87ee58623b2977822d14dca072ab">capacity</a> ); }
<a name="l01666"></a>01666 
<a name="l01669"></a><a class="code" href="classStg_1_1PowerPack.html#ace502514f0e4cf9fdad9c0b49479f8c3">01669</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#ace502514f0e4cf9fdad9c0b49479f8c3">Print</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix )<span class="keyword"> const</span>
<a name="l01670"></a>01670 <span class="keyword">     </span>{ 
<a name="l01671"></a>01671         <span class="keywordflow">if</span>( prefix )
<a name="l01672"></a>01672           printf( <span class="stringliteral">&quot;%s&quot;</span>, prefix );
<a name="l01673"></a>01673 
<a name="l01674"></a>01674         printf( <span class="stringliteral">&quot;PowerPack %.2f/%.2f J\n&quot;</span>, <a class="code" href="classStg_1_1PowerPack.html#a13e259f928cb83681d4b3d7816907b9e">stored</a>, <a class="code" href="classStg_1_1PowerPack.html#ad59d87ee58623b2977822d14dca072ab">capacity</a> ); 
<a name="l01675"></a>01675      }      
<a name="l01676"></a>01676      
<a name="l01677"></a>01677      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#ac91b94e9991cc0cfcf482f5cbbb33193">GetStored</a>() <span class="keyword">const</span>;
<a name="l01678"></a>01678      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#af12d9879626731048b9069e105f6628b">GetCapacity</a>() <span class="keyword">const</span>;
<a name="l01679"></a>01679      <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> <a class="code" href="classStg_1_1PowerPack.html#acbf26df18485ca6dba4d48fde3d9cacc">GetDissipated</a>() <span class="keyword">const</span>;
<a name="l01680"></a>01680      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#aded1a72e0a0fee748bb7ad13a2ecdf2a">SetCapacity</a>( <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> j );
<a name="l01681"></a>01681      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#a2af648f05304f35272c217e38ed0f703">SetStored</a>( <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> j );  
<a name="l01682"></a>01682 
<a name="l01684"></a><a class="code" href="classStg_1_1PowerPack.html#a4eebc3283bcb1135b6729a14258025c5">01684</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1PowerPack.html#a4eebc3283bcb1135b6729a14258025c5">GetCharging</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1PowerPack.html#abf6c8183dc499160422aa1320c2949d4">charging</a>; }
<a name="l01685"></a>01685      
<a name="l01686"></a><a class="code" href="classStg_1_1PowerPack.html#a430b3ebe8aee1ee48d6f5e04c9b7fe03">01686</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#a430b3ebe8aee1ee48d6f5e04c9b7fe03">ChargeStart</a>(){ <a class="code" href="classStg_1_1PowerPack.html#abf6c8183dc499160422aa1320c2949d4">charging</a> = <span class="keyword">true</span>; }
<a name="l01687"></a><a class="code" href="classStg_1_1PowerPack.html#a502d6029a41f103aa7bb2361e815034d">01687</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#a502d6029a41f103aa7bb2361e815034d">ChargeStop</a>(){ <a class="code" href="classStg_1_1PowerPack.html#abf6c8183dc499160422aa1320c2949d4">charging</a> = <span class="keyword">false</span>; }
<a name="l01688"></a>01688 
<a name="l01690"></a>01690      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#ad3ecb70ad8d643b7598ba86c11599c06">Dissipate</a>( <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> j );
<a name="l01691"></a>01691      
<a name="l01693"></a>01693      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1PowerPack.html#ad3ecb70ad8d643b7598ba86c11599c06">Dissipate</a>( <a class="code" href="namespaceStg.html#a63140e87ca6f89caf2355692fc2f456b">joules_t</a> j, <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; p );
<a name="l01694"></a>01694   };
<a name="l01695"></a>01695 
<a name="l01696"></a>01696    
<a name="l01698"></a><a class="code" href="classStg_1_1Model.html">01698</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1Model.html" title="Model class">Model</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Ancestor.html">Ancestor</a>
<a name="l01699"></a>01699   {
<a name="l01700"></a><a class="code" href="classStg_1_1Model.html#a9bf93b99a5659c64f1b07c50b4d47ab5">01700</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Ancestor.html">Ancestor</a>;
<a name="l01701"></a><a class="code" href="classStg_1_1Model.html#a7b4bcdf992c21ae83363f25df05b1d25">01701</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1World.html" title="World class">World</a>;
<a name="l01702"></a><a class="code" href="classStg_1_1Model.html#a039a65dbd4c2eccd8eaf1a6d1940c599">01702</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1World_1_1Event.html">World::Event</a>;
<a name="l01703"></a><a class="code" href="classStg_1_1Model.html#ad223cdf40b827667fb94cddf81c703e0">01703</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>;
<a name="l01704"></a><a class="code" href="classStg_1_1Model.html#a9816083e25bae0b2f472e19382136687">01704</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Canvas.html">Canvas</a>;
<a name="l01705"></a><a class="code" href="classStg_1_1Model.html#ac2af81cbc457d21a00f09f5e7e5c4ddf">01705</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Block.html">Block</a>;
<a name="l01706"></a><a class="code" href="classStg_1_1Model.html#aae6f9325706131f3b6fb8accb1508d76">01706</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Region.html">Region</a>;
<a name="l01707"></a><a class="code" href="classStg_1_1Model.html#ac3a0e30bad796953b667d382ff42d30a">01707</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1BlockGroup.html">BlockGroup</a>;
<a name="l01708"></a><a class="code" href="classStg_1_1Model.html#adf9e564a4e9e14d1055df0f4605f6f5e">01708</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>;
<a name="l01709"></a><a class="code" href="classStg_1_1Model.html#a27756b7a995fbc560ed9ec3bfa661a39">01709</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Ray.html">Ray</a>;
<a name="l01710"></a><a class="code" href="classStg_1_1Model.html#af0a733ce1a9a43508f17b7aa252f6cf5">01710</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1ModelFiducial.html" title="ModelFiducial class">ModelFiducial</a>;
<a name="l01711"></a>01711 
<a name="l01712"></a>01712   <span class="keyword">private</span>:
<a name="l01714"></a>01714      <span class="keyword">static</span> uint32_t count;
<a name="l01715"></a>01715      <span class="keyword">static</span> std::map&lt;id_t,Model*&gt; modelsbyid;
<a name="l01716"></a>01716      std::vector&lt;Option*&gt; drawOptions;
<a name="l01717"></a>01717      <span class="keyword">const</span> std::vector&lt;Option*&gt;&amp; getOptions()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> drawOptions; }
<a name="l01718"></a>01718      
<a name="l01719"></a>01719   <span class="keyword">protected</span>:
<a name="l01720"></a>01720 
<a name="l01723"></a><a class="code" href="classStg_1_1Model.html#abc0f6f127889cffa04dbc05a60672ac5">01723</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#abc0f6f127889cffa04dbc05a60672ac5">alwayson</a>;
<a name="l01724"></a>01724 
<a name="l01726"></a>01726      <span class="comment">// TODO bool background;</span>
<a name="l01727"></a>01727 
<a name="l01728"></a><a class="code" href="classStg_1_1Model.html#a188c571f97f1d9bff5212f457820d226">01728</a>      <a class="code" href="classStg_1_1BlockGroup.html">BlockGroup</a> <a class="code" href="classStg_1_1Model.html#a188c571f97f1d9bff5212f457820d226">blockgroup</a>;
<a name="l01730"></a><a class="code" href="classStg_1_1Model.html#a5b7d7e67081fdf740ce1d3385687ea13">01730</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a5b7d7e67081fdf740ce1d3385687ea13">blocks_dl</a>;
<a name="l01731"></a>01731 
<a name="l01735"></a><a class="code" href="classStg_1_1Model.html#a089184e0aebb8319086063dbe083cb30">01735</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a089184e0aebb8319086063dbe083cb30">boundary</a>;
<a name="l01736"></a>01736         
<a name="l01739"></a>01739   <span class="keyword">public</span>:
<a name="l01740"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html">01740</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1Model_1_1cb__t.html">cb_t</a>
<a name="l01741"></a>01741      {
<a name="l01742"></a>01742      <span class="keyword">public</span>:
<a name="l01743"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">01743</a>         <a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">model_callback_t</a> <a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a>;
<a name="l01744"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html#aedb1d07b5bd17a4c2539e3adb820d8af">01744</a>         <span class="keywordtype">void</span>* <a class="code" href="classStg_1_1Model_1_1cb__t.html#aedb1d07b5bd17a4c2539e3adb820d8af">arg</a>;
<a name="l01745"></a>01745             
<a name="l01746"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html#ac9e6cf4560995b28bd51373cd53f3307">01746</a>         <a class="code" href="classStg_1_1Model_1_1cb__t.html#acc3c645d322e3b3f5a6da3255274758c">cb_t</a>( <a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">model_callback_t</a> cb, <span class="keywordtype">void</span>* <a class="code" href="classStg_1_1Model_1_1cb__t.html#aedb1d07b5bd17a4c2539e3adb820d8af">arg</a> ) 
<a name="l01747"></a>01747           : <a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a>(cb), arg(arg) {}
<a name="l01748"></a>01748             
<a name="l01749"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html#a1ea54aa613e1cba118b6185bb0ac86b1">01749</a>         <a class="code" href="classStg_1_1Model_1_1cb__t.html#acc3c645d322e3b3f5a6da3255274758c">cb_t</a>( <a class="code" href="namespaceStg.html#ae8d9e42a8837bdb310425f8b1ae6fca4">world_callback_t</a> cb, <span class="keywordtype">void</span>* <a class="code" href="classStg_1_1Model_1_1cb__t.html#aedb1d07b5bd17a4c2539e3adb820d8af">arg</a> ) 
<a name="l01750"></a>01750           : <a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a>(NULL), arg(arg) { (void)cb; }
<a name="l01751"></a>01751             
<a name="l01752"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html#acc3c645d322e3b3f5a6da3255274758c">01752</a>         <a class="code" href="classStg_1_1Model_1_1cb__t.html#acc3c645d322e3b3f5a6da3255274758c">cb_t</a>() : <a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a>(NULL), <a class="code" href="classStg_1_1Model_1_1cb__t.html#aedb1d07b5bd17a4c2539e3adb820d8af">arg</a>(NULL) {}
<a name="l01753"></a>01753             
<a name="l01755"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html#adec88c08301473667998f97005353cbf">01755</a>          <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1cb__t.html#adec88c08301473667998f97005353cbf">operator&lt;</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Model_1_1cb__t.html">cb_t</a>&amp; other )<span class="keyword"> const</span>
<a name="l01756"></a>01756 <span class="keyword">         </span>{
<a name="l01757"></a>01757              <span class="keywordflow">if</span>( <a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a> == other.<a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a> )
<a name="l01758"></a>01758                  <span class="keywordflow">return</span>( <a class="code" href="classStg_1_1Model_1_1cb__t.html#aedb1d07b5bd17a4c2539e3adb820d8af">arg</a> &lt; other.<a class="code" href="classStg_1_1Model_1_1cb__t.html#aedb1d07b5bd17a4c2539e3adb820d8af">arg</a> );
<a name="l01759"></a>01759              <span class="comment">//else</span>
<a name="l01760"></a>01760              <span class="keywordflow">return</span> ((<span class="keywordtype">void</span>*)(<a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a>)) &lt; ((<span class="keywordtype">void</span>*)(other.<a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a>)); 
<a name="l01761"></a>01761          }
<a name="l01762"></a>01762          
<a name="l01764"></a><a class="code" href="classStg_1_1Model_1_1cb__t.html#a3926302ef82cb1aaca5562f0b55e3f8b">01764</a>          <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1cb__t.html#a3926302ef82cb1aaca5562f0b55e3f8b">operator==</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Model_1_1cb__t.html">cb_t</a>&amp; other )<span class="keyword"> const</span>
<a name="l01765"></a>01765 <span class="keyword">         </span>{ <span class="keywordflow">return</span>( <a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a> == other.<a class="code" href="classStg_1_1Model_1_1cb__t.html#a4f5411b32de2a5794ceb0e4ee310f9cb">callback</a>);  }          
<a name="l01766"></a>01766      };
<a name="l01767"></a>01767         
<a name="l01768"></a><a class="code" href="classStg_1_1Model_1_1Flag.html">01768</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1Model_1_1Flag.html">Flag</a>
<a name="l01769"></a>01769      {
<a name="l01770"></a>01770      <span class="keyword">private</span>:
<a name="l01771"></a>01771         <a class="code" href="classStg_1_1Color.html">Color</a> color;
<a name="l01772"></a>01772         <span class="keywordtype">double</span> size;
<a name="l01773"></a>01773         <span class="keywordtype">int</span> displaylist;
<a name="l01774"></a>01774 
<a name="l01775"></a>01775      <span class="keyword">public</span>:
<a name="l01776"></a>01776          <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1Flag.html#a8771b547912183a9af23306ae79181ae">SetColor</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Color.html">Color</a>&amp; col );
<a name="l01777"></a>01777          <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1Flag.html#a124bb299f5e6f2c2603ca6c7c033654c">SetSize</a>( <span class="keywordtype">double</span> sz );
<a name="l01778"></a>01778          
<a name="l01779"></a><a class="code" href="classStg_1_1Model_1_1Flag.html#a486a4c14b4e05f2dddd16f4af119441a">01779</a>          <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1Model_1_1Flag.html#a486a4c14b4e05f2dddd16f4af119441a">GetColor</a>(){ <span class="keywordflow">return</span> color; }
<a name="l01780"></a><a class="code" href="classStg_1_1Model_1_1Flag.html#a68c198074799bac3482be23982e42fd9">01780</a>          <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Model_1_1Flag.html#a68c198074799bac3482be23982e42fd9">GetSize</a>(){ <span class="keywordflow">return</span> size; }
<a name="l01781"></a>01781          
<a name="l01782"></a>01782         <a class="code" href="classStg_1_1Model_1_1Flag.html#ad340b9b80b0b60922260208dff2c8097">Flag</a>( <a class="code" href="classStg_1_1Color.html">Color</a> color, <span class="keywordtype">double</span> size );
<a name="l01783"></a>01783         <a class="code" href="classStg_1_1Model_1_1Flag.html">Flag</a>* <a class="code" href="classStg_1_1Model_1_1Flag.html#a9640eb9136ce0648a7f9c47fbadd105c">Nibble</a>( <span class="keywordtype">double</span> portion );
<a name="l01784"></a>01784         
<a name="l01787"></a>01787         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1Flag.html#ae2068693748fda3f082873755f65770c">Draw</a>(  GLUquadric* quadric );
<a name="l01788"></a>01788      };
<a name="l01789"></a>01789 
<a name="l01790"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4e">01790</a>         <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l01791"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea22fc3ab45a0c7b41c2b47384017339ca">01791</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea22fc3ab45a0c7b41c2b47384017339ca">CB_FLAGDECR</a>,
<a name="l01792"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4eaa265d869b83ed4aba1436c86ccc9d8ed">01792</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4eaa265d869b83ed4aba1436c86ccc9d8ed">CB_FLAGINCR</a>,
<a name="l01793"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea202c44292a93103828080c11501b6872">01793</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea202c44292a93103828080c11501b6872">CB_GEOM</a>,
<a name="l01794"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea0a0bcc4a210861558ca40e5b22581850">01794</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea0a0bcc4a210861558ca40e5b22581850">CB_INIT</a>,
<a name="l01795"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea99a691c6496d604f4850a58ceaa690cc">01795</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea99a691c6496d604f4850a58ceaa690cc">CB_LOAD</a>,
<a name="l01796"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea2d00d0bdc664e96148f0344c3b90ffd3">01796</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea2d00d0bdc664e96148f0344c3b90ffd3">CB_PARENT</a>,
<a name="l01797"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea16a7c74b4ed18b6279346a5a8ce76d1b">01797</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea16a7c74b4ed18b6279346a5a8ce76d1b">CB_POSE</a>,
<a name="l01798"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4eafa827118defc3f9c0fbabb8010b6c0ca">01798</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4eafa827118defc3f9c0fbabb8010b6c0ca">CB_SAVE</a>,
<a name="l01799"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea8b5f832f5aaa5a5732f3fbb930a65606">01799</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea8b5f832f5aaa5a5732f3fbb930a65606">CB_SHUTDOWN</a>,
<a name="l01800"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea0d3f803e4e27eb77c9e9f820c10d8910">01800</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea0d3f803e4e27eb77c9e9f820c10d8910">CB_STARTUP</a>,
<a name="l01801"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea6548f088737e3e89059a31d459bd0b0b">01801</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea6548f088737e3e89059a31d459bd0b0b">CB_UPDATE</a>,
<a name="l01802"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea790c40ac7d172986d3263dda341a15df">01802</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea790c40ac7d172986d3263dda341a15df">CB_VELOCITY</a>,
<a name="l01803"></a>01803             <span class="comment">//CB_POSTUPDATE,</span>
<a name="l01804"></a><a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea5c1eb02c43a44b5f9851589ea3fd49ca">01804</a>             <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4ea5c1eb02c43a44b5f9851589ea3fd49ca">__CB_TYPE_COUNT</a> <span class="comment">// must be the last entry: counts the number of types</span>
<a name="l01805"></a>01805         } <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4e">callback_type_t</a>;
<a name="l01806"></a>01806         
<a name="l01807"></a>01807   <span class="keyword">protected</span>:
<a name="l01811"></a><a class="code" href="classStg_1_1Model.html#ae6110505c16f38136f1245c04365002d">01811</a>         std::vector&lt;std::set&lt;cb_t&gt; &gt; <a class="code" href="classStg_1_1Model.html#ae6110505c16f38136f1245c04365002d">callbacks</a>;
<a name="l01812"></a>01812         
<a name="l01813"></a>01813 
<a name="l01815"></a><a class="code" href="classStg_1_1Model.html#a6cfb24f85e2dfb14369de4f5716840d3">01815</a>      <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1Model.html#a6cfb24f85e2dfb14369de4f5716840d3">color</a>;
<a name="l01816"></a>01816         
<a name="l01819"></a><a class="code" href="classStg_1_1Model.html#a6e4d6844ac6da95955f95ddcb048dc3d">01819</a>      <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Model.html#a6e4d6844ac6da95955f95ddcb048dc3d">friction</a>;
<a name="l01820"></a>01820         
<a name="l01824"></a><a class="code" href="classStg_1_1Model.html#a5dd89c9166ae08fb95485a50ee18b128">01824</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a5dd89c9166ae08fb95485a50ee18b128">data_fresh</a>;
<a name="l01825"></a>01825 
<a name="l01829"></a><a class="code" href="classStg_1_1Model.html#a02f4d876d2fa951fcf58f2b9c00800fb">01829</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a02f4d876d2fa951fcf58f2b9c00800fb">disabled</a>; 
<a name="l01830"></a>01830 
<a name="l01832"></a><a class="code" href="classStg_1_1Model.html#aca6f924647590af4d94963742ae89763">01832</a>      std::list&lt;Visualizer*&gt; <a class="code" href="classStg_1_1Model.html#aca6f924647590af4d94963742ae89763">cv_list</a>;
<a name="l01833"></a>01833 
<a name="l01835"></a><a class="code" href="classStg_1_1Model.html#aca28d2b61e825db9cc265207025eaeec">01835</a>      std::list&lt;Flag*&gt; <a class="code" href="classStg_1_1Model.html#aca28d2b61e825db9cc265207025eaeec">flag_list</a>;
<a name="l01836"></a>01836         
<a name="l01839"></a><a class="code" href="classStg_1_1Model.html#a54c95289cfd9cb097fd3f6d6f9148803">01839</a>         <a class="code" href="classStg_1_1Geom.html">Geom</a> <a class="code" href="classStg_1_1Model.html#a54c95289cfd9cb097fd3f6d6f9148803">geom</a>;
<a name="l01840"></a>01840 
<a name="l01842"></a><a class="code" href="classStg_1_1Model_1_1GuiState.html">01842</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1Model_1_1GuiState.html">GuiState</a>
<a name="l01843"></a>01843      {
<a name="l01844"></a>01844      <span class="keyword">public</span>:
<a name="l01845"></a><a class="code" href="classStg_1_1Model_1_1GuiState.html#a6c3971196aa4a5a47b9e9e434aa9c09c">01845</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1GuiState.html#a6c3971196aa4a5a47b9e9e434aa9c09c">grid</a>;
<a name="l01846"></a><a class="code" href="classStg_1_1Model_1_1GuiState.html#a97415f59bc9b44c4b4a6a3730c88d5a0">01846</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1GuiState.html#a97415f59bc9b44c4b4a6a3730c88d5a0">move</a>;
<a name="l01847"></a><a class="code" href="classStg_1_1Model_1_1GuiState.html#aba0111c8e906583c2b2a2642dc500ac6">01847</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1GuiState.html#aba0111c8e906583c2b2a2642dc500ac6">nose</a>;
<a name="l01848"></a><a class="code" href="classStg_1_1Model_1_1GuiState.html#a6906258e9eff244dd3a8839c55634b61">01848</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1GuiState.html#a6906258e9eff244dd3a8839c55634b61">outline</a>;
<a name="l01849"></a>01849         
<a name="l01850"></a>01850         <a class="code" href="classStg_1_1Model_1_1GuiState.html#a2c674761d2b1f1cccf94279e5b4715d4">GuiState</a>();
<a name="l01851"></a>01851         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1GuiState.html#a503d549b3656f709834ed820c630774b">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">wf_entity</a> );
<a name="l01852"></a>01852      } <a class="code" href="classStg_1_1Model.html#ade19c6f345be6b9a619628486090a635">gui</a>;
<a name="l01853"></a>01853      
<a name="l01854"></a><a class="code" href="classStg_1_1Model.html#a0680aa184d102f26cacd4dd7547c853a">01854</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a0680aa184d102f26cacd4dd7547c853a">has_default_block</a>;
<a name="l01855"></a>01855                 
<a name="l01856"></a>01856   
<a name="l01858"></a><a class="code" href="classStg_1_1Model.html#af487168405a1d6a7cccd20024f8884d3">01858</a>      uint32_t <a class="code" href="classStg_1_1Model.html#af487168405a1d6a7cccd20024f8884d3">id</a>;   
<a name="l01859"></a><a class="code" href="classStg_1_1Model.html#aacef5735470bef588aad4965869bdf0a">01859</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#aacef5735470bef588aad4965869bdf0a" title="time between updates in usec">interval</a>; 
<a name="l01860"></a><a class="code" href="classStg_1_1Model.html#a8857ddbf50e51e4e752693faaaf66bdd">01860</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#a8857ddbf50e51e4e752693faaaf66bdd" title="time between updates of powerpack in usec">interval_energy</a>; 
<a name="l01861"></a><a class="code" href="classStg_1_1Model.html#aeb652c3e4a271834657434197a37f24c">01861</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#aeb652c3e4a271834657434197a37f24c" title="time between updates of pose due to velocity in usec">interval_pose</a>; 
<a name="l01862"></a>01862 
<a name="l01863"></a><a class="code" href="classStg_1_1Model.html#a9bd36a5a15a6f549b9b38c2408cd5bfe">01863</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#a9bd36a5a15a6f549b9b38c2408cd5bfe" title="time of last update in us">last_update</a>; 
<a name="l01864"></a><a class="code" href="classStg_1_1Model.html#aa4170f3e568ca7dd86eea706afc2ffe8">01864</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#aa4170f3e568ca7dd86eea706afc2ffe8" title="iff true, model state is logged">log_state</a>; 
<a name="l01865"></a><a class="code" href="classStg_1_1Model.html#a80c04ca1a40fddf85045d0c8eab7d60c">01865</a>      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Model.html#a80c04ca1a40fddf85045d0c8eab7d60c">map_resolution</a>;
<a name="l01866"></a><a class="code" href="classStg_1_1Model.html#af84e57fa4a2226d04c0ea4ae587010b2">01866</a>      <a class="code" href="namespaceStg.html#ac61562289fd5fb2461740d9d4c89db6c">kg_t</a> <a class="code" href="classStg_1_1Model.html#af84e57fa4a2226d04c0ea4ae587010b2">mass</a>;
<a name="l01867"></a>01867 
<a name="l01869"></a><a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">01869</a>      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>; 
<a name="l01870"></a>01870 
<a name="l01873"></a><a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">01873</a>      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a>;
<a name="l01874"></a>01874 
<a name="l01876"></a><a class="code" href="classStg_1_1Model.html#a09b7c69c3d34825b1a71ef942cd3d5c5">01876</a>      <a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>* <a class="code" href="classStg_1_1Model.html#a09b7c69c3d34825b1a71ef942cd3d5c5">power_pack</a>;
<a name="l01877"></a>01877 
<a name="l01880"></a><a class="code" href="classStg_1_1Model.html#ade0b1824cdf5f2d7f9033f1a68f67787">01880</a>      std::list&lt;PowerPack*&gt; <a class="code" href="classStg_1_1Model.html#ade0b1824cdf5f2d7f9033f1a68f67787">pps_charging</a>;
<a name="l01881"></a>01881         
<a name="l01883"></a><a class="code" href="classStg_1_1Model_1_1RasterVis.html">01883</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1Model_1_1RasterVis.html">RasterVis</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a>
<a name="l01884"></a>01884      {
<a name="l01885"></a>01885      <span class="keyword">private</span>:
<a name="l01886"></a>01886         uint8_t* data;
<a name="l01887"></a>01887         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width, height;
<a name="l01888"></a>01888         <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellwidth, cellheight;
<a name="l01889"></a>01889         std::vector&lt;point_t&gt; pts;
<a name="l01890"></a>01890       
<a name="l01891"></a>01891      <span class="keyword">public</span>:
<a name="l01892"></a>01892         <a class="code" href="classStg_1_1Model_1_1RasterVis.html#aeee19babbdb3e125d1d892346648585a">RasterVis</a>();
<a name="l01893"></a><a class="code" href="classStg_1_1Model_1_1RasterVis.html#ac1c102051dea7eb5eeee10c0fe56f11f">01893</a>         <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Model_1_1RasterVis.html#ac1c102051dea7eb5eeee10c0fe56f11f">~RasterVis</a>( <span class="keywordtype">void</span> ){}
<a name="l01894"></a>01894         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1RasterVis.html#aab76a463b280481e53d36fb9bbfce54d">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l01895"></a>01895       
<a name="l01896"></a>01896         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1RasterVis.html#a9fe4996aefd3f28ccdcf0fd90f932033">SetData</a>( uint8_t* data, 
<a name="l01897"></a>01897                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width, 
<a name="l01898"></a>01898                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> height,
<a name="l01899"></a>01899                           <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellwidth,
<a name="l01900"></a>01900                           <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellheight );
<a name="l01901"></a>01901       
<a name="l01902"></a><a class="code" href="classStg_1_1Model_1_1RasterVis.html#af31ae8f28afc411d7de3ee57beed6998">01902</a>         <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model_1_1RasterVis.html#af31ae8f28afc411d7de3ee57beed6998">subs</a>;     <span class="comment">//&lt; the number of subscriptions to this model</span>
<a name="l01903"></a><a class="code" href="classStg_1_1Model_1_1RasterVis.html#a3864a7992bf518183335c726cff1d222">01903</a>         <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model_1_1RasterVis.html#a3864a7992bf518183335c726cff1d222">used</a>;     <span class="comment">//&lt; the number of connections to this model</span>
<a name="l01904"></a>01904       
<a name="l01905"></a>01905         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1RasterVis.html#a2b42df7ae4783710b0aba1fb0ec2abda">AddPoint</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> x, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> y );
<a name="l01906"></a>01906         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1RasterVis.html#ab155ee411c69d12eddb05e5aae097f02">ClearPts</a>();
<a name="l01907"></a>01907       
<a name="l01908"></a>01908      } <a class="code" href="classStg_1_1Model.html#a5bcb74e140e8047bce9bf86532314579">rastervis</a>;
<a name="l01909"></a>01909      
<a name="l01910"></a><a class="code" href="classStg_1_1Model.html#aedb67324cef53b3f888e48765d882919">01910</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#aedb67324cef53b3f888e48765d882919" title="iff true, regenerate block display list before redraw">rebuild_displaylist</a>; 
<a name="l01911"></a><a class="code" href="classStg_1_1Model.html#af20b42d267caa7c02e2b4868a1242d18">01911</a>      std::string <a class="code" href="classStg_1_1Model.html#af20b42d267caa7c02e2b4868a1242d18" title="if non-empty, this string is displayed in the GUI">say_string</a>;   
<a name="l01912"></a>01912         
<a name="l01913"></a><a class="code" href="classStg_1_1Model.html#addf3f17d6fa98c6b8a08416c11d69049">01913</a>     <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#addf3f17d6fa98c6b8a08416c11d69049" title="whether child models should be stacked on top of this model or not">stack_children</a>; 
<a name="l01914"></a>01914 
<a name="l01915"></a><a class="code" href="classStg_1_1Model.html#aa2a445b86b77650be968de772469519f">01915</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#aa2a445b86b77650be968de772469519f" title="Set to true iff the model collided with something else.">stall</a>; 
<a name="l01916"></a><a class="code" href="classStg_1_1Model.html#aad31c7b518b657d835cbe9e51b56a194">01916</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#aad31c7b518b657d835cbe9e51b56a194" title="the number of subscriptions to this model">subs</a>;    
<a name="l01917"></a>01917 
<a name="l01921"></a><a class="code" href="classStg_1_1Model.html#a04ed2cb68aa5b041a3567454432dfd03">01921</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a04ed2cb68aa5b041a3567454432dfd03">thread_safe</a>;
<a name="l01922"></a>01922      
<a name="l01924"></a><a class="code" href="classStg_1_1Model_1_1TrailItem.html">01924</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1Model_1_1TrailItem.html">TrailItem</a> 
<a name="l01925"></a>01925      {                                                                                          
<a name="l01926"></a>01926      <span class="keyword">public</span>:
<a name="l01927"></a><a class="code" href="classStg_1_1Model_1_1TrailItem.html#acdca1cae124f31082d57740203bafe54">01927</a>         <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model_1_1TrailItem.html#acdca1cae124f31082d57740203bafe54">time</a>;
<a name="l01928"></a><a class="code" href="classStg_1_1Model_1_1TrailItem.html#a19010d0d68b92859450ba81d3528429b">01928</a>         <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model_1_1TrailItem.html#a19010d0d68b92859450ba81d3528429b">pose</a>;
<a name="l01929"></a><a class="code" href="classStg_1_1Model_1_1TrailItem.html#a83b72916672ed41fbd97e33fece9423e">01929</a>         <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1Model_1_1TrailItem.html#a83b72916672ed41fbd97e33fece9423e">color</a>;
<a name="l01930"></a>01930         
<a name="l01931"></a><a class="code" href="classStg_1_1Model_1_1TrailItem.html#a7867e81f47c7747114be68dc9b647d9a">01931</a>         <a class="code" href="classStg_1_1Model_1_1TrailItem.html#a7867e81f47c7747114be68dc9b647d9a">TrailItem</a>() 
<a name="l01932"></a>01932           : <a class="code" href="classStg_1_1Model_1_1TrailItem.html#acdca1cae124f31082d57740203bafe54">time</a>(0), <a class="code" href="classStg_1_1Model_1_1TrailItem.html#a19010d0d68b92859450ba81d3528429b">pose</a>(), <a class="code" href="classStg_1_1Model_1_1TrailItem.html#a83b72916672ed41fbd97e33fece9423e">color</a>(){}
<a name="l01933"></a>01933          
<a name="l01934"></a>01934          <span class="comment">//TrailItem( usec_t time, Pose pose, Color color ) </span>
<a name="l01935"></a>01935          <span class="comment">//: time(time), pose(pose), color(color){}</span>
<a name="l01936"></a>01936      };
<a name="l01937"></a>01937     
<a name="l01939"></a><a class="code" href="classStg_1_1Model.html#a67c792e9ce63a83f7614a197fe32a5e5">01939</a>         std::vector&lt;TrailItem&gt; <a class="code" href="classStg_1_1Model.html#a67c792e9ce63a83f7614a197fe32a5e5">trail</a>;
<a name="l01940"></a>01940 
<a name="l01942"></a><a class="code" href="classStg_1_1Model.html#aafb45adf732c5aad2759cbe77aa59bb8">01942</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#aafb45adf732c5aad2759cbe77aa59bb8">trail_index</a>;
<a name="l01943"></a>01943 
<a name="l01947"></a><a class="code" href="classStg_1_1Model.html#a90eae0c0e6f1004b7e8336b62d48b17c">01947</a>      <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a90eae0c0e6f1004b7e8336b62d48b17c">trail_length</a>;
<a name="l01948"></a>01948      
<a name="l01950"></a><a class="code" href="classStg_1_1Model.html#a9bfc9d10c8d61ea76e6b984005047d4f">01950</a>      <span class="keyword">static</span> uint64_t <a class="code" href="classStg_1_1Model.html#a9bfc9d10c8d61ea76e6b984005047d4f">trail_interval</a>;
<a name="l01951"></a>01951      
<a name="l01953"></a>01953         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aa94ad46ed8796a53523c8e19810b3981">UpdateTrail</a>();
<a name="l01954"></a>01954 
<a name="l01955"></a>01955      <span class="comment">//model_type_t type;  </span>
<a name="l01956"></a><a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">01956</a>      <span class="keyword">const</span> std::string <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a>;
<a name="l01959"></a><a class="code" href="classStg_1_1Model.html#ac91e6053d45c72087ae21913d35b5901">01959</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#ac91e6053d45c72087ae21913d35b5901">event_queue_num</a>; 
<a name="l01960"></a><a class="code" href="classStg_1_1Model.html#a65bcc7adce4d2770f8f8d619726c5d27">01960</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a65bcc7adce4d2770f8f8d619726c5d27" title="TRUE iff this model has been returned by GetUnusedModelOfType()">used</a>;   
<a name="l01961"></a><a class="code" href="classStg_1_1Model.html#ae8f024f668151d186238bb1ce12fb53a">01961</a>         <a class="code" href="classStg_1_1Velocity.html">Velocity</a> <a class="code" href="classStg_1_1Model.html#ae8f024f668151d186238bb1ce12fb53a">velocity</a>;
<a name="l01962"></a>01962         
<a name="l01966"></a><a class="code" href="classStg_1_1Model.html#ac2ba8b32f3cdbd79915f61aedf70e695">01966</a>         <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#ac2ba8b32f3cdbd79915f61aedf70e695">velocity_enable</a>;
<a name="l01967"></a>01967         
<a name="l01968"></a><a class="code" href="classStg_1_1Model.html#a7e1af1e82503b68834af2aee2d96321a">01968</a>         <a class="code" href="namespaceStg.html#aaf07f5b0b05dd2d9892578ece58bd74d">watts_t</a> <a class="code" href="classStg_1_1Model.html#a7e1af1e82503b68834af2aee2d96321a" title="power consumed by this model">watts</a>;
<a name="l01969"></a>01969      
<a name="l01972"></a><a class="code" href="classStg_1_1Model.html#ada8d40797aea68261c280bf8f2af1702">01972</a>      <a class="code" href="namespaceStg.html#aaf07f5b0b05dd2d9892578ece58bd74d">watts_t</a> <a class="code" href="classStg_1_1Model.html#ada8d40797aea68261c280bf8f2af1702">watts_give</a>;
<a name="l01973"></a>01973     
<a name="l01976"></a><a class="code" href="classStg_1_1Model.html#a571d1b6ffd6996e8c65fc7ed56e67534">01976</a>      <a class="code" href="namespaceStg.html#aaf07f5b0b05dd2d9892578ece58bd74d">watts_t</a> <a class="code" href="classStg_1_1Model.html#a571d1b6ffd6996e8c65fc7ed56e67534">watts_take</a>;
<a name="l01977"></a>01977     
<a name="l01978"></a><a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">01978</a>      <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>;
<a name="l01979"></a><a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">01979</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">wf_entity</a>;
<a name="l01980"></a><a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">01980</a>      <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>; <span class="comment">// pointer to the world in which this model exists</span>
<a name="l01981"></a><a class="code" href="classStg_1_1Model.html#a9428c24f8af6a033842c93e07b42ec9e">01981</a>      <a class="code" href="classStg_1_1WorldGui.html">WorldGui</a>* <a class="code" href="classStg_1_1Model.html#a9428c24f8af6a033842c93e07b42ec9e">world_gui</a>; <span class="comment">//pointer to the GUI world - NULL if running in non-gui mode</span>
<a name="l01982"></a>01982 
<a name="l01983"></a>01983   <span class="keyword">public</span>:
<a name="l01984"></a>01984      
<a name="l01985"></a><a class="code" href="classStg_1_1Model.html#af6c80a9f231460c43b5cd3bdf6b403be">01985</a>      <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#af6c80a9f231460c43b5cd3bdf6b403be">GetModelType</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a>;}  
<a name="l01986"></a><a class="code" href="classStg_1_1Model.html#a4a74c26bbd705e5660824e28a132b3f2">01986</a>      std::string <a class="code" href="classStg_1_1Model.html#a4a74c26bbd705e5660824e28a132b3f2">GetSayString</a>(){<span class="keywordflow">return</span> std::string(<a class="code" href="classStg_1_1Model.html#af20b42d267caa7c02e2b4868a1242d18" title="if non-empty, this string is displayed in the GUI">say_string</a>);}
<a name="l01987"></a>01987      
<a name="l01990"></a>01990     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#adbe5ae845ec31beca626e035a771339a">GetChild</a>( <span class="keyword">const</span> std::string&amp; name ) <span class="keyword">const</span>;
<a name="l01991"></a>01991 
<a name="l01993"></a><a class="code" href="classStg_1_1Model.html#a602513708a7521b49f7188eba880d354">01993</a>         <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#a602513708a7521b49f7188eba880d354">GetInterval</a>(){ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#aacef5735470bef588aad4965869bdf0a" title="time between updates in usec">interval</a>; }
<a name="l01994"></a>01994         
<a name="l01995"></a><a class="code" href="classStg_1_1Model_1_1Visibility.html">01995</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1Model_1_1Visibility.html">Visibility</a>
<a name="l01996"></a>01996      {
<a name="l01997"></a>01997      <span class="keyword">public</span>:
<a name="l01998"></a><a class="code" href="classStg_1_1Model_1_1Visibility.html#aa16e8d402b772c1dd574ad59f16e16f8">01998</a>          <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#aa16e8d402b772c1dd574ad59f16e16f8">blob_return</a>;
<a name="l01999"></a><a class="code" href="classStg_1_1Model_1_1Visibility.html#a477404279aed802b7f3050c23d185d51">01999</a>          <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#a477404279aed802b7f3050c23d185d51">fiducial_key</a>;
<a name="l02000"></a><a class="code" href="classStg_1_1Model_1_1Visibility.html#a9257fd6696c91051fb264cd2040bf602">02000</a>          <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#a9257fd6696c91051fb264cd2040bf602">fiducial_return</a>;
<a name="l02001"></a><a class="code" href="classStg_1_1Model_1_1Visibility.html#afd11f00b42d5bbfe42b8e192e32b5240">02001</a>          <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#afd11f00b42d5bbfe42b8e192e32b5240">gripper_return</a>;
<a name="l02002"></a><a class="code" href="classStg_1_1Model_1_1Visibility.html#aeb651b323dc7d31acaa50120f0c39cd9">02002</a>          <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#aeb651b323dc7d31acaa50120f0c39cd9">obstacle_return</a>;
<a name="l02003"></a><a class="code" href="classStg_1_1Model_1_1Visibility.html#a1f13f1c7a4a53f5b5de5a3a6ae5d60d5">02003</a>          <span class="keywordtype">float</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#a1f13f1c7a4a53f5b5de5a3a6ae5d60d5">ranger_return</a>; <span class="comment">// 0 - 1</span>
<a name="l02004"></a>02004         
<a name="l02005"></a>02005         <a class="code" href="classStg_1_1Model_1_1Visibility.html#aec498f2b711c26db2c1c74c718f8064d">Visibility</a>();
<a name="l02006"></a>02006 
<a name="l02007"></a>02007         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#a9efe76940e0e57fdce20b6e932b328d2">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">wf_entity</a> );
<a name="l02008"></a>02008         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model_1_1Visibility.html#acb11f16d530f48c04deb7cc7c15987d9">Save</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">wf_entity</a> );
<a name="l02009"></a>02009      } <a class="code" href="classStg_1_1Model.html#a05c7a70c97efef902fc3d009e0c81cff">vis</a>;
<a name="l02010"></a>02010      
<a name="l02011"></a><a class="code" href="classStg_1_1Model.html#a0ed568851242b60b3032f55875ef46f5">02011</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#a0ed568851242b60b3032f55875ef46f5">GetUpdateInterval</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#aacef5735470bef588aad4965869bdf0a" title="time between updates in usec">interval</a>; }
<a name="l02012"></a><a class="code" href="classStg_1_1Model.html#aebe53b4d47dd398089a6723c17d8823f">02012</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#aebe53b4d47dd398089a6723c17d8823f">GetEnergyInterval</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#a8857ddbf50e51e4e752693faaaf66bdd" title="time between updates of powerpack in usec">interval_energy</a>; }
<a name="l02013"></a><a class="code" href="classStg_1_1Model.html#ac57d5eaa049b302f23aa74460292837a">02013</a>      <a class="code" href="namespaceStg.html#a37152d780666f31a74ee4eb5f6df76d4">usec_t</a> <a class="code" href="classStg_1_1Model.html#ac57d5eaa049b302f23aa74460292837a">GetPoseInterval</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#aeb652c3e4a271834657434197a37f24c" title="time between updates of pose due to velocity in usec">interval_pose</a>; }
<a name="l02014"></a>02014      
<a name="l02017"></a>02017      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a3d1dcc25da2c149b28d07b9fa17ed247">Rasterize</a>( uint8_t* data, 
<a name="l02018"></a>02018                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> height,
<a name="l02019"></a>02019                           <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellwidth, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> cellheight );
<a name="l02020"></a>02020     
<a name="l02021"></a>02021   <span class="keyword">private</span>: 
<a name="l02024"></a>02024      <span class="keyword">explicit</span> <a class="code" href="classStg_1_1Model.html#a04f6e56cab8b62c31c58e9de16df4462">Model</a>(<span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>&amp; original);
<a name="l02025"></a>02025 
<a name="l02028"></a>02028      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>&amp; original);
<a name="l02029"></a>02029 
<a name="l02030"></a>02030   <span class="keyword">protected</span>:
<a name="l02031"></a>02031 
<a name="l02033"></a>02033      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a16108e9fcbadbb1b29a0c17f367875fd">RegisterOption</a>( <a class="code" href="classStg_1_1Option.html">Option</a>* opt );
<a name="l02034"></a>02034 
<a name="l02035"></a>02035      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#af283ed51cd77bfddfd8dc829094d017e">AppendTouchingModels</a>( <a class="code" href="namespaceStg.html#acd0048e15bcc6c6a96056280ee31591b">ModelPtrSet</a>&amp; touchers );
<a name="l02036"></a>02036 
<a name="l02040"></a>02040      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a978e578f3796169195907bd4bc610933">TestCollision</a>();
<a name="l02041"></a>02041 
<a name="l02044"></a>02044     <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a8445c1f401c538a1bb179c2c41dcb373">TestCollisionTree</a>();
<a name="l02045"></a>02045   
<a name="l02046"></a>02046      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a25e25122e53cffadcad0e6a9d0e76ef5">CommitTestedPose</a>();
<a name="l02047"></a>02047 
<a name="l02048"></a>02048      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#abd35e554972cfadd8f42370736d7d1ce">Map</a>();
<a name="l02049"></a>02049      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a324d75bfcfaebc918c8d937bd8b8cfad">UnMap</a>();
<a name="l02050"></a>02050 
<a name="l02051"></a>02051      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a7740dc2fbaa3d802ef08b2e63b949b8d">MapWithChildren</a>();
<a name="l02052"></a>02052      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ab4ff88ae483dffb34f8f0dc707f4c9eb">UnMapWithChildren</a>();
<a name="l02053"></a>02053   
<a name="l02054"></a>02054      <span class="comment">// Find the root model, and map/unmap the whole tree.</span>
<a name="l02055"></a>02055      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a7a3d7f81897384efcddd65039502baeb">MapFromRoot</a>();
<a name="l02056"></a>02056      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#afd5256e182c914e4e8fcf0b7e6ea6d25">UnMapFromRoot</a>();
<a name="l02057"></a>02057 
<a name="l02060"></a>02060      <a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a> <a class="code" href="classStg_1_1Model.html#a8d80f7a590d8bfe49dc6127d8e8472b4">Raytrace</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> &amp;<a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a>,
<a name="l02061"></a>02061                                                 <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> range, 
<a name="l02062"></a>02062                                                 <span class="keyword">const</span> <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> func,
<a name="l02063"></a>02063                                                 <span class="keyword">const</span> <span class="keywordtype">void</span>* arg,
<a name="l02064"></a>02064                                                 <span class="keyword">const</span> <span class="keywordtype">bool</span> ztest = <span class="keyword">true</span> );
<a name="l02065"></a>02065   
<a name="l02068"></a>02068      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a8d80f7a590d8bfe49dc6127d8e8472b4">Raytrace</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a> &amp;<a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a>,
<a name="l02069"></a>02069                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> range, 
<a name="l02070"></a>02070                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> fov, 
<a name="l02071"></a>02071                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> func,
<a name="l02072"></a>02072                          <span class="keyword">const</span> <span class="keywordtype">void</span>* arg,
<a name="l02073"></a>02073                          <a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a>* samples,
<a name="l02074"></a>02074                          <span class="keyword">const</span> uint32_t sample_count,
<a name="l02075"></a>02075                          <span class="keyword">const</span> <span class="keywordtype">bool</span> ztest = <span class="keyword">true</span>  );
<a name="l02076"></a>02076   
<a name="l02077"></a>02077      <a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a> <a class="code" href="classStg_1_1Model.html#a8d80f7a590d8bfe49dc6127d8e8472b4">Raytrace</a>( <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> bearing,           
<a name="l02078"></a>02078                                                 <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> range,
<a name="l02079"></a>02079                                                 <span class="keyword">const</span> <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> func,
<a name="l02080"></a>02080                                                 <span class="keyword">const</span> <span class="keywordtype">void</span>* arg,
<a name="l02081"></a>02081                                                 <span class="keyword">const</span> <span class="keywordtype">bool</span> ztest = <span class="keyword">true</span> );
<a name="l02082"></a>02082   
<a name="l02083"></a>02083      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a8d80f7a590d8bfe49dc6127d8e8472b4">Raytrace</a>( <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> bearing,             
<a name="l02084"></a>02084                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> range,
<a name="l02085"></a>02085                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> fov,
<a name="l02086"></a>02086                          <span class="keyword">const</span> <a class="code" href="namespaceStg.html#ab0acd694f675e44bc26f144c04b8ba01">ray_test_func_t</a> func,
<a name="l02087"></a>02087                          <span class="keyword">const</span> <span class="keywordtype">void</span>* arg,
<a name="l02088"></a>02088                          <a class="code" href="classStg_1_1RaytraceResult.html">RaytraceResult</a>* samples,
<a name="l02089"></a>02089                          <span class="keyword">const</span> uint32_t sample_count,
<a name="l02090"></a>02090                          <span class="keyword">const</span> <span class="keywordtype">bool</span> ztest = <span class="keyword">true</span> );
<a name="l02091"></a>02091   
<a name="l02092"></a>02092 
<a name="l02096"></a>02096      <span class="comment">//void GPoseDirtyTree();</span>
<a name="l02097"></a>02097 
<a name="l02098"></a>02098      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a76f30955dd68d6abe6ea85e77403ae1a">Startup</a>();
<a name="l02099"></a>02099      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aced6210805fba37b597e42b0c3020c2c">Shutdown</a>();
<a name="l02100"></a>02100      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aa83183aaf1b9ef29bf554a2ce10b40eb">Update</a>();
<a name="l02101"></a>02101      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a654eebe2308630a9d3789cfd23dafe0c">UpdatePose</a>();
<a name="l02102"></a>02102      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#afced57969e44a0ffde2a94abf5fbf19a">UpdateCharge</a>();
<a name="l02103"></a>02103 
<a name="l02104"></a>02104      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a8a37b5d9fa0c85c9de9ecb48c8a1b3c5">ConditionalMove</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; newpose );
<a name="l02105"></a>02105 
<a name="l02106"></a>02106      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1Model.html#a6a870714d48b952743f5373ece384cc2">ModelHeight</a>() <span class="keyword">const</span>;
<a name="l02107"></a>02107 
<a name="l02108"></a>02108      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a2f4343f2fcc248b900eae7c0fec99ada">DrawBlocksTree</a>();
<a name="l02109"></a>02109      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#abd5e38658a239d8be462b47badc52fde">DrawBlocks</a>();
<a name="l02110"></a>02110      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a648c89828a840290730d0d4073e4fdca">DrawBoundingBox</a>();
<a name="l02111"></a>02111      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#acce29ced14c3cffd7e1ff584f837940a">DrawBoundingBoxTree</a>();
<a name="l02112"></a>02112      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a52b5035974a417b5f076acfd39353390">DrawStatus</a>( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02113"></a>02113      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#af530c2973a6673ade6a4e23cc98fe6c4">DrawStatusTree</a>( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02114"></a>02114   
<a name="l02115"></a>02115      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ae27f98f6e29bcbed1c01f35d1be275a3">DrawOriginTree</a>();
<a name="l02116"></a>02116      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a72c51be18133d76d3807b8fa211436a6">DrawOrigin</a>();
<a name="l02117"></a>02117   
<a name="l02118"></a>02118      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a9a123e07cf052a9a111c3c3d5aa71758">PushLocalCoords</a>();
<a name="l02119"></a>02119      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a7ae039253c7dce52e1f6ea6b8cc77519">PopCoords</a>();
<a name="l02120"></a>02120   
<a name="l02122"></a>02122      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aac5d67bd0e4b547fb1be4329d06360a7">DrawImage</a>( uint32_t texture_id, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam, <span class="keywordtype">float</span> alpha, <span class="keywordtype">double</span> width=1.0, <span class="keywordtype">double</span> height=1.0 );
<a name="l02123"></a>02123     
<a name="l02124"></a>02124      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aeae0ef81ef935fd4438ddec01c34ae56">DrawPicker</a>();
<a name="l02125"></a>02125      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a2e8893e4f386b39794d3d192e8ffe7ae">DataVisualize</a>( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );  
<a name="l02126"></a>02126      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a4fadd0ff19cb5c052e62ad24b3e32e03">DrawSelected</a>(<span class="keywordtype">void</span>);
<a name="l02127"></a>02127     
<a name="l02128"></a>02128      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a043ac9f9c5991c0d8dea48a132a360af">DrawTrailFootprint</a>();
<a name="l02129"></a>02129      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#accbffc09e3a5a68b03014c82553b83ee">DrawTrailBlocks</a>();
<a name="l02130"></a>02130      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aa8ad4335433f8f8f5ac339afd41f53db">DrawTrailArrows</a>();
<a name="l02131"></a>02131      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#af1ac90203f9646d46abe7338fa3e0a6e">DrawGrid</a>();
<a name="l02132"></a>02132      <span class="comment">// void DrawBlinkenlights();</span>
<a name="l02133"></a>02133      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ad6db53037cf2f2a7fe8bdfc6dd6b18bd">DataVisualizeTree</a>( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02134"></a>02134      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a1846d1e5b1e828b20d00010d4046145a">DrawFlagList</a>();
<a name="l02135"></a>02135      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#accbcb08db03049210edb64b11fd53bfa">DrawPose</a>( <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a> );
<a name="l02136"></a>02136     
<a name="l02137"></a>02137   <span class="keyword">public</span>:
<a name="l02138"></a><a class="code" href="classStg_1_1Model.html#a21d45866839e019e70db9e5720834af9">02138</a>      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a21d45866839e019e70db9e5720834af9">PushColor</a>( <a class="code" href="classStg_1_1Color.html">Color</a> col ){ <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>-&gt;<a class="code" href="classStg_1_1World.html#a628bd136bf2555ceea8992de15d76ea3">PushColor</a>( col ); }    
<a name="l02139"></a><a class="code" href="classStg_1_1Model.html#abc196c5c0d766482b92d1f021eb0d647">02139</a>      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#abc196c5c0d766482b92d1f021eb0d647">PushColor</a>( <span class="keywordtype">double</span> r, <span class="keywordtype">double</span> g, <span class="keywordtype">double</span> b, <span class="keywordtype">double</span> a ){ <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>-&gt;<a class="code" href="classStg_1_1World.html#a628bd136bf2555ceea8992de15d76ea3">PushColor</a>( r,g,b,a ); }   
<a name="l02140"></a><a class="code" href="classStg_1_1Model.html#ab74fc2f773ee4eb1ef5e6c4b32077e72">02140</a>      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ab74fc2f773ee4eb1ef5e6c4b32077e72">PopColor</a>()    { <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>-&gt;<a class="code" href="classStg_1_1World.html#aa21b0871f0ef5ef68036ebea11faba29">PopColor</a>(); }
<a name="l02141"></a>02141     
<a name="l02142"></a>02142      <a class="code" href="classStg_1_1PowerPack.html">PowerPack</a>* <a class="code" href="classStg_1_1Model.html#a142405bba4114f959056bc837f930d97">FindPowerPack</a>() <span class="keyword">const</span>;
<a name="l02143"></a>02143     
<a name="l02144"></a>02144      <span class="comment">//void RecordRenderPoint( GSList** head, GSList* link, </span>
<a name="l02145"></a>02145      <span class="comment">//                 unsigned int* c1, unsigned int* c2 );</span>
<a name="l02146"></a>02146 
<a name="l02147"></a>02147      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a9a0617f9deaaddcfe4e31a435fce26a7">PlaceInFreeSpace</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> xmin, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> xmax, 
<a name="l02148"></a>02148                                     <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> ymin, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> ymax );
<a name="l02149"></a>02149     
<a name="l02151"></a><a class="code" href="classStg_1_1Model.html#a07b60dc4e4a7b336c8ea97b66b2f3af6">02151</a>      std::string <a class="code" href="classStg_1_1Model.html#a07b60dc4e4a7b336c8ea97b66b2f3af6">PoseString</a>()
<a name="l02152"></a>02152      { <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a>.<a class="code" href="classStg_1_1Pose.html#ad0e96e6239ce6fb54012b4b12f86355f">String</a>(); }
<a name="l02153"></a>02153     
<a name="l02155"></a><a class="code" href="classStg_1_1Model.html#a59ad4f137c847f0ae977a4ae6fc010c8">02155</a>      <span class="keyword">static</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a59ad4f137c847f0ae977a4ae6fc010c8">LookupId</a>( uint32_t <span class="keywordtype">id</span> )
<a name="l02156"></a>02156      { <span class="keywordflow">return</span> modelsbyid[<a class="code" href="classStg_1_1Model.html#af487168405a1d6a7cccd20024f8884d3">id</a>]; }
<a name="l02157"></a>02157      
<a name="l02159"></a>02159      <a class="code" href="classStg_1_1Model.html#a04f6e56cab8b62c31c58e9de16df4462">Model</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>, 
<a name="l02160"></a>02160               <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a> = NULL, 
<a name="l02161"></a>02161               <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> = <span class="stringliteral">&quot;model&quot;</span> );
<a name="l02162"></a>02162      
<a name="l02164"></a>02164      <span class="keyword">virtual</span> <a class="code" href="classStg_1_1Model.html#ad6ebd2062a0b823db841a0b88baac4c0">~Model</a>();
<a name="l02165"></a>02165         
<a name="l02167"></a><a class="code" href="classStg_1_1Model.html#a04f6e56cab8b62c31c58e9de16df4462">02167</a>         <a class="code" href="classStg_1_1Model.html#a04f6e56cab8b62c31c58e9de16df4462">Model</a>() 
<a name="l02168"></a>02168             : <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>(NULL), <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>(NULL) 
<a name="l02169"></a>02169         {}
<a name="l02170"></a>02170         
<a name="l02171"></a>02171      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a9da2fa07c00db8c990fdfaf6cbe303b5">Say</a>( <span class="keyword">const</span> std::string&amp; str );
<a name="l02172"></a>02172      
<a name="l02174"></a>02174      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#acd133c88c29f40da2c7d506a63d8b77d">AddVisualizer</a>( <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a>* custom_visual, <span class="keywordtype">bool</span> on_by_default );
<a name="l02175"></a>02175 
<a name="l02177"></a>02177      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a30dc19585c0a4680f7a8d83c19879aad">RemoveVisualizer</a>( <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a>* custom_visual );
<a name="l02178"></a>02178 
<a name="l02179"></a>02179      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a52b7702809b5cb656a4a3d0800e4be09">BecomeParentOf</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* child );
<a name="l02180"></a>02180 
<a name="l02181"></a><a class="code" href="classStg_1_1Model.html#af8cc9b38381df03fe0d11204b98ba532">02181</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a6974d963ca317999d3cc7ac15adcb940">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">wf_entity</a> )
<a name="l02182"></a>02182      {
<a name="l02185"></a>02185         <a class="code" href="classStg_1_1Model.html#a54d4e130cd9b426380bf41bfc7feea73">SetWorldfile</a>( wf, wf_entity );
<a name="l02186"></a>02186         <a class="code" href="classStg_1_1Model.html#a6974d963ca317999d3cc7ac15adcb940">Load</a>(); <span class="comment">// call virtual load</span>
<a name="l02187"></a>02187      }
<a name="l02188"></a>02188     
<a name="l02190"></a><a class="code" href="classStg_1_1Model.html#a54d4e130cd9b426380bf41bfc7feea73">02190</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a54d4e130cd9b426380bf41bfc7feea73">SetWorldfile</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">wf_entity</a> )
<a name="l02191"></a>02191      { this-&gt;wf = <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>; this-&gt;wf_entity = <a class="code" href="classStg_1_1Model.html#a814748e48d719c3d26cb5d72a6c5c4d2">wf_entity</a>; }
<a name="l02192"></a>02192     
<a name="l02194"></a>02194      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a6974d963ca317999d3cc7ac15adcb940">Load</a>();
<a name="l02195"></a>02195     
<a name="l02197"></a>02197      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ae1caf7ef46c365bd1743e788d77c116d">Save</a>();
<a name="l02198"></a>02198     
<a name="l02200"></a>02200      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a064e8dd4258548d0558b4741310a045e">InitControllers</a>();
<a name="l02201"></a>02201 
<a name="l02202"></a>02202      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aeb0533752322d2294992c4d71a95c659">AddFlag</a>(  Flag* flag );
<a name="l02203"></a>02203      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a4fe7654e826eedd991af2823d635bfc8">RemoveFlag</a>( Flag* flag );
<a name="l02204"></a>02204     
<a name="l02205"></a>02205      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a9404ab4e1f30eb6530dbc2e047cce365">PushFlag</a>( Flag* flag );
<a name="l02206"></a>02206      Flag* <a class="code" href="classStg_1_1Model.html#a3b528c8efb78826d23478a29f75dd3ea">PopFlag</a>();
<a name="l02207"></a>02207     
<a name="l02208"></a><a class="code" href="classStg_1_1Model.html#a2b99154ce09e9ccbbb12d497cd28f8b0">02208</a>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a2b99154ce09e9ccbbb12d497cd28f8b0">GetFlagCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#aca28d2b61e825db9cc265207025eaeec">flag_list</a>.size(); }
<a name="l02209"></a>02209     
<a name="l02214"></a><a class="code" href="classStg_1_1Model.html#adb3c597d937acdc70dedaf5f600d1823">02214</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#adb3c597d937acdc70dedaf5f600d1823">Disable</a>(){ <a class="code" href="classStg_1_1Model.html#a02f4d876d2fa951fcf58f2b9c00800fb">disabled</a> = <span class="keyword">true</span>; };
<a name="l02215"></a>02215 
<a name="l02218"></a><a class="code" href="classStg_1_1Model.html#abe1eae3d7b4b4380a730d78eb96d9c7c">02218</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#abe1eae3d7b4b4380a730d78eb96d9c7c">Enable</a>(){ <a class="code" href="classStg_1_1Model.html#a02f4d876d2fa951fcf58f2b9c00800fb">disabled</a> = <span class="keyword">false</span>; };
<a name="l02219"></a>02219   
<a name="l02222"></a>02222      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ae510aa7d5e3bda7db2e0a13a05f64148">LoadControllerModule</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* lib );
<a name="l02223"></a>02223     
<a name="l02226"></a>02226      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ab636044d8a874eaa5ac7b3f7be2428c3">NeedRedraw</a>();
<a name="l02227"></a>02227         
<a name="l02229"></a>02229         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a8fa61904fc178a7b4fdfd65a92fa9d09">Redraw</a>();
<a name="l02230"></a>02230 
<a name="l02233"></a>02233      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a8fb143f4914196a6de7f9a0cd817af97">LoadBlock</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l02234"></a>02234 
<a name="l02237"></a>02237      <a class="code" href="classStg_1_1Block.html">Block</a>* <a class="code" href="classStg_1_1Model.html#a8f43e15c7c0ff94f523f4127b12929ff">AddBlockRect</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> x, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> y, 
<a name="l02238"></a>02238                                  <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> dx, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> dy, 
<a name="l02239"></a>02239                                  <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> dz );
<a name="l02240"></a>02240     
<a name="l02242"></a>02242      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a0bda482f31e2bee774e4a05815160e3a">ClearBlocks</a>();
<a name="l02243"></a>02243   
<a name="l02246"></a><a class="code" href="classStg_1_1Model.html#a5d3569c15679eb72a7c1b778a6469988">02246</a>      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a5d3569c15679eb72a7c1b778a6469988">Parent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>; }
<a name="l02247"></a>02247 
<a name="l02249"></a><a class="code" href="classStg_1_1Model.html#ab500215866d6e4e368c9b5c2b78121f6">02249</a>      <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#ab500215866d6e4e368c9b5c2b78121f6">GetWorld</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>; }
<a name="l02250"></a>02250   
<a name="l02252"></a><a class="code" href="classStg_1_1Model.html#a4f7ffb2b1c10c1a3dac5a2b743c696dd">02252</a>      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a4f7ffb2b1c10c1a3dac5a2b743c696dd">Root</a>(){ <span class="keywordflow">return</span>(  <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a> ? <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>-&gt;<a class="code" href="classStg_1_1Model.html#a4f7ffb2b1c10c1a3dac5a2b743c696dd">Root</a>() : this ); }
<a name="l02253"></a>02253   
<a name="l02254"></a>02254      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a5fee16036f69b6c144f43c66d468a7a1">IsAntecedent</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* testmod ) <span class="keyword">const</span>;
<a name="l02255"></a>02255     
<a name="l02257"></a>02257      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#acb1ff8f88a2a472e6e9e4fc7b58021df">IsDescendent</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* testmod ) <span class="keyword">const</span>;
<a name="l02258"></a>02258     
<a name="l02260"></a>02260      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a27589bf781c00f04a0397cbcc8d8939f">IsRelated</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* testmod ) <span class="keyword">const</span>;
<a name="l02261"></a>02261 
<a name="l02263"></a>02263      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model.html#af94f47e5655aed9b020b50fbc2d0e023">GetGlobalPose</a>() <span class="keyword">const</span>;
<a name="l02264"></a>02264     
<a name="l02266"></a>02266      <a class="code" href="classStg_1_1Velocity.html">Velocity</a> <a class="code" href="classStg_1_1Model.html#a96500516960cb0ca2f3ae660b997ebd8">GetGlobalVelocity</a>()  <span class="keyword">const</span>;
<a name="l02267"></a>02267     
<a name="l02268"></a>02268      <span class="comment">/* set the velocity of a model in the global coordinate system */</span>
<a name="l02269"></a>02269      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ae34ca89f118ebe6cd36257743784a235">SetGlobalVelocity</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Velocity.html">Velocity</a>&amp; gvel );
<a name="l02270"></a>02270     
<a name="l02272"></a>02272      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a75ebe2d1efb770a07dbd8c05745e0bf3">Subscribe</a>();
<a name="l02273"></a>02273     
<a name="l02275"></a>02275      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a5f45fa5b5d2076bd18d7edffafb97e88">Unsubscribe</a>();
<a name="l02276"></a>02276     
<a name="l02278"></a>02278      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ad6f9ffdb22e49e0b2139fe7031688ba4">SetGlobalPose</a>(  <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; gpose );
<a name="l02279"></a>02279     
<a name="l02281"></a>02281      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a9402cf59ab328693d62d9e14a234c883">SetVelocity</a>(  <span class="keyword">const</span> <a class="code" href="classStg_1_1Velocity.html">Velocity</a>&amp; vel );
<a name="l02282"></a>02282     
<a name="l02284"></a>02284         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a8110c3df863fbcdbed2dd5ad9c907b08">VelocityEnable</a>();
<a name="l02285"></a>02285 
<a name="l02287"></a>02287         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a49bce6c610ff2deb3daf337b68983a57">VelocityDisable</a>();
<a name="l02288"></a>02288 
<a name="l02290"></a>02290      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a78dcb99915a2f451cd2a79f4a1225ae7">SetPose</a>(  <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a> );
<a name="l02291"></a>02291     
<a name="l02293"></a>02293      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a6b2da61fa989f283d2e126ce17af9d6e">AddToPose</a>(  <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a> );
<a name="l02294"></a>02294     
<a name="l02296"></a>02296      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a6b2da61fa989f283d2e126ce17af9d6e">AddToPose</a>(  <span class="keywordtype">double</span> dx, <span class="keywordtype">double</span> dy, <span class="keywordtype">double</span> dz, <span class="keywordtype">double</span> da );
<a name="l02297"></a>02297     
<a name="l02299"></a>02299      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ab7e448a4d8558ba2d0ada2c1946720fc">SetGeom</a>(  <span class="keyword">const</span> <a class="code" href="classStg_1_1Geom.html">Geom</a>&amp; src );
<a name="l02300"></a>02300   
<a name="l02303"></a>02303      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a76db1c5d93a8753dee09a26113f57460">SetFiducialReturn</a>(  <span class="keywordtype">int</span> fid );
<a name="l02304"></a>02304   
<a name="l02306"></a><a class="code" href="classStg_1_1Model.html#ad79635901ddddca5d9de6a1f6f162fde">02306</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#ad79635901ddddca5d9de6a1f6f162fde">GetFiducialReturn</a>()<span class="keyword">  const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#a05c7a70c97efef902fc3d009e0c81cff">vis</a>.<a class="code" href="classStg_1_1Model_1_1Visibility.html#a9257fd6696c91051fb264cd2040bf602">fiducial_return</a>; }
<a name="l02307"></a>02307   
<a name="l02310"></a>02310      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ab7e852dab2fa456fbf887e00cb698809">SetFiducialKey</a>(  <span class="keywordtype">int</span> key );
<a name="l02311"></a>02311     
<a name="l02312"></a><a class="code" href="classStg_1_1Model.html#accd702a297cc31d5e5ba00e123e612bc">02312</a>      <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1Model.html#accd702a297cc31d5e5ba00e123e612bc">GetColor</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#a6cfb24f85e2dfb14369de4f5716840d3">color</a>; }
<a name="l02313"></a>02313      
<a name="l02315"></a><a class="code" href="classStg_1_1Model.html#aa0f1dfe79cae9575b17d30b3c13b49df">02315</a>      uint32_t <a class="code" href="classStg_1_1Model.html#aa0f1dfe79cae9575b17d30b3c13b49df">GetId</a>()<span class="keyword">  const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#af487168405a1d6a7cccd20024f8884d3">id</a>; }
<a name="l02316"></a>02316      
<a name="l02318"></a>02318      <a class="code" href="namespaceStg.html#ac61562289fd5fb2461740d9d4c89db6c">kg_t</a> <a class="code" href="classStg_1_1Model.html#afbae8d2751612715838c7277af5a2b30">GetTotalMass</a>() <span class="keyword">const</span>;
<a name="l02319"></a>02319      
<a name="l02321"></a>02321      <a class="code" href="namespaceStg.html#ac61562289fd5fb2461740d9d4c89db6c">kg_t</a> <a class="code" href="classStg_1_1Model.html#a39ed3342e15e91edb55d52faafe5fd78">GetMassOfChildren</a>() <span class="keyword">const</span>;
<a name="l02322"></a>02322 
<a name="l02324"></a>02324      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#ae48d9df96b3c1b20b7cc9d666d1150ee">SetParent</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* newparent);
<a name="l02325"></a>02325     
<a name="l02328"></a><a class="code" href="classStg_1_1Model.html#a7635997469a28bf87553e33e94684ac5">02328</a>      <a class="code" href="classStg_1_1Geom.html">Geom</a> <a class="code" href="classStg_1_1Model.html#a7635997469a28bf87553e33e94684ac5">GetGeom</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#a54c95289cfd9cb097fd3f6d6f9148803">geom</a>; }
<a name="l02329"></a>02329     
<a name="l02332"></a><a class="code" href="classStg_1_1Model.html#a989e4f00e89e2c80d6b78ca9008d70eb">02332</a>      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model.html#a989e4f00e89e2c80d6b78ca9008d70eb">GetPose</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a>; }
<a name="l02333"></a>02333     
<a name="l02336"></a><a class="code" href="classStg_1_1Model.html#af5b37f8e89b57318ea07186715cea245">02336</a>      <a class="code" href="classStg_1_1Velocity.html">Velocity</a> <a class="code" href="classStg_1_1Model.html#af5b37f8e89b57318ea07186715cea245">GetVelocity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#ae8f024f668151d186238bb1ce12fb53a">velocity</a>; }
<a name="l02337"></a>02337     
<a name="l02338"></a>02338      <span class="comment">// guess what these do?</span>
<a name="l02339"></a>02339      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a70de4da5f63e6c115662a9f1cb02d5ad">SetColor</a>( <a class="code" href="classStg_1_1Color.html">Color</a> col );
<a name="l02340"></a>02340      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ac9531d0700cf79e49efe3cc02ec26802">SetMass</a>( <a class="code" href="namespaceStg.html#ac61562289fd5fb2461740d9d4c89db6c">kg_t</a> <a class="code" href="classStg_1_1Model.html#af84e57fa4a2226d04c0ea4ae587010b2">mass</a> );
<a name="l02341"></a>02341      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a646cb81d312ac827bd67a5c3fae1d395">SetStall</a>( <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#aa2a445b86b77650be968de772469519f" title="Set to true iff the model collided with something else.">stall</a> );
<a name="l02342"></a>02342      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a377c268a8422effffbed52336990ffbd">SetGravityReturn</a>( <span class="keywordtype">bool</span> val );
<a name="l02343"></a>02343      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a77890abf021f60eb8936e917c5f3c6e8">SetGripperReturn</a>( <span class="keywordtype">bool</span> val );
<a name="l02344"></a>02344      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a1e06ef274b7c2539b46f7f63ccd11a25">SetStickyReturn</a>( <span class="keywordtype">bool</span> val );
<a name="l02345"></a>02345      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a5f7aa3c96028dd6992dc05ed4a676bec">SetRangerReturn</a>( <span class="keywordtype">float</span> val );
<a name="l02346"></a>02346      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aad98ec3ea3ac84df60dda2df60178fb3">SetObstacleReturn</a>( <span class="keywordtype">bool</span> val );
<a name="l02347"></a>02347      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a81bb7da65f773cadccb3efeb68ad3256">SetBlobReturn</a>( <span class="keywordtype">bool</span> val );
<a name="l02348"></a>02348      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a5f7aa3c96028dd6992dc05ed4a676bec">SetRangerReturn</a>( <span class="keywordtype">bool</span> val );
<a name="l02349"></a>02349      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ad63d9e3ee6d91645ae8b50a9934deb2f">SetBoundary</a>( <span class="keywordtype">bool</span> val );
<a name="l02350"></a>02350      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a61505926e9e6ea860952ef9d8cf81f94">SetGuiNose</a>( <span class="keywordtype">bool</span> val );
<a name="l02351"></a>02351      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ab6dc5d070d477cb46f4aa337b1e3d942">SetGuiMove</a>( <span class="keywordtype">bool</span> val );
<a name="l02352"></a>02352      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#af06c1a4c55e39c3bc8a5281c12e50d5c">SetGuiGrid</a>( <span class="keywordtype">bool</span> val );
<a name="l02353"></a>02353      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a33679087e41bd1d78d312b9d772790fd">SetGuiOutline</a>( <span class="keywordtype">bool</span> val );
<a name="l02354"></a>02354      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ad3573878cd9a4b6966a69415cbe49f5b">SetWatts</a>( <a class="code" href="namespaceStg.html#aaf07f5b0b05dd2d9892578ece58bd74d">watts_t</a> <a class="code" href="classStg_1_1Model.html#a7e1af1e82503b68834af2aee2d96321a" title="power consumed by this model">watts</a> );
<a name="l02355"></a>02355      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a0436b77f2817bdee877d1213f0f0bd7c">SetMapResolution</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> res );
<a name="l02356"></a>02356      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#ac8b1dfdeec470a62a2fd03b65cb44303">SetFriction</a>( <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Model.html#a6e4d6844ac6da95955f95ddcb048dc3d">friction</a> );
<a name="l02357"></a>02357     
<a name="l02358"></a><a class="code" href="classStg_1_1Model.html#afc0008eb507904229be169ff8b07a2a7">02358</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#afc0008eb507904229be169ff8b07a2a7">DataIsFresh</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classStg_1_1Model.html#a5dd89c9166ae08fb95485a50ee18b128">data_fresh</a>; }
<a name="l02359"></a>02359         
<a name="l02360"></a>02360         <span class="comment">/* attach callback functions to data members. The function gets</span>
<a name="l02361"></a>02361 <span class="comment">             called when the member is changed using SetX() accessor method */</span>
<a name="l02362"></a>02362         
<a name="l02369"></a>02369         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#aca3c0b6939e7a9f2b99548ff8658ff42">AddCallback</a>( <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4e">callback_type_t</a> <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a>, 
<a name="l02370"></a>02370                                             <a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">model_callback_t</a> cb, 
<a name="l02371"></a>02371                                             <span class="keywordtype">void</span>* user );
<a name="l02372"></a>02372         
<a name="l02373"></a>02373         <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#aebc0e827710d9f436f35fc7968236fa7">RemoveCallback</a>( <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4e">callback_type_t</a> <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a>,
<a name="l02374"></a>02374                                                 <a class="code" href="namespaceStg.html#a47b7552510c522c099e7efa770268b30">model_callback_t</a> callback );
<a name="l02375"></a>02375         
<a name="l02376"></a>02376         <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#abf814349ae3efaf83956a51c578a8309">CallCallbacks</a>(  <a class="code" href="classStg_1_1Model.html#a433dc919803d0c1b1c7f9ed94614cb4e">callback_type_t</a> <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02377"></a>02377         
<a name="l02378"></a>02378         
<a name="l02379"></a>02379      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#a5a3e60df40f63cffde99d80361a34986">Print</a>( <span class="keywordtype">char</span>* prefix ) <span class="keyword">const</span>;
<a name="l02380"></a>02380      <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classStg_1_1Model.html#a45a48862132784defef51946b28c1ecf">PrintWithPose</a>() <span class="keyword">const</span>;
<a name="l02381"></a>02381     
<a name="l02384"></a>02384      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model.html#a26ce2df6ce84c33954709e11f3465bc7">GlobalToLocal</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a> ) <span class="keyword">const</span>;
<a name="l02385"></a>02385      
<a name="l02388"></a><a class="code" href="classStg_1_1Model.html#af46acb21f3d2f256c9e598a070701925">02388</a>      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model.html#af46acb21f3d2f256c9e598a070701925">LocalToGlobal</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a> )<span class="keyword"> const</span>
<a name="l02389"></a>02389 <span class="keyword">     </span>{  
<a name="l02390"></a>02390         <span class="keywordflow">return</span>( ( <a class="code" href="classStg_1_1Model.html#af94f47e5655aed9b020b50fbc2d0e023">GetGlobalPose</a>() + <a class="code" href="classStg_1_1Model.html#a54c95289cfd9cb097fd3f6d6f9148803">geom</a>.<a class="code" href="classStg_1_1Geom.html#a351d6b2e653d61bb7bb0d11796cbb731" title="position">pose</a> ) + pose );
<a name="l02391"></a>02391      }
<a name="l02392"></a>02392         
<a name="l02394"></a>02394         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1Model.html#afa172cc3118eac950622717ecc15fcc8">LocalToPixels</a>( <span class="keyword">const</span> std::vector&lt;point_t&gt;&amp; local,
<a name="l02395"></a>02395                                                 std::vector&lt;point_int_t&gt;&amp; pixels) <span class="keyword">const</span>;
<a name="l02396"></a>02396         
<a name="l02399"></a>02399      <a class="code" href="classStg_1_1point__t.html">point_t</a> <a class="code" href="classStg_1_1Model.html#af46acb21f3d2f256c9e598a070701925">LocalToGlobal</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1point__t.html">point_t</a>&amp; pt) <span class="keyword">const</span>;       
<a name="l02400"></a>02400 
<a name="l02403"></a>02403      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a6ada58c1dd1a8acf81f15b5c6320de28">GetUnsubscribedModelOfType</a>( <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> ) <span class="keyword">const</span>;
<a name="l02404"></a>02404     
<a name="l02407"></a>02407      <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a82de53802e7dd200b4faff34d4c720f7">GetUnusedModelOfType</a>( <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02408"></a>02408   
<a name="l02411"></a><a class="code" href="classStg_1_1Model.html#a0c0893ea0925707410ac431725baba07">02411</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a0c0893ea0925707410ac431725baba07">Stalled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classStg_1_1Model.html#aa2a445b86b77650be968de772469519f" title="Set to true iff the model collided with something else.">stall</a>; }
<a name="l02412"></a>02412      
<a name="l02415"></a><a class="code" href="classStg_1_1Model.html#a5fd78568d99a7723d7f1bc91cbba753f">02415</a>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1Model.html#a5fd78568d99a7723d7f1bc91cbba753f">GetSubscriptionCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classStg_1_1Model.html#aad31c7b518b657d835cbe9e51b56a194" title="the number of subscriptions to this model">subs</a>; }
<a name="l02416"></a>02416 
<a name="l02418"></a><a class="code" href="classStg_1_1Model.html#a51758aa68a27e6ddfe7f05c1c7e646b8">02418</a>      <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1Model.html#a51758aa68a27e6ddfe7f05c1c7e646b8">HasSubscribers</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span>( <a class="code" href="classStg_1_1Model.html#aad31c7b518b657d835cbe9e51b56a194" title="the number of subscriptions to this model">subs</a> &gt; 0 ); }     
<a name="l02419"></a>02419 
<a name="l02420"></a><a class="code" href="classStg_1_1Model.html#ad4b6399e13420b2d5fb8209387005a49">02420</a>      <span class="keyword">static</span> std::map&lt; std::string, creator_t&gt; <a class="code" href="classStg_1_1Model.html#ad4b6399e13420b2d5fb8209387005a49">name_map</a>;  
<a name="l02421"></a>02421 
<a name="l02422"></a>02422 <span class="comment">//      class Neighbors</span>
<a name="l02423"></a>02423 <span class="comment">//      {</span>
<a name="l02424"></a>02424 <span class="comment">//          Model *left, *right, *up, *down;</span>
<a name="l02425"></a>02425 <span class="comment">//      public:</span>
<a name="l02426"></a>02426 <span class="comment">//          Neighbors() : left(NULL), right(NULL), up(NULL), down(NULL) {}</span>
<a name="l02427"></a>02427 <span class="comment">//      } nbors; // instance</span>
<a name="l02428"></a>02428 
<a name="l02429"></a>02429                             
<a name="l02430"></a>02430   };
<a name="l02431"></a>02431 
<a name="l02432"></a>02432 
<a name="l02433"></a>02433   <span class="comment">// BLOBFINDER MODEL --------------------------------------------------------</span>
<a name="l02434"></a>02434 
<a name="l02435"></a>02435 
<a name="l02437"></a><a class="code" href="classStg_1_1ModelBlobfinder.html">02437</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelBlobfinder.html" title="ModelBlobfinder class">ModelBlobfinder</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02438"></a>02438   {
<a name="l02439"></a>02439   <span class="keyword">public</span>:
<a name="l02441"></a><a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html">02441</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html">Blob</a>
<a name="l02442"></a>02442      {
<a name="l02443"></a>02443      <span class="keyword">public</span>:
<a name="l02444"></a><a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#a78741c809256e79ea16c28c823bf9ba5">02444</a>         <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#a78741c809256e79ea16c28c823bf9ba5">color</a>;
<a name="l02445"></a><a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#aa4f2fcd6ad5117d0b6d7fc9af479d611">02445</a>         uint32_t <a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#a0fc926db83238f804b8d056a7c6b3f51">left</a>, <a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#aa4f2fcd6ad5117d0b6d7fc9af479d611">top</a>, <a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#a483501955f27b3158a77bf19b5e59c8d">right</a>, <a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#a0a7a934ee3ffa43e9c4fe2ba8a71d6f2">bottom</a>;
<a name="l02446"></a><a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#ad43a42a6382209fef643453d28b10d99">02446</a>         <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html#ad43a42a6382209fef643453d28b10d99">range</a>;
<a name="l02447"></a>02447      };
<a name="l02448"></a>02448 
<a name="l02449"></a><a class="code" href="classStg_1_1ModelBlobfinder_1_1Vis.html">02449</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1ModelBlobfinder_1_1Vis.html">Vis</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a> 
<a name="l02450"></a>02450      {
<a name="l02451"></a>02451      <span class="keyword">private</span>:
<a name="l02452"></a>02452         <span class="comment">//static Option showArea;</span>
<a name="l02453"></a>02453      <span class="keyword">public</span>:
<a name="l02454"></a>02454         <a class="code" href="classStg_1_1ModelBlobfinder_1_1Vis.html#a3d33b5d25f298dbed4f07b4de9c0cfa1">Vis</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a> );
<a name="l02455"></a><a class="code" href="classStg_1_1ModelBlobfinder_1_1Vis.html#a90694b61db1512b20740e1f29730ca72">02455</a>         <span class="keyword">virtual</span> <a class="code" href="classStg_1_1ModelBlobfinder_1_1Vis.html#a90694b61db1512b20740e1f29730ca72">~Vis</a>( <span class="keywordtype">void</span> ){}
<a name="l02456"></a>02456         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder_1_1Vis.html#a2b5d6bd96e495d76ca646928dcbb0d3d">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02457"></a>02457      } <a class="code" href="classStg_1_1ModelBlobfinder.html#aa80a9ad4f4e81d26c3c238c1a67e69ee">vis</a>;
<a name="l02458"></a>02458 
<a name="l02459"></a>02459   <span class="keyword">private</span>:
<a name="l02460"></a>02460      std::vector&lt;Blob&gt; blobs;
<a name="l02461"></a>02461      std::vector&lt;Color&gt; colors;
<a name="l02462"></a>02462 
<a name="l02463"></a>02463      <span class="comment">// predicate for ray tracing</span>
<a name="l02464"></a>02464      <span class="keyword">static</span> <span class="keywordtype">bool</span> BlockMatcher( <a class="code" href="classStg_1_1Block.html">Block</a>* testblock, <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* finder );
<a name="l02465"></a>02465 
<a name="l02466"></a>02466   <span class="keyword">public</span>:
<a name="l02467"></a><a class="code" href="classStg_1_1ModelBlobfinder.html#a2425719f4b05a690fff3a45e43b938b7">02467</a>      <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1ModelBlobfinder.html#a2425719f4b05a690fff3a45e43b938b7">fov</a>;
<a name="l02468"></a><a class="code" href="classStg_1_1ModelBlobfinder.html#aac72320431e3faee347632bfa0123e34">02468</a>      <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1ModelBlobfinder.html#aac72320431e3faee347632bfa0123e34">pan</a>;
<a name="l02469"></a><a class="code" href="classStg_1_1ModelBlobfinder.html#a7b411c1a8cd70c2bfa28455b4e3840ac">02469</a>      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1ModelBlobfinder.html#a7b411c1a8cd70c2bfa28455b4e3840ac">range</a>;
<a name="l02470"></a><a class="code" href="classStg_1_1ModelBlobfinder.html#ae4f2b1f964d7a288d1c87203cf7fdf49">02470</a>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#ae4f2b1f964d7a288d1c87203cf7fdf49">scan_height</a>;
<a name="l02471"></a><a class="code" href="classStg_1_1ModelBlobfinder.html#a9cf1b9e1755ac7b6a810a17351b86982">02471</a>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#a9cf1b9e1755ac7b6a810a17351b86982">scan_width</a>;
<a name="l02472"></a>02472      
<a name="l02473"></a>02473      <span class="comment">// constructor</span>
<a name="l02474"></a>02474      <a class="code" href="classStg_1_1ModelBlobfinder.html#a0c70138080d8fbde5c1276276e55a595">ModelBlobfinder</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>,
<a name="l02475"></a>02475                             <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02476"></a>02476                             <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02477"></a>02477      <span class="comment">// destructor</span>
<a name="l02478"></a>02478      <a class="code" href="classStg_1_1ModelBlobfinder.html#aaa3287f4b435b21f4627a5f41b9ffa4e">~ModelBlobfinder</a>();
<a name="l02479"></a>02479     
<a name="l02480"></a>02480      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#af47c285de447c893d99049add1e58d4d">Startup</a>();
<a name="l02481"></a>02481      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#ad8aae6ce107bdebd46cd6b883500ee3e">Shutdown</a>();
<a name="l02482"></a>02482      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#a4fbc5cbabd7f28920916c6c73f60b5c3">Update</a>();
<a name="l02483"></a>02483      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#aa92d3b0cbe35edca2470b1a683139376">Load</a>();
<a name="l02484"></a>02484         
<a name="l02485"></a><a class="code" href="classStg_1_1ModelBlobfinder.html#a0dde9f83faa7a80f2542a614c209b1fc">02485</a>      <a class="code" href="classStg_1_1ModelBlobfinder_1_1Blob.html">Blob</a>* <a class="code" href="classStg_1_1ModelBlobfinder.html#ac0211c1ddba728114936332782a23bed">GetBlobs</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* count )
<a name="l02486"></a>02486      { 
<a name="l02487"></a>02487         <span class="keywordflow">if</span>( count ) *count = blobs.size();
<a name="l02488"></a>02488         <span class="keywordflow">return</span> &amp;blobs[0];
<a name="l02489"></a>02489      }
<a name="l02490"></a>02490 
<a name="l02491"></a><a class="code" href="classStg_1_1ModelBlobfinder.html#ac0211c1ddba728114936332782a23bed">02491</a>      std::vector&lt;Blob&gt; <a class="code" href="classStg_1_1ModelBlobfinder.html#ac0211c1ddba728114936332782a23bed">GetBlobs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> blobs; }
<a name="l02492"></a>02492 
<a name="l02494"></a>02494      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#a38a527709a897b5b9193a479df81c1da">AddColor</a>( <a class="code" href="classStg_1_1Color.html">Color</a> col );
<a name="l02495"></a>02495 
<a name="l02497"></a>02497      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#acca5b9056e1b3e224c59b03952513198">RemoveColor</a>( <a class="code" href="classStg_1_1Color.html">Color</a> col );
<a name="l02498"></a>02498 
<a name="l02501"></a>02501      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlobfinder.html#a5868eb8fca8b4b9d0a8d4377de09f7af">RemoveAllColors</a>();
<a name="l02502"></a>02502   };
<a name="l02503"></a>02503 
<a name="l02504"></a>02504 
<a name="l02505"></a>02505 
<a name="l02506"></a>02506   
<a name="l02507"></a>02507 
<a name="l02508"></a>02508   <span class="comment">// Light indicator model</span>
<a name="l02509"></a><a class="code" href="classStg_1_1ModelLightIndicator.html">02509</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelLightIndicator.html">ModelLightIndicator</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02510"></a>02510   {
<a name="l02511"></a>02511   <span class="keyword">public</span>:
<a name="l02512"></a>02512      <a class="code" href="classStg_1_1ModelLightIndicator.html#acff12b215f916655e22865b02c7e6d88">ModelLightIndicator</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>, 
<a name="l02513"></a>02513                                  <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02514"></a>02514                                  <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02515"></a>02515      <a class="code" href="classStg_1_1ModelLightIndicator.html#af13e9e35af0e9d9bf78a4feb24fdc51c">~ModelLightIndicator</a>();
<a name="l02516"></a>02516   
<a name="l02517"></a>02517      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelLightIndicator.html#a7e80b4c979df0fde5268573f6a3d1afc">SetState</a>(<span class="keywordtype">bool</span> isOn);
<a name="l02518"></a>02518 
<a name="l02519"></a>02519   <span class="keyword">protected</span>:
<a name="l02520"></a>02520      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelLightIndicator.html#ad7421d27126238db9676fa7de350bd85">DrawBlocks</a>();
<a name="l02521"></a>02521 
<a name="l02522"></a>02522   <span class="keyword">private</span>:
<a name="l02523"></a>02523      <span class="keywordtype">bool</span> m_IsOn;
<a name="l02524"></a>02524   };
<a name="l02525"></a>02525 
<a name="l02526"></a>02526   <span class="comment">// \todo  GRIPPER MODEL --------------------------------------------------------</span>
<a name="l02527"></a>02527 
<a name="l02528"></a>02528 
<a name="l02529"></a><a class="code" href="classStg_1_1ModelGripper.html">02529</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelGripper.html">ModelGripper</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02530"></a>02530   {
<a name="l02531"></a>02531   <span class="keyword">public</span>:
<a name="l02532"></a>02532 
<a name="l02533"></a><a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089">02533</a>      <span class="keyword">enum</span> <a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089">paddle_state_t</a> {
<a name="l02534"></a><a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089a85bddc81e82c9464f986b79c9836ff3e">02534</a>         <a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089a85bddc81e82c9464f986b79c9836ff3e">PADDLE_OPEN</a> = 0, <span class="comment">// default state</span>
<a name="l02535"></a><a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089ae8a463e54f2f350808fbbedf084cabbf">02535</a>         <a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089ae8a463e54f2f350808fbbedf084cabbf">PADDLE_CLOSED</a>, 
<a name="l02536"></a><a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089ab2d8dc33cdc0c3851836c1414d988a65">02536</a>         <a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089ab2d8dc33cdc0c3851836c1414d988a65">PADDLE_OPENING</a>,
<a name="l02537"></a><a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089a0a0d5d3f1af4f236ee4045e7ab9281dd">02537</a>         <a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089a0a0d5d3f1af4f236ee4045e7ab9281dd">PADDLE_CLOSING</a>,
<a name="l02538"></a>02538      };
<a name="l02539"></a>02539      
<a name="l02540"></a><a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806a">02540</a>      <span class="keyword">enum</span> <a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806a">lift_state_t</a> {
<a name="l02541"></a><a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aa49a6e60f40cafc574fc028ad0bdbfecc">02541</a>         <a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aa49a6e60f40cafc574fc028ad0bdbfecc">LIFT_DOWN</a> = 0, <span class="comment">// default state</span>
<a name="l02542"></a><a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aa57ac5fa96f02b86b12143ffbbf1a41d4">02542</a>         <a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aa57ac5fa96f02b86b12143ffbbf1a41d4">LIFT_UP</a>, 
<a name="l02543"></a><a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aa660188350d992275063cc9781ba11eff">02543</a>         <a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aa660188350d992275063cc9781ba11eff">LIFT_UPPING</a>, <span class="comment">// verbed these to match the paddle state</span>
<a name="l02544"></a><a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aad73e1cbb8cda89e410b77c409ff6bb50">02544</a>         <a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806aad73e1cbb8cda89e410b77c409ff6bb50">LIFT_DOWNING</a>, 
<a name="l02545"></a>02545      };
<a name="l02546"></a>02546      
<a name="l02547"></a><a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78">02547</a>      <span class="keyword">enum</span> <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78">cmd_t</a> {
<a name="l02548"></a><a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a68301cd39b65a66c6cfa0506e9b861d2">02548</a>         <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a68301cd39b65a66c6cfa0506e9b861d2">CMD_NOOP</a> = 0, <span class="comment">// default state</span>
<a name="l02549"></a><a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a95560ef9c4e76a6805261dbfd7916577">02549</a>         <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a95560ef9c4e76a6805261dbfd7916577">CMD_OPEN</a>, 
<a name="l02550"></a><a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78af8e2fb91f976d68b4c52bab6391a376e">02550</a>         <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78af8e2fb91f976d68b4c52bab6391a376e">CMD_CLOSE</a>,
<a name="l02551"></a><a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a6b5317ebfa69b8df80e50cb30d53dd9e">02551</a>         <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a6b5317ebfa69b8df80e50cb30d53dd9e">CMD_UP</a>, 
<a name="l02552"></a><a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a00a563fc2f922ab2765a5d28ccffaaa2">02552</a>         <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a00a563fc2f922ab2765a5d28ccffaaa2">CMD_DOWN</a>    
<a name="l02553"></a>02553      };
<a name="l02554"></a>02554      
<a name="l02555"></a>02555      
<a name="l02558"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html">02558</a>      <span class="keyword">struct </span><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html">config_t</a>
<a name="l02559"></a>02559      {
<a name="l02560"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a4daa1ab4fb90c7ee630c4b38a13f67c5">02560</a>         <a class="code" href="classStg_1_1Size.html">Size</a> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a4daa1ab4fb90c7ee630c4b38a13f67c5" title="paddle dimensions">paddle_size</a>; 
<a name="l02561"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a2fbfc4afc2516be65c9f78dd142d1ad9">02561</a>         <a class="code" href="classStg_1_1ModelGripper.html#ab29efe91e9af0f174ebc65857dfa5089">paddle_state_t</a> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a2fbfc4afc2516be65c9f78dd142d1ad9">paddles</a>;
<a name="l02562"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a086e27530bde366ee9de9cfff1a60c03">02562</a>         <a class="code" href="classStg_1_1ModelGripper.html#ae772ebbebc4744b513f2cb66080d806a">lift_state_t</a> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a086e27530bde366ee9de9cfff1a60c03">lift</a>;      
<a name="l02563"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a693745e651dd13609bd74b3d02c124c4">02563</a>         <span class="keywordtype">double</span> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a693745e651dd13609bd74b3d02c124c4" title="0.0 = full open, 1.0 full closed">paddle_position</a>; 
<a name="l02564"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#aa2b4ec1027db7586e6ffe166f98120ef">02564</a>         <span class="keywordtype">double</span> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#aa2b4ec1027db7586e6ffe166f98120ef" title="0.0 = full down, 1.0 full up">lift_position</a>; 
<a name="l02565"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a63640a260e8c96391850400dd4a601d5">02565</a>         <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a63640a260e8c96391850400dd4a601d5">gripped</a>;
<a name="l02566"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#aa2558983e327ba4fbccbf22462ed2ddd">02566</a>         <span class="keywordtype">bool</span> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#aa2558983e327ba4fbccbf22462ed2ddd">paddles_stalled</a>; <span class="comment">// true iff some solid object stopped the paddles closing or opening</span>
<a name="l02567"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a36a6c3b3067aba98b1f17fc126ac7cd7">02567</a>         <span class="keywordtype">double</span> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a36a6c3b3067aba98b1f17fc126ac7cd7" title="How far the gripper can close. If &amp;lt; 1.0, the gripper has its mouth full.">close_limit</a>; 
<a name="l02568"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#ae96a749c3924ea9c50bfc516be0fa606">02568</a>         <span class="keywordtype">bool</span> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#ae96a749c3924ea9c50bfc516be0fa606" title="if true, cycle the gripper through open-close-up-down automatically">autosnatch</a>; 
<a name="l02569"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#aa52977591557a6eaa6fad79de9da7aa9">02569</a>         <span class="keywordtype">double</span> <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#aa52977591557a6eaa6fad79de9da7aa9" title="distance from the end of the paddle">break_beam_inset</a>[2]; 
<a name="l02570"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a26c0dd2a7773e5358b145163c865602c">02570</a>       <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a26c0dd2a7773e5358b145163c865602c" title="points to a model detected by the beams">beam</a>[2]; 
<a name="l02571"></a><a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a4eebb8abfa0fbdca64285c5eb9749679">02571</a>       <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html#a4eebb8abfa0fbdca64285c5eb9749679" title="pointers to a model detected by the contacts">contact</a>[2]; 
<a name="l02572"></a>02572      };
<a name="l02573"></a>02573      
<a name="l02574"></a>02574   <span class="keyword">private</span>:
<a name="l02575"></a>02575      <span class="keyword">virtual</span> <span class="keywordtype">void</span> Update();
<a name="l02576"></a>02576      <span class="keyword">virtual</span> <span class="keywordtype">void</span> DataVisualize( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02577"></a>02577      
<a name="l02578"></a>02578      <span class="keywordtype">void</span> FixBlocks();
<a name="l02579"></a>02579      <span class="keywordtype">void</span> PositionPaddles();
<a name="l02580"></a>02580      <span class="keywordtype">void</span> UpdateBreakBeams();
<a name="l02581"></a>02581      <span class="keywordtype">void</span> UpdateContacts();
<a name="l02582"></a>02582 
<a name="l02583"></a>02583      <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html">config_t</a> cfg;
<a name="l02584"></a>02584      <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78">cmd_t</a> cmd;
<a name="l02585"></a>02585      
<a name="l02586"></a>02586      <a class="code" href="classStg_1_1Block.html">Block</a>* paddle_left;
<a name="l02587"></a>02587      <a class="code" href="classStg_1_1Block.html">Block</a>* paddle_right;
<a name="l02588"></a>02588 
<a name="l02589"></a>02589      <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> showData;
<a name="l02590"></a>02590 
<a name="l02591"></a>02591   <span class="keyword">public</span>:    
<a name="l02592"></a><a class="code" href="classStg_1_1ModelGripper.html#a2af9bfd6e9f17c0b37def855c8f15852">02592</a>      <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classStg_1_1Size.html">Size</a> <a class="code" href="classStg_1_1ModelGripper.html#a2af9bfd6e9f17c0b37def855c8f15852">size</a>;
<a name="l02593"></a>02593 
<a name="l02594"></a>02594      <span class="comment">// constructor</span>
<a name="l02595"></a>02595      <a class="code" href="classStg_1_1ModelGripper.html#a7e0788c84267e34a3a46380884c6f3a8">ModelGripper</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>,
<a name="l02596"></a>02596                         <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02597"></a>02597                         <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02598"></a>02598      <span class="comment">// destructor</span>
<a name="l02599"></a>02599      <span class="keyword">virtual</span> <a class="code" href="classStg_1_1ModelGripper.html#aec6ef7d5ddf13a6eb2ab362159fd27a9">~ModelGripper</a>();
<a name="l02600"></a>02600   
<a name="l02601"></a>02601      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#a7ff46599d9d78754d5cd68925c6fc967">Load</a>();
<a name="l02602"></a>02602      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#a2d5d480dedd4d3a7f46ec4afecb4d339">Save</a>();
<a name="l02603"></a>02603 
<a name="l02605"></a><a class="code" href="classStg_1_1ModelGripper.html#afb976f09c37b4af4b0874482c4e036e5">02605</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#afb976f09c37b4af4b0874482c4e036e5">SetConfig</a>( <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html">config_t</a> &amp; newcfg ){ this-&gt;cfg = newcfg; FixBlocks(); }
<a name="l02606"></a>02606      
<a name="l02608"></a><a class="code" href="classStg_1_1ModelGripper.html#a81261df29a0d274398df0bacac8eddbd">02608</a>      <a class="code" href="structStg_1_1ModelGripper_1_1config__t.html">config_t</a> <a class="code" href="classStg_1_1ModelGripper.html#a81261df29a0d274398df0bacac8eddbd">GetConfig</a>(){ <span class="keywordflow">return</span> cfg; };
<a name="l02609"></a>02609      
<a name="l02611"></a><a class="code" href="classStg_1_1ModelGripper.html#abbb3afd484bf38df14abda974c243005">02611</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#abbb3afd484bf38df14abda974c243005">SetCommand</a>( <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78">cmd_t</a> cmd ) { this-&gt;cmd = cmd; }
<a name="l02613"></a><a class="code" href="classStg_1_1ModelGripper.html#a0af9633b7d4611aaf9a1358eced130b0">02613</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#a0af9633b7d4611aaf9a1358eced130b0">CommandClose</a>() { <a class="code" href="classStg_1_1ModelGripper.html#abbb3afd484bf38df14abda974c243005">SetCommand</a>( <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78af8e2fb91f976d68b4c52bab6391a376e">CMD_CLOSE</a> ); }
<a name="l02615"></a><a class="code" href="classStg_1_1ModelGripper.html#ac247c259d2a4db6a3381ad3e51d689e9">02615</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#ac247c259d2a4db6a3381ad3e51d689e9">CommandOpen</a>() { <a class="code" href="classStg_1_1ModelGripper.html#abbb3afd484bf38df14abda974c243005">SetCommand</a>( <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a95560ef9c4e76a6805261dbfd7916577">CMD_OPEN</a> ); }
<a name="l02617"></a><a class="code" href="classStg_1_1ModelGripper.html#af88c60f739a9e35d3190c8dc0808857b">02617</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#af88c60f739a9e35d3190c8dc0808857b">CommandUp</a>() { <a class="code" href="classStg_1_1ModelGripper.html#abbb3afd484bf38df14abda974c243005">SetCommand</a>( <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a6b5317ebfa69b8df80e50cb30d53dd9e">CMD_UP</a> ); }
<a name="l02619"></a><a class="code" href="classStg_1_1ModelGripper.html#a6f75e8f15529a4fd991ffcaf05314ffa">02619</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelGripper.html#a6f75e8f15529a4fd991ffcaf05314ffa">CommandDown</a>() { <a class="code" href="classStg_1_1ModelGripper.html#abbb3afd484bf38df14abda974c243005">SetCommand</a>( <a class="code" href="classStg_1_1ModelGripper.html#afa9503663aff67ba8c2df1162e235d78a00a563fc2f922ab2765a5d28ccffaaa2">CMD_DOWN</a> ); }
<a name="l02620"></a>02620   };
<a name="l02621"></a>02621 
<a name="l02622"></a>02622 
<a name="l02623"></a>02623   <span class="comment">// \todo BUMPER MODEL --------------------------------------------------------</span>
<a name="l02624"></a>02624 
<a name="l02625"></a>02625   <span class="comment">//   typedef struct</span>
<a name="l02626"></a>02626   <span class="comment">//   {</span>
<a name="l02627"></a>02627   <span class="comment">//     Pose pose;</span>
<a name="l02628"></a>02628   <span class="comment">//     meters_t length;</span>
<a name="l02629"></a>02629   <span class="comment">//   } bumper_config_t;</span>
<a name="l02630"></a>02630 
<a name="l02631"></a>02631   <span class="comment">//   typedef struct</span>
<a name="l02632"></a>02632   <span class="comment">//   {</span>
<a name="l02633"></a>02633   <span class="comment">//     Model* hit;</span>
<a name="l02634"></a>02634   <span class="comment">//     point_t hit_point;</span>
<a name="l02635"></a>02635   <span class="comment">//   } bumper_sample_t;</span>
<a name="l02636"></a>02636 
<a name="l02637"></a>02637 
<a name="l02638"></a>02638   <span class="comment">// FIDUCIAL MODEL --------------------------------------------------------</span>
<a name="l02639"></a>02639 
<a name="l02641"></a><a class="code" href="classStg_1_1ModelFiducial.html">02641</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelFiducial.html" title="ModelFiducial class">ModelFiducial</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02642"></a>02642   {
<a name="l02643"></a>02643   <span class="keyword">public</span>:  
<a name="l02645"></a><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html">02645</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html">Fiducial</a>
<a name="l02646"></a>02646      {
<a name="l02647"></a>02647      <span class="keyword">public</span>:
<a name="l02648"></a><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#af371eb1df7fe9f47648af203e6f89100">02648</a>         <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#af371eb1df7fe9f47648af203e6f89100" title="range to the target">range</a>; 
<a name="l02649"></a><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a9c9878bc679229ba29918ddc04c30e54">02649</a>         <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a9c9878bc679229ba29918ddc04c30e54" title="bearing to the target">bearing</a>; 
<a name="l02650"></a><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#ac3c37f86cce79e02ada478755561bdd5">02650</a>         <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#ac3c37f86cce79e02ada478755561bdd5" title="size and relative angle of the target">geom</a>; 
<a name="l02651"></a>02651          <span class="comment">//Pose pose_rel; /// relative pose of the target in local coordinates       </span>
<a name="l02652"></a><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a0747635d057c5e53155f5702022e72d3">02652</a>         <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a0747635d057c5e53155f5702022e72d3" title="Absolute accurate position of the target in world coordinates (it&amp;#39;s cheating to use this in robot...">pose</a>; 
<a name="l02653"></a><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a035ee8d81187932c47b9f98de169de20">02653</a>         <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a035ee8d81187932c47b9f98de169de20" title="Pointer to the model (real fiducial detectors can&amp;#39;t do this!)">mod</a>; 
<a name="l02654"></a><a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a67e7c12ef10b16299c5bd3b00af9cb8b">02654</a>         <span class="keywordtype">int</span> <a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html#a67e7c12ef10b16299c5bd3b00af9cb8b" title="the fiducial identifier of the target (i.e. its fiducial_return value), or -1 if none can be detected...">id</a>; 
<a name="l02655"></a>02655      };
<a name="l02656"></a>02656 
<a name="l02657"></a>02657   <span class="keyword">private</span>:
<a name="l02658"></a>02658      <span class="comment">// if neighbor is visible, add him to the fiducial scan</span>
<a name="l02659"></a>02659      <span class="keywordtype">void</span> AddModelIfVisible( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* him );
<a name="l02660"></a>02660 
<a name="l02661"></a>02661      <span class="keyword">virtual</span> <span class="keywordtype">void</span> Update();
<a name="l02662"></a>02662      <span class="keyword">virtual</span> <span class="keywordtype">void</span> DataVisualize( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02663"></a>02663 
<a name="l02664"></a>02664      <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> showData;
<a name="l02665"></a>02665      <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> showFov;
<a name="l02666"></a>02666      
<a name="l02667"></a>02667      std::vector&lt;Fiducial&gt; fiducials;
<a name="l02668"></a>02668         
<a name="l02669"></a>02669   <span class="keyword">public</span>:       
<a name="l02670"></a>02670      <a class="code" href="classStg_1_1ModelFiducial.html#a955c32499f8c645446cbe0b28a305a9b">ModelFiducial</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>, 
<a name="l02671"></a>02671                          <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02672"></a>02672                          <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02673"></a>02673      <span class="keyword">virtual</span> <a class="code" href="classStg_1_1ModelFiducial.html#ae68cdade18039a413c1dd3ae87f2eaaf">~ModelFiducial</a>();
<a name="l02674"></a>02674     
<a name="l02675"></a>02675      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelFiducial.html#a1a58e57849ad849e254bfa3e92c2af89">Load</a>();
<a name="l02676"></a>02676      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelFiducial.html#af9f979a144f65f3288d210647c4a7a1f">Shutdown</a>( <span class="keywordtype">void</span> );
<a name="l02677"></a>02677 
<a name="l02678"></a><a class="code" href="classStg_1_1ModelFiducial.html#ac2f2c97be2c940878f05e6e4e8348c99">02678</a>      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1ModelFiducial.html#ac2f2c97be2c940878f05e6e4e8348c99" title="maximum detection range">max_range_anon</a>;
<a name="l02679"></a><a class="code" href="classStg_1_1ModelFiducial.html#af1a44eb32c32f5def91c308c6f4febd5">02679</a>      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1ModelFiducial.html#af1a44eb32c32f5def91c308c6f4febd5" title="maximum range at which the ID can be read">max_range_id</a>; 
<a name="l02680"></a><a class="code" href="classStg_1_1ModelFiducial.html#af4449e532b536c24714d75d778a8a595">02680</a>      <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> <a class="code" href="classStg_1_1ModelFiducial.html#af4449e532b536c24714d75d778a8a595" title="minimum detection range">min_range</a>; 
<a name="l02681"></a><a class="code" href="classStg_1_1ModelFiducial.html#a3861895b453c9af124c5b15dbe1c1526">02681</a>      <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1ModelFiducial.html#a3861895b453c9af124c5b15dbe1c1526" title="field of view">fov</a>; 
<a name="l02682"></a><a class="code" href="classStg_1_1ModelFiducial.html#ad5acb62f4aec2354c45dd6e384a05997">02682</a>      <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1ModelFiducial.html#ad5acb62f4aec2354c45dd6e384a05997" title="center of field of view">heading</a>; 
<a name="l02683"></a><a class="code" href="classStg_1_1ModelFiducial.html#a9286e788c18641a4851ba1e21757ce6b">02683</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1ModelFiducial.html#a9286e788c18641a4851ba1e21757ce6b" title="/// only detect fiducials with a key that matches this one (defaults 0)">key</a>; 
<a name="l02684"></a><a class="code" href="classStg_1_1ModelFiducial.html#a501487aaf8f4ca94878ca9945d969893">02684</a>     <span class="keywordtype">bool</span> <a class="code" href="classStg_1_1ModelFiducial.html#a501487aaf8f4ca94878ca9945d969893" title="Are we ignoring the Z-loc of the fiducials we detect compared to the fiducial detector?">ignore_zloc</a>;  
<a name="l02685"></a>02685         
<a name="l02687"></a><a class="code" href="classStg_1_1ModelFiducial.html#a1ae000bafc727368dc340c6fac312aa0">02687</a>      std::vector&lt;Fiducial&gt;&amp; <a class="code" href="classStg_1_1ModelFiducial.html#a1ae000bafc727368dc340c6fac312aa0">GetFiducials</a>() { <span class="keywordflow">return</span> fiducials; }
<a name="l02688"></a>02688         
<a name="l02690"></a><a class="code" href="classStg_1_1ModelFiducial.html#a1a06bcd75032cba1859632dbae19ad93">02690</a>      <a class="code" href="classStg_1_1ModelFiducial_1_1Fiducial.html">Fiducial</a>* <a class="code" href="classStg_1_1ModelFiducial.html#a1ae000bafc727368dc340c6fac312aa0">GetFiducials</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* count )
<a name="l02691"></a>02691      {
<a name="l02692"></a>02692         <span class="keywordflow">if</span>( count ) *count = fiducials.size();
<a name="l02693"></a>02693         <span class="keywordflow">return</span> &amp;fiducials[0];
<a name="l02694"></a>02694      }
<a name="l02695"></a>02695   };
<a name="l02696"></a>02696     
<a name="l02697"></a>02697     
<a name="l02698"></a>02698   <span class="comment">// RANGER MODEL --------------------------------------------------------</span>
<a name="l02699"></a>02699     
<a name="l02701"></a><a class="code" href="classStg_1_1ModelRanger.html">02701</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelRanger.html" title="ModelRanger class">ModelRanger</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02702"></a>02702   {
<a name="l02703"></a>02703   <span class="keyword">public</span>:
<a name="l02704"></a>02704   <span class="keyword">public</span>:
<a name="l02705"></a>02705         <a class="code" href="classStg_1_1ModelRanger.html#a2d5911d8da99e3806db92ab410f97891">ModelRanger</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>, <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02706"></a>02706                                  <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02707"></a>02707         <span class="keyword">virtual</span> <a class="code" href="classStg_1_1ModelRanger.html#abd037ed8371d56f843e1fa86b0df32ab">~ModelRanger</a>();
<a name="l02708"></a>02708         
<a name="l02709"></a>02709         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger.html#a4eb90e0411aad3a7262a5526e1f0b5dd">Load</a>();
<a name="l02710"></a>02710         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger.html#a1651d185bac1379a5b675ca65829833f">Print</a>( <span class="keywordtype">char</span>* prefix ) <span class="keyword">const</span>;
<a name="l02711"></a>02711         
<a name="l02712"></a><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html">02712</a>         <span class="keyword">class </span><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html">Vis</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a> 
<a name="l02713"></a>02713         {
<a name="l02714"></a>02714         <span class="keyword">public</span>:
<a name="l02715"></a><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#aa5c126e7fdfee199621705535f3d321e">02715</a>             <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#aa5c126e7fdfee199621705535f3d321e">showArea</a>;
<a name="l02716"></a><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#a062bda288d746484be145f4ea3a45209">02716</a>             <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#a062bda288d746484be145f4ea3a45209">showStrikes</a>;
<a name="l02717"></a><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#a18e3b6317e418dbf24910152f5842ebc">02717</a>             <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#a18e3b6317e418dbf24910152f5842ebc">showFov</a>;
<a name="l02718"></a><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#ab06c5b6a5df71c4d429bb4dde4f226c4">02718</a>             <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#ab06c5b6a5df71c4d429bb4dde4f226c4">showBeams</a>;
<a name="l02719"></a><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#ac1d7a2692b9ed395c65d348dd17a106d">02719</a>             <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#ac1d7a2692b9ed395c65d348dd17a106d">showTransducers</a>;      
<a name="l02720"></a>02720             
<a name="l02721"></a>02721             <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#a8d8ead83b4b26213dfb186480b384548">Vis</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* world );        
<a name="l02722"></a><a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#af0ae3e1e039a861672b72686e67490e6">02722</a>           <span class="keyword">virtual</span> <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#af0ae3e1e039a861672b72686e67490e6">~Vis</a>( <span class="keywordtype">void</span> ){} 
<a name="l02723"></a>02723             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html#abbeff4ba601ee6df23f71470bd980859">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02724"></a>02724         } <a class="code" href="classStg_1_1ModelRanger.html#aa760a0006093730c9a1e8f33afcf3de7">vis</a>;
<a name="l02725"></a>02725         
<a name="l02726"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html">02726</a>         <span class="keyword">class </span><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html">Sensor</a>
<a name="l02727"></a>02727         {       
<a name="l02728"></a>02728         <span class="keyword">public</span>:
<a name="l02729"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#ae6a67e21690e1bff3f92bb29cf752239">02729</a>             <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#ae6a67e21690e1bff3f92bb29cf752239">pose</a>; 
<a name="l02730"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#ad8e25116840c49ad47ce03ee13140a86">02730</a>             <a class="code" href="classStg_1_1Size.html">Size</a> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#ad8e25116840c49ad47ce03ee13140a86">size</a>;
<a name="l02731"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#abc27e41f2cbb8cb87a4279ba881b34a1">02731</a>             <a class="code" href="classStg_1_1Bounds.html">Bounds</a> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#abc27e41f2cbb8cb87a4279ba881b34a1">range</a>;
<a name="l02732"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a6726aa8b600c5820bc47fabb10998c1b">02732</a>             <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a6726aa8b600c5820bc47fabb10998c1b">fov</a>;
<a name="l02733"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#aa6e28c221ef1d5082a2e133ef8970e51">02733</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#aa6e28c221ef1d5082a2e133ef8970e51">sample_count</a>;
<a name="l02734"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#aa20686c3af9640c8c85e9779c8216d12">02734</a>             <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#aa20686c3af9640c8c85e9779c8216d12">col</a>;
<a name="l02735"></a>02735             
<a name="l02736"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#add01a684348cdcd35017a9e912f49f57">02736</a>             std::vector&lt;meters_t&gt; <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#add01a684348cdcd35017a9e912f49f57">ranges</a>;
<a name="l02737"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a7015c30644095ca3128c6d272634452f">02737</a>             std::vector&lt;double&gt; <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a7015c30644095ca3128c6d272634452f">intensities</a>;
<a name="l02738"></a>02738             
<a name="l02739"></a><a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a937dbb227213f87269aa787eeb68ae4c">02739</a>             <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a937dbb227213f87269aa787eeb68ae4c">Sensor</a>() : <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#ae6a67e21690e1bff3f92bb29cf752239">pose</a>( 0,0,0,0 ), 
<a name="l02740"></a>02740                                  <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#ad8e25116840c49ad47ce03ee13140a86">size</a>( 0.02, 0.02, 0.02 ), <span class="comment">// teeny transducer</span>
<a name="l02741"></a>02741                                  <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#abc27e41f2cbb8cb87a4279ba881b34a1">range</a>( 0.0, 5.0 ),
<a name="l02742"></a>02742                                  <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a6726aa8b600c5820bc47fabb10998c1b">fov</a>( 0.1 ), 
<a name="l02743"></a>02743                                  <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#aa6e28c221ef1d5082a2e133ef8970e51">sample_count</a>(1),
<a name="l02744"></a>02744                                  <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#aa20686c3af9640c8c85e9779c8216d12">col</a>( 0,1,0,0.3 ),
<a name="l02745"></a>02745                                  <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#add01a684348cdcd35017a9e912f49f57">ranges</a>(),
<a name="l02746"></a>02746                                  <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a7015c30644095ca3128c6d272634452f">intensities</a>()
<a name="l02747"></a>02747             {}
<a name="l02748"></a>02748             
<a name="l02749"></a>02749             <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a1f3564832ec11eba762d29063c8e509f">Update</a>( <a class="code" href="classStg_1_1ModelRanger.html" title="ModelRanger class">ModelRanger</a>* rgr );            
<a name="l02750"></a>02750             <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a06675051389a972c975e99832eab5914">Visualize</a>( <a class="code" href="classStg_1_1ModelRanger_1_1Vis.html">Vis</a>* <a class="code" href="classStg_1_1ModelRanger.html#aa760a0006093730c9a1e8f33afcf3de7">vis</a>, <a class="code" href="classStg_1_1ModelRanger.html" title="ModelRanger class">ModelRanger</a>* rgr ) <span class="keyword">const</span>;
<a name="l02751"></a>02751             std::string <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a733483ae9021541379a9f3c0f7f859e5">String</a>() <span class="keyword">const</span>;         
<a name="l02752"></a>02752             <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger_1_1Sensor.html#a75a4a62f665a4fab169c7b0a2ac1a602">Load</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l02753"></a>02753         };
<a name="l02754"></a>02754 
<a name="l02756"></a><a class="code" href="classStg_1_1ModelRanger.html#ae2bd13416fd700b944f740ff70ff56ba">02756</a>      <span class="keyword">const</span> std::vector&lt;Sensor&gt;&amp; <a class="code" href="classStg_1_1ModelRanger.html#ae2bd13416fd700b944f740ff70ff56ba">GetSensors</a>()<span class="keyword"> const</span>
<a name="l02757"></a>02757 <span class="keyword">     </span>{ <span class="keywordflow">return</span> sensors; }
<a name="l02758"></a>02758      
<a name="l02761"></a><a class="code" href="classStg_1_1ModelRanger.html#a8cfb49bb09824f77d6c80811930b2f73">02761</a>      <span class="keyword">const</span> std::vector&lt;meters_t&gt;&amp; <a class="code" href="classStg_1_1ModelRanger.html#a8cfb49bb09824f77d6c80811930b2f73">GetRanges</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sensor=0)<span class="keyword"> const </span>
<a name="l02762"></a>02762 <span class="keyword">     </span>{ 
<a name="l02763"></a>02763         <span class="keywordflow">if</span>( sensor &lt; sensors.size() )
<a name="l02764"></a>02764           <span class="keywordflow">return</span> sensors[sensor].ranges;
<a name="l02765"></a>02765         
<a name="l02766"></a>02766         <a class="code" href="stage_8hh.html#a3243f8f5c849349878779fcca01dd963">PRINT_ERR1</a>( <span class="stringliteral">&quot;invalid sensor index specified (%d)&quot;</span>, sensor );
<a name="l02767"></a>02767         exit(-1);
<a name="l02768"></a>02768      }
<a name="l02769"></a>02769 
<a name="l02772"></a><a class="code" href="classStg_1_1ModelRanger.html#a4056a6a0f8cc0b8b7449bb99a7e837c8">02772</a>      std::vector&lt;meters_t&gt;&amp; <a class="code" href="classStg_1_1ModelRanger.html#a4056a6a0f8cc0b8b7449bb99a7e837c8">GetRangesMutable</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sensor=0) 
<a name="l02773"></a>02773      { 
<a name="l02774"></a>02774         <span class="keywordflow">if</span>( sensor &lt; sensors.size() )
<a name="l02775"></a>02775           <span class="keywordflow">return</span> sensors[sensor].ranges;
<a name="l02776"></a>02776         
<a name="l02777"></a>02777         <a class="code" href="stage_8hh.html#a3243f8f5c849349878779fcca01dd963">PRINT_ERR1</a>( <span class="stringliteral">&quot;invalid sensor index specified (%d)&quot;</span>, sensor );
<a name="l02778"></a>02778         exit(-1);
<a name="l02779"></a>02779      }
<a name="l02780"></a>02780         
<a name="l02783"></a><a class="code" href="classStg_1_1ModelRanger.html#ad6ef5ecb7640e4a3973af9b6639cc3c1">02783</a>         <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a>* <a class="code" href="classStg_1_1ModelRanger.html#ad6ef5ecb7640e4a3973af9b6639cc3c1">GetRangesArr</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sensor, uint32_t* count )
<a name="l02784"></a>02784         {
<a name="l02785"></a>02785             assert(count);
<a name="l02786"></a>02786             *count = sensors[sensor].ranges.size();
<a name="l02787"></a>02787             <span class="keywordflow">return</span> &amp;sensors[sensor].ranges[0];
<a name="l02788"></a>02788         }
<a name="l02789"></a>02789 
<a name="l02792"></a><a class="code" href="classStg_1_1ModelRanger.html#a88398c9add93585f090f35fd48d21b8a">02792</a>         <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a>* <a class="code" href="classStg_1_1ModelRanger.html#a88398c9add93585f090f35fd48d21b8a">GetIntensitiesArr</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sensor, uint32_t* count )
<a name="l02793"></a>02793         {
<a name="l02794"></a>02794             assert(count);
<a name="l02795"></a>02795             *count = sensors[sensor].intensities.size();
<a name="l02796"></a>02796             <span class="keywordflow">return</span> &amp;sensors[sensor].intensities[0];
<a name="l02797"></a>02797         }
<a name="l02798"></a>02798         
<a name="l02801"></a><a class="code" href="classStg_1_1ModelRanger.html#a4e4d6e1450d559cab7312032f55b0fdb">02801</a>      <span class="keyword">const</span> std::vector&lt;double&gt;&amp; <a class="code" href="classStg_1_1ModelRanger.html#a4e4d6e1450d559cab7312032f55b0fdb">GetIntensities</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sensor=0)<span class="keyword"> const </span>
<a name="l02802"></a>02802 <span class="keyword">     </span>{ 
<a name="l02803"></a>02803         <span class="keywordflow">if</span>( sensor &lt; sensors.size() )
<a name="l02804"></a>02804           <span class="keywordflow">return</span> sensors[sensor].intensities;
<a name="l02805"></a>02805         
<a name="l02806"></a>02806         <a class="code" href="stage_8hh.html#a3243f8f5c849349878779fcca01dd963">PRINT_ERR1</a>( <span class="stringliteral">&quot;invalid sensor index specified (%d)&quot;</span>, sensor );
<a name="l02807"></a>02807         exit(-1);
<a name="l02808"></a>02808      }
<a name="l02809"></a>02809      
<a name="l02810"></a>02810         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger.html#aebb63dc1ac60b5d6873e533eab7d1d34">LoadSensor</a>( <a class="code" href="classStg_1_1Worldfile.html">Worldfile</a>* <a class="code" href="classStg_1_1Model.html#ac56d7e24e5947a7561c18a008467efee">wf</a>, <span class="keywordtype">int</span> entity );
<a name="l02811"></a>02811         
<a name="l02812"></a>02812   <span class="keyword">private</span>:
<a name="l02813"></a>02813         std::vector&lt;Sensor&gt; sensors;        
<a name="l02814"></a>02814         
<a name="l02815"></a>02815   <span class="keyword">protected</span>:
<a name="l02816"></a>02816         
<a name="l02817"></a>02817         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger.html#abbb44753624c9cb079932f340cd774d8">Startup</a>();
<a name="l02818"></a>02818         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger.html#a65f6e53fb23567c01a0225d2116122d2">Shutdown</a>();
<a name="l02819"></a>02819         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelRanger.html#a31236d2cda1c059f642c32fb3d75151a">Update</a>();      
<a name="l02820"></a>02820   };
<a name="l02821"></a>02821     
<a name="l02822"></a>02822   <span class="comment">// BLINKENLIGHT MODEL ----------------------------------------------------</span>
<a name="l02823"></a><a class="code" href="classStg_1_1ModelBlinkenlight.html">02823</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelBlinkenlight.html">ModelBlinkenlight</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02824"></a>02824   {
<a name="l02825"></a>02825   <span class="keyword">private</span>:
<a name="l02826"></a>02826      <span class="keywordtype">double</span> dutycycle;
<a name="l02827"></a>02827      <span class="keywordtype">bool</span> enabled;
<a name="l02828"></a>02828      <a class="code" href="namespaceStg.html#a3dbd06bfdb604e38e02d1a87c4cddb00">msec_t</a> period;
<a name="l02829"></a>02829      <span class="keywordtype">bool</span> on;
<a name="l02830"></a>02830 
<a name="l02831"></a>02831      <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> showBlinkenData;
<a name="l02832"></a>02832   <span class="keyword">public</span>:
<a name="l02833"></a>02833      <a class="code" href="classStg_1_1ModelBlinkenlight.html#a3ba4afe72b913a68aa302bdab64fa223">ModelBlinkenlight</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>,
<a name="l02834"></a>02834                               <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02835"></a>02835                               <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02836"></a>02836 
<a name="l02837"></a>02837      <a class="code" href="classStg_1_1ModelBlinkenlight.html#a7b9619fa09fbbe9e15e5fb4423e1cb26">~ModelBlinkenlight</a>();
<a name="l02838"></a>02838     
<a name="l02839"></a>02839      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlinkenlight.html#a730b006e559d66a3df55c3070bf4f613">Load</a>();
<a name="l02840"></a>02840      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlinkenlight.html#a2e295df991035e809c850e6b0d817f5c">Update</a>();
<a name="l02841"></a>02841      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelBlinkenlight.html#a46bf9d8625e7add0b73037fe625842f0">DataVisualize</a>( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02842"></a>02842   };
<a name="l02843"></a>02843 
<a name="l02844"></a>02844     
<a name="l02845"></a>02845   <span class="comment">// CAMERA MODEL ----------------------------------------------------</span>
<a name="l02846"></a>02846 
<a name="l02848"></a><a class="code" href="classStg_1_1ModelCamera.html">02848</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelCamera.html" title="ModelCamera class">ModelCamera</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02849"></a>02849   {
<a name="l02850"></a>02850   <span class="keyword">public</span>:
<a name="l02851"></a><a class="code" href="structStg_1_1ModelCamera_1_1ColoredVertex.html">02851</a>      <span class="keyword">typedef</span> <span class="keyword">struct </span>
<a name="l02852"></a>02852      {
<a name="l02853"></a>02853         <span class="comment">// GL_V3F</span>
<a name="l02854"></a><a class="code" href="structStg_1_1ModelCamera_1_1ColoredVertex.html#a248d558f64441587c1da6443a6f1cf4d">02854</a>         GLfloat x, y, <a class="code" href="structStg_1_1ModelCamera_1_1ColoredVertex.html#a248d558f64441587c1da6443a6f1cf4d">z</a>;
<a name="l02855"></a>02855      } <a class="code" href="structStg_1_1ModelCamera_1_1ColoredVertex.html">ColoredVertex</a>;
<a name="l02856"></a>02856   
<a name="l02857"></a>02857   <span class="keyword">private</span>:
<a name="l02858"></a>02858      <a class="code" href="classStg_1_1Canvas.html">Canvas</a>* _canvas;
<a name="l02859"></a>02859 
<a name="l02860"></a>02860      GLfloat* _frame_data;  <span class="comment">//opengl read buffer</span>
<a name="l02861"></a>02861      GLubyte* _frame_color_data;  <span class="comment">//opengl read buffer</span>
<a name="l02862"></a>02862 
<a name="l02863"></a>02863      <span class="keywordtype">bool</span> _valid_vertexbuf_cache;
<a name="l02864"></a>02864      <a class="code" href="structStg_1_1ModelCamera_1_1ColoredVertex.html">ColoredVertex</a>* _vertexbuf_cache; <span class="comment">//cached unit vectors with appropriate rotations (these must be scalled by z-buffer length)</span>
<a name="l02865"></a>02865     
<a name="l02866"></a>02866      <span class="keywordtype">int</span> _width;         <span class="comment">//width of buffer</span>
<a name="l02867"></a>02867      <span class="keywordtype">int</span> _height;        <span class="comment">//height of buffer</span>
<a name="l02868"></a>02868      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> _depth = 4;
<a name="l02869"></a>02869     
<a name="l02870"></a>02870      <span class="keywordtype">int</span> _camera_quads_size;
<a name="l02871"></a>02871      GLfloat* _camera_quads;
<a name="l02872"></a>02872      GLubyte* _camera_colors;
<a name="l02873"></a>02873     
<a name="l02874"></a>02874      <span class="keyword">static</span> <a class="code" href="classStg_1_1Option.html">Option</a> showCameraData;
<a name="l02875"></a>02875     
<a name="l02876"></a>02876      <a class="code" href="classStg_1_1PerspectiveCamera.html">PerspectiveCamera</a> _camera;
<a name="l02877"></a>02877      <span class="keywordtype">float</span> _yaw_offset; <span class="comment">//position camera is mounted at</span>
<a name="l02878"></a>02878      <span class="keywordtype">float</span> _pitch_offset;
<a name="l02879"></a>02879         
<a name="l02881"></a>02881      <span class="keywordtype">bool</span> GetFrame();
<a name="l02882"></a>02882     
<a name="l02883"></a>02883   <span class="keyword">public</span>:
<a name="l02884"></a>02884      <a class="code" href="classStg_1_1ModelCamera.html#acb726d0750a6af7f11bdb718684b22e1">ModelCamera</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>,
<a name="l02885"></a>02885                       <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02886"></a>02886                       <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> ); 
<a name="l02887"></a>02887       
<a name="l02888"></a>02888      <a class="code" href="classStg_1_1ModelCamera.html#a95f378e00e0464fa504eadf1c36155e8">~ModelCamera</a>();
<a name="l02889"></a>02889   
<a name="l02890"></a>02890      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelCamera.html#adde513f2028b2b173c8b4231705b612c">Load</a>();
<a name="l02891"></a>02891     
<a name="l02893"></a>02893      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelCamera.html#a2d34f220070af5879b56d580a90f3dac" title="Capture a new frame ( calls GetFrame )">Update</a>();
<a name="l02894"></a>02894     
<a name="l02896"></a>02896      <span class="comment">//virtual void Draw( uint32_t flags, Canvas* canvas );</span>
<a name="l02897"></a>02897     
<a name="l02899"></a>02899      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelCamera.html#adc5b9a0702afae5876f58b2140986d31" title="Draw Camera Model - TODO.">DataVisualize</a>( <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02900"></a>02900     
<a name="l02902"></a><a class="code" href="classStg_1_1ModelCamera.html#ac1df668b8d043c8bb75d656e88cf47f3">02902</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1ModelCamera.html#ac1df668b8d043c8bb75d656e88cf47f3" title="width of captured image">getWidth</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _width; }
<a name="l02903"></a>02903     
<a name="l02905"></a><a class="code" href="classStg_1_1ModelCamera.html#aa7ef00eab24cdb5d5a5966af14e95818">02905</a>      <span class="keywordtype">int</span> <a class="code" href="classStg_1_1ModelCamera.html#aa7ef00eab24cdb5d5a5966af14e95818" title="height of captured image">getHeight</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _height; }
<a name="l02906"></a>02906     
<a name="l02908"></a><a class="code" href="classStg_1_1ModelCamera.html#a3e9b88091e002b8fe0ba457a737f1354">02908</a>      <span class="keyword">const</span> <a class="code" href="classStg_1_1PerspectiveCamera.html">PerspectiveCamera</a>&amp; <a class="code" href="classStg_1_1ModelCamera.html#a3e9b88091e002b8fe0ba457a737f1354" title="get reference to camera used">getCamera</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _camera; }
<a name="l02909"></a>02909     
<a name="l02911"></a><a class="code" href="classStg_1_1ModelCamera.html#afb4960630b845d93f38777460ae9c800">02911</a>      <span class="keyword">const</span> GLfloat* <a class="code" href="classStg_1_1ModelCamera.html#afb4960630b845d93f38777460ae9c800" title="get a reference to camera depth buffer">FrameDepth</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _frame_data; }
<a name="l02912"></a>02912     
<a name="l02914"></a><a class="code" href="classStg_1_1ModelCamera.html#a43a0b7c752a95b27eec252bd1e3b687a">02914</a>      <span class="keyword">const</span> GLubyte* <a class="code" href="classStg_1_1ModelCamera.html#a43a0b7c752a95b27eec252bd1e3b687a" title="get a reference to camera color image. 4 bytes (RGBA) per pixel">FrameColor</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _frame_color_data; }
<a name="l02915"></a>02915     
<a name="l02917"></a><a class="code" href="classStg_1_1ModelCamera.html#ad45f53f79c0d6402c09741426c1f3795">02917</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelCamera.html#ad45f53f79c0d6402c09741426c1f3795" title="change the pitch">setPitch</a>( <span class="keywordtype">float</span> pitch ) { _pitch_offset = pitch; _valid_vertexbuf_cache = <span class="keyword">false</span>; }
<a name="l02918"></a>02918     
<a name="l02920"></a><a class="code" href="classStg_1_1ModelCamera.html#a103b04b6ce246fd48ff1cd7e8ffec9a2">02920</a>      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelCamera.html#a103b04b6ce246fd48ff1cd7e8ffec9a2" title="change the yaw">setYaw</a>( <span class="keywordtype">float</span> yaw ) { _yaw_offset = yaw; _valid_vertexbuf_cache = <span class="keyword">false</span>; }
<a name="l02921"></a>02921   };
<a name="l02922"></a>02922 
<a name="l02923"></a>02923   <span class="comment">// POSITION MODEL --------------------------------------------------------</span>
<a name="l02924"></a>02924 
<a name="l02926"></a><a class="code" href="classStg_1_1ModelPosition.html">02926</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelPosition.html" title="ModelPosition class">ModelPosition</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l02927"></a>02927   {
<a name="l02928"></a><a class="code" href="classStg_1_1ModelPosition.html#a9816083e25bae0b2f472e19382136687">02928</a>      <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStg_1_1Canvas.html">Canvas</a>;
<a name="l02929"></a>02929 
<a name="l02930"></a>02930   <span class="keyword">public</span>:
<a name="l02932"></a><a class="code" href="classStg_1_1ModelPosition.html#ab250a1bd86d46437ab457b5296144f10">02932</a>      <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l02933"></a><a class="code" href="classStg_1_1ModelPosition.html#ab250a1bd86d46437ab457b5296144f10a134458db14c56bec62de30d11881aa4a">02933</a>         { <a class="code" href="classStg_1_1ModelPosition.html#ab250a1bd86d46437ab457b5296144f10a134458db14c56bec62de30d11881aa4a">CONTROL_VELOCITY</a>, 
<a name="l02934"></a><a class="code" href="classStg_1_1ModelPosition.html#ab250a1bd86d46437ab457b5296144f10aa9f0b7bf7489f91ff1185f63df0412be">02934</a>           <a class="code" href="classStg_1_1ModelPosition.html#ab250a1bd86d46437ab457b5296144f10aa9f0b7bf7489f91ff1185f63df0412be">CONTROL_POSITION</a> 
<a name="l02935"></a>02935         } <a class="code" href="classStg_1_1ModelPosition.html#ab250a1bd86d46437ab457b5296144f10">ControlMode</a>;
<a name="l02936"></a>02936      
<a name="l02938"></a><a class="code" href="classStg_1_1ModelPosition.html#a5bfd55e33026ba40988f89c466a96892">02938</a>      <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l02939"></a><a class="code" href="classStg_1_1ModelPosition.html#a5bfd55e33026ba40988f89c466a96892aa5a8c50999c18fb6a849c1a56c25bd59">02939</a>         { <a class="code" href="classStg_1_1ModelPosition.html#a5bfd55e33026ba40988f89c466a96892aa5a8c50999c18fb6a849c1a56c25bd59">LOCALIZATION_GPS</a>, 
<a name="l02940"></a><a class="code" href="classStg_1_1ModelPosition.html#a5bfd55e33026ba40988f89c466a96892abead37ff6227064e447e0d26731d2a08">02940</a>           <a class="code" href="classStg_1_1ModelPosition.html#a5bfd55e33026ba40988f89c466a96892abead37ff6227064e447e0d26731d2a08">LOCALIZATION_ODOM</a> 
<a name="l02941"></a>02941         } <a class="code" href="classStg_1_1ModelPosition.html#a5bfd55e33026ba40988f89c466a96892">LocalizationMode</a>;
<a name="l02942"></a>02942      
<a name="l02944"></a><a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544">02944</a>      <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l02945"></a><a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544ab92329358e955e25af81cd8b75bfee73">02945</a>         { <a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544ab92329358e955e25af81cd8b75bfee73">DRIVE_DIFFERENTIAL</a>, 
<a name="l02946"></a><a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544a6401228f28b74dfacc54370d80837ee8">02946</a>           <a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544a6401228f28b74dfacc54370d80837ee8">DRIVE_OMNI</a>, 
<a name="l02947"></a><a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544ad24c06eafd49a66afb28d119a1a9a06d">02947</a>           <a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544ad24c06eafd49a66afb28d119a1a9a06d">DRIVE_CAR</a> 
<a name="l02948"></a>02948         } <a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544">DriveMode</a>;
<a name="l02949"></a>02949      
<a name="l02950"></a>02950   <span class="keyword">private</span>:
<a name="l02951"></a>02951      <a class="code" href="classStg_1_1Pose.html">Pose</a> goal;
<a name="l02952"></a>02952      <a class="code" href="classStg_1_1ModelPosition.html#ab250a1bd86d46437ab457b5296144f10">ControlMode</a> control_mode;
<a name="l02953"></a>02953      <a class="code" href="classStg_1_1ModelPosition.html#a1508ed4ee8a3873c7e3e8c17ca0e5544">DriveMode</a> drive_mode;   
<a name="l02954"></a>02954      <a class="code" href="classStg_1_1ModelPosition.html#a5bfd55e33026ba40988f89c466a96892">LocalizationMode</a> localization_mode; 
<a name="l02955"></a>02955      <a class="code" href="classStg_1_1Velocity.html">Velocity</a> integration_error; 
<a name="l02956"></a>02956      <span class="keywordtype">double</span> wheelbase;
<a name="l02957"></a>02957      
<a name="l02958"></a>02958   <span class="keyword">public</span>:
<a name="l02959"></a>02959      <span class="comment">// constructor</span>
<a name="l02960"></a>02960      <a class="code" href="classStg_1_1ModelPosition.html#aea073a0e5e765520ddc130456bcd3d22">ModelPosition</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>,
<a name="l02961"></a>02961                          <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l02962"></a>02962                          <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l02963"></a>02963      <span class="comment">// destructor</span>
<a name="l02964"></a>02964      <a class="code" href="classStg_1_1ModelPosition.html#a0edeac557e561c8d4cc3ada00c3fc67d">~ModelPosition</a>();
<a name="l02965"></a>02965 
<a name="l02966"></a>02966      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a7ea607d33d4d5f41b2ff78e544d59b52">Startup</a>();
<a name="l02967"></a>02967      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a2ae5ef29d07144b944bc261126f4e523">Shutdown</a>();
<a name="l02968"></a>02968      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a5cb7087c256fe56f59e265a6ca647dad">Update</a>();
<a name="l02969"></a>02969      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#aa9e299b6fea8a44f531ac3b66b258ad5">Load</a>();
<a name="l02970"></a>02970         
<a name="l02973"></a><a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html">02973</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html">Waypoint</a>
<a name="l02974"></a>02974      {
<a name="l02975"></a>02975      <span class="keyword">public</span>:
<a name="l02976"></a>02976         <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#abc06f85adc233ab99ab27ad9fabaa2a4">Waypoint</a>( <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> x, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> y, <a class="code" href="namespaceStg.html#a2611cb50c5c0581ca4d50c4476382cf9">meters_t</a> z, <a class="code" href="namespaceStg.html#a15eb0747999cac6bf5c4964d6b67150b">radians_t</a> a, <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#a76cf4c13faf3907ecb04872840ae3827">color</a> ) ;
<a name="l02977"></a>02977         <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#abc06f85adc233ab99ab27ad9fabaa2a4">Waypoint</a>( <span class="keyword">const</span> <a class="code" href="classStg_1_1Pose.html">Pose</a>&amp; <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#afba4a76b0220299c5a271cbe8fdbb865">pose</a>, <a class="code" href="classStg_1_1Color.html">Color</a> color ) ;
<a name="l02978"></a>02978         <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#abc06f85adc233ab99ab27ad9fabaa2a4">Waypoint</a>();
<a name="l02979"></a>02979         <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#a09446adc6c872200cae43a892a01f23b">Draw</a>() <span class="keyword">const</span>;
<a name="l02980"></a>02980         
<a name="l02981"></a><a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#afba4a76b0220299c5a271cbe8fdbb865">02981</a>         <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#afba4a76b0220299c5a271cbe8fdbb865">pose</a>;
<a name="l02982"></a><a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#a76cf4c13faf3907ecb04872840ae3827">02982</a>         <a class="code" href="classStg_1_1Color.html">Color</a> <a class="code" href="classStg_1_1ModelPosition_1_1Waypoint.html#a76cf4c13faf3907ecb04872840ae3827">color</a>;
<a name="l02983"></a>02983      };
<a name="l02984"></a>02984      
<a name="l02985"></a><a class="code" href="classStg_1_1ModelPosition.html#a3a4450806e3239e2a375e12d89745b16">02985</a>      std::vector&lt;Waypoint&gt; <a class="code" href="classStg_1_1ModelPosition.html#a3a4450806e3239e2a375e12d89745b16">waypoints</a>;
<a name="l02986"></a>02986 
<a name="l02987"></a><a class="code" href="classStg_1_1ModelPosition_1_1WaypointVis.html">02987</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1ModelPosition_1_1WaypointVis.html">WaypointVis</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a>
<a name="l02988"></a>02988      {
<a name="l02989"></a>02989      <span class="keyword">public</span>:
<a name="l02990"></a>02990         <a class="code" href="classStg_1_1ModelPosition_1_1WaypointVis.html#a8c35edf7c127cf17d5b7db253f8f9e15">WaypointVis</a>();
<a name="l02991"></a><a class="code" href="classStg_1_1ModelPosition_1_1WaypointVis.html#aac3b33c720819bc0ab5609a5d0bf3850">02991</a>         <span class="keyword">virtual</span> <a class="code" href="classStg_1_1ModelPosition_1_1WaypointVis.html#aac3b33c720819bc0ab5609a5d0bf3850">~WaypointVis</a>( <span class="keywordtype">void</span> ){}
<a name="l02992"></a>02992         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition_1_1WaypointVis.html#ad1c4bc80948f72a7125420d67e1d9a39">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l02993"></a>02993      } <a class="code" href="classStg_1_1ModelPosition.html#a4e5f2ef0be5d6608ed447d96cdfe5573">wpvis</a>;
<a name="l02994"></a>02994      
<a name="l02995"></a><a class="code" href="classStg_1_1ModelPosition_1_1PoseVis.html">02995</a>      <span class="keyword">class </span><a class="code" href="classStg_1_1ModelPosition_1_1PoseVis.html">PoseVis</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Visualizer.html">Visualizer</a>
<a name="l02996"></a>02996      {
<a name="l02997"></a>02997      <span class="keyword">public</span>:
<a name="l02998"></a>02998         <a class="code" href="classStg_1_1ModelPosition_1_1PoseVis.html#a864935eb0d46b81134cc56618171f7be">PoseVis</a>();
<a name="l02999"></a><a class="code" href="classStg_1_1ModelPosition_1_1PoseVis.html#a1050d76f99831ff75bd57184c0323ccf">02999</a>         <span class="keyword">virtual</span> <a class="code" href="classStg_1_1ModelPosition_1_1PoseVis.html#a1050d76f99831ff75bd57184c0323ccf">~PoseVis</a>( <span class="keywordtype">void</span> ){}
<a name="l03000"></a>03000         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition_1_1PoseVis.html#aac06b48b41713681825dab0783b80e74">Visualize</a>( <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* mod, <a class="code" href="classStg_1_1Camera.html">Camera</a>* cam );
<a name="l03001"></a>03001      } <a class="code" href="classStg_1_1ModelPosition.html#abc0b1457c85f8f2b497f9af5adc4809a">posevis</a>;
<a name="l03002"></a>03002 
<a name="l03004"></a>03004      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#abf3086b11231ea768bcc89c03ceffc1c">SetOdom</a>( <a class="code" href="classStg_1_1Pose.html">Pose</a> odom );
<a name="l03005"></a>03005         
<a name="l03008"></a>03008      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#abe947a5cd5e8289379dd8e4310a19724">SetSpeed</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> a );
<a name="l03009"></a>03009      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#af052869a337875dd7c37a223745cb699">SetXSpeed</a>( <span class="keywordtype">double</span> x );
<a name="l03010"></a>03010      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a2ef77fdcae61475dfe3813c46ea1c7e0">SetYSpeed</a>( <span class="keywordtype">double</span> y );
<a name="l03011"></a>03011      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a2a7b691e7606543430989ad0ab653b5f">SetZSpeed</a>( <span class="keywordtype">double</span> z );
<a name="l03012"></a>03012      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#adea1cdc1bd6146012c690db81975bbf2">SetTurnSpeed</a>( <span class="keywordtype">double</span> a );
<a name="l03013"></a>03013      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#abe947a5cd5e8289379dd8e4310a19724">SetSpeed</a>( <a class="code" href="classStg_1_1Velocity.html">Velocity</a> vel );
<a name="l03015"></a>03015      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a240751ffc8cbaf3b9e5d21583b4a2f23">Stop</a>();
<a name="l03016"></a>03016 
<a name="l03019"></a>03019      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a8332259cf6876e4c9da210252389d5ce">GoTo</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> a );
<a name="l03020"></a>03020      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelPosition.html#a8332259cf6876e4c9da210252389d5ce">GoTo</a>( <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a> );
<a name="l03021"></a>03021 
<a name="l03022"></a>03022      <span class="comment">// localization state</span>
<a name="l03023"></a><a class="code" href="classStg_1_1ModelPosition.html#ace4a5ff0ef9425298ce9fd4c57d8ba8a">03023</a>      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1ModelPosition.html#ace4a5ff0ef9425298ce9fd4c57d8ba8a" title="position estimate in local coordinates">est_pose</a>; 
<a name="l03024"></a><a class="code" href="classStg_1_1ModelPosition.html#afe4766e7bd8f60eea682cb360f624bb4">03024</a>      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1ModelPosition.html#afe4766e7bd8f60eea682cb360f624bb4" title="estimated error in position estimate">est_pose_error</a>; 
<a name="l03025"></a><a class="code" href="classStg_1_1ModelPosition.html#a8445186a84944cabec6a90152474e4d0">03025</a>      <a class="code" href="classStg_1_1Pose.html">Pose</a> <a class="code" href="classStg_1_1ModelPosition.html#a8445186a84944cabec6a90152474e4d0" title="global origin of the local coordinate system">est_origin</a>; 
<a name="l03026"></a>03026   };
<a name="l03027"></a>03027 
<a name="l03028"></a>03028 
<a name="l03029"></a>03029   <span class="comment">// ACTUATOR MODEL --------------------------------------------------------</span>
<a name="l03030"></a>03030 
<a name="l03032"></a><a class="code" href="classStg_1_1ModelActuator.html">03032</a>   <span class="keyword">class </span><a class="code" href="classStg_1_1ModelActuator.html" title="ModelActuator class">ModelActuator</a> : <span class="keyword">public</span> <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>
<a name="l03033"></a>03033   {
<a name="l03034"></a>03034   <span class="keyword">public</span>:
<a name="l03036"></a><a class="code" href="classStg_1_1ModelActuator.html#a23ba2925ee05206d24dd3717262da620">03036</a>      <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l03037"></a><a class="code" href="classStg_1_1ModelActuator.html#a23ba2925ee05206d24dd3717262da620a809e95de9cf850347378616aae3a9b24">03037</a>         { <a class="code" href="classStg_1_1ModelActuator.html#a23ba2925ee05206d24dd3717262da620a809e95de9cf850347378616aae3a9b24">CONTROL_VELOCITY</a>,
<a name="l03038"></a><a class="code" href="classStg_1_1ModelActuator.html#a23ba2925ee05206d24dd3717262da620a83bef53816311fe30fd5b7bd55c41507">03038</a>           <a class="code" href="classStg_1_1ModelActuator.html#a23ba2925ee05206d24dd3717262da620a83bef53816311fe30fd5b7bd55c41507">CONTROL_POSITION</a>
<a name="l03039"></a>03039         } <a class="code" href="classStg_1_1ModelActuator.html#a23ba2925ee05206d24dd3717262da620">ControlMode</a>;
<a name="l03040"></a>03040   
<a name="l03042"></a><a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6">03042</a>      <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l03043"></a><a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6a3d0b49489e0a85c9d27f89e5d35c73e0">03043</a>         { <a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6a3d0b49489e0a85c9d27f89e5d35c73e0">TYPE_LINEAR</a>,
<a name="l03044"></a><a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6a5315149e223f9a58f490124c4f41f535">03044</a>           <a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6a5315149e223f9a58f490124c4f41f535">TYPE_ROTATIONAL</a>
<a name="l03045"></a>03045         } <a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6">ActuatorType</a>;
<a name="l03046"></a>03046   
<a name="l03047"></a>03047   <span class="keyword">private</span>:
<a name="l03048"></a>03048      <span class="keywordtype">double</span> goal; <span class="comment">//&lt; the current velocity or pose to reach, depending on the value of control_mode</span>
<a name="l03049"></a>03049      <span class="keywordtype">double</span> pos;
<a name="l03050"></a>03050      <span class="keywordtype">double</span> max_speed;
<a name="l03051"></a>03051      <span class="keywordtype">double</span> min_position;
<a name="l03052"></a>03052      <span class="keywordtype">double</span> max_position;
<a name="l03053"></a>03053      <span class="keywordtype">double</span> start_position;
<a name="l03054"></a>03054      <span class="keywordtype">double</span> cosa;
<a name="l03055"></a>03055      <span class="keywordtype">double</span> sina;
<a name="l03056"></a>03056      <a class="code" href="classStg_1_1ModelActuator.html#a23ba2925ee05206d24dd3717262da620">ControlMode</a> control_mode;
<a name="l03057"></a>03057      <a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6">ActuatorType</a> actuator_type;
<a name="l03058"></a>03058      <a class="code" href="classStg_1_1point3__t.html">point3_t</a> axis;
<a name="l03059"></a>03059   
<a name="l03060"></a>03060      <a class="code" href="classStg_1_1Pose.html">Pose</a> InitialPose;
<a name="l03061"></a>03061   <span class="keyword">public</span>:  
<a name="l03062"></a>03062      <span class="comment">// constructor</span>
<a name="l03063"></a>03063      <a class="code" href="classStg_1_1ModelActuator.html#af210162efb1508a081409f50f92e35b3">ModelActuator</a>( <a class="code" href="classStg_1_1World.html" title="World class">World</a>* <a class="code" href="classStg_1_1Model.html#a76259259432988aab43be67638ab7adb">world</a>,
<a name="l03064"></a>03064                          <a class="code" href="classStg_1_1Model.html" title="Model class">Model</a>* <a class="code" href="classStg_1_1Model.html#a035961ff37b87925ab8b850e4243352d">parent</a>,
<a name="l03065"></a>03065                          <span class="keyword">const</span> std::string&amp; <a class="code" href="classStg_1_1Model.html#ae4562b9a879803d8b525defe7aa394e6">type</a> );
<a name="l03066"></a>03066      <span class="comment">// destructor</span>
<a name="l03067"></a>03067      <a class="code" href="classStg_1_1ModelActuator.html#a154d1bfaa3133a10ceaaf39fdd1a50f1">~ModelActuator</a>();
<a name="l03068"></a>03068   
<a name="l03069"></a>03069      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelActuator.html#a92be204a6fd4bd962168f526aa3328d2">Startup</a>();
<a name="l03070"></a>03070      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelActuator.html#aab4e8fb0c773ac30745f182c89864118">Shutdown</a>();
<a name="l03071"></a>03071      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelActuator.html#acdbb9f56a67b03dba2f0a7aca440c576">Update</a>();
<a name="l03072"></a>03072      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelActuator.html#a17547b2c48b7369f161ab7f344a7be86">Load</a>();
<a name="l03073"></a>03073   
<a name="l03076"></a>03076      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelActuator.html#a7b97a871e8942308610971327a9fed3a">SetSpeed</a>( <span class="keywordtype">double</span> speed );
<a name="l03077"></a>03077   
<a name="l03078"></a><a class="code" href="classStg_1_1ModelActuator.html#a4e8c7fae2bbcc76d19b502ae9f7c9084">03078</a>      <span class="keywordtype">double</span> <a class="code" href="classStg_1_1ModelActuator.html#a4e8c7fae2bbcc76d19b502ae9f7c9084">GetSpeed</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> goal;}
<a name="l03079"></a>03079   
<a name="l03082"></a>03082      <span class="keywordtype">void</span> <a class="code" href="classStg_1_1ModelActuator.html#af4f2b186377c109fed998b31c3b7164f">GoTo</a>( <span class="keywordtype">double</span> <a class="code" href="classStg_1_1Model.html#a4e004855f72d4713dade76912a66b657">pose</a> );
<a name="l03083"></a>03083   
<a name="l03084"></a><a class="code" href="classStg_1_1ModelActuator.html#a14d181ef73fccb1b5ff973ca4eabe28c">03084</a>         <span class="keywordtype">double</span> <a class="code" href="classStg_1_1ModelActuator.html#a14d181ef73fccb1b5ff973ca4eabe28c">GetPosition</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> pos;};
<a name="l03085"></a><a class="code" href="classStg_1_1ModelActuator.html#a0eb25d9b9952cd1b63c4d45e76c59906">03085</a>         <span class="keywordtype">double</span> <a class="code" href="classStg_1_1ModelActuator.html#a0eb25d9b9952cd1b63c4d45e76c59906">GetMaxPosition</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> max_position;};
<a name="l03086"></a><a class="code" href="classStg_1_1ModelActuator.html#abc151d77b0e9bc0329c7e6ec62eadb53">03086</a>         <span class="keywordtype">double</span> <a class="code" href="classStg_1_1ModelActuator.html#abc151d77b0e9bc0329c7e6ec62eadb53">GetMinPosition</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> min_position;};
<a name="l03087"></a>03087         
<a name="l03088"></a><a class="code" href="classStg_1_1ModelActuator.html#a3ecda825864db2f44b95dcfc4c7a5e8f">03088</a>         <a class="code" href="classStg_1_1ModelActuator.html#a59deab0059abee606096514425a704b6">ActuatorType</a> <a class="code" href="classStg_1_1ModelActuator.html#a3ecda825864db2f44b95dcfc4c7a5e8f">GetType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> actuator_type; }
<a name="l03089"></a><a class="code" href="classStg_1_1ModelActuator.html#a8f2abae10daec1e8507935c823340b9a">03089</a>         <a class="code" href="classStg_1_1point3__t.html">point3_t</a> <a class="code" href="classStg_1_1ModelActuator.html#a8f2abae10daec1e8507935c823340b9a">GetAxis</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> axis; }
<a name="l03090"></a>03090   };
<a name="l03091"></a>03091 
<a name="l03092"></a>03092 
<a name="l03093"></a>03093 }; <span class="comment">// end namespace stg</span>
<a name="l03094"></a>03094 
<a name="l03095"></a>03095 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Nov 26 2010 13:13:30 for Stage by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
