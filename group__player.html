<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<!-- $Id: header.html,v 1.5 2008-02-24 23:24:40 rtv Exp $ -->

<HEAD>


<meta HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=utf-8">
<meta name="keywords" content="stage, robot, simulation, player, player/stage">
<link href="doxygen.css" rel="stylesheet" type="text/css">

<style type="text/css">

#.floatright { float: right; margin: 0 0 1em 1em; }

body {
  font-family: sans-serif;
  #font-family: Geneva, Verdana, Helvetica, Arial, sans-serif;
  background-color: #FFF;
  color:#000;
}


a:link { 
	color: #A00;
}

a:visited { 
	color: #800;
}

a { text-decoration: none; }
a:hover { text-decoration: underline; }


.timestamp { text-align:right; background-color: #DDD; font-size:75%;}

h1 { 
  font-size:160%; 
}

h2 {
  font-size:110%;
  #color: #FFF;
  #background-color: #666;
  #padding:3px;
}

h3 { text-align:left; }

img {
  border: 0;
}

ul.menu { 
    position:relative;
    left:-2.5em;
    margin-bottom:0px;
    margin-top:0px;
}

ul.menu1 { 
    position:relative;
    left:-2.1em;
    margin-bottom:0px;
    margin-top:0px;
}

li.menu { 
    list-style-type: none;
    position:relative;
    #left:-0.5em;
}


#sidebar { position: absolute; left:0px; padding:2em; top:0em; width:11em;}

#content { position: absolute; left:12em; top:0em; padding-left:3em; padding-right:3em; padding-bottom:2em; margin-top:1em; margin-right:2em; }

div.box { background-color:#EEE; border: 1px solid #000; padding: 0.5ex 0.4em 0.5ex 0.6em; margin:1em;  }
div.box_light { background-color:#FFF; border: 1px solid #000; padding: 0.5ex 0.4em 0.5ex 0.6em; margin:1em;  }
div.title { font-weight:bold;  margin-bottom:2px;}

div.topbar { position: absolute; top:0px; left:9em; margin:1em; }

</style>

<TITLE>Stage Manual</TITLE>

</HEAD>

<body>

<div id="sidebar"> 

<h2 style="text-align:center;">
<a href="index.html"><img src="stage_button.png" alt="Stage logo image"></a>
</h2>

<div class="box">
<div class=title>User</div>

<ul class=menu>
<li class=menu><a href="index.html">Frontpage</a>
<li class=menu><a href="release.html">Release</a>
<li class=menu><a href="authors.html">Authors</a>
<li class=menu><a href="install.html">Installation</a>

<hr>
<li class=menu><a href="modules.html">Contents</a>
</ul>

</div>

<div class=box>
<div class="title">Player</div>
<li class=menu><a href="group__player.html">libstageplugin</a>
</div>


<div class=box>
<div class="title">Developer</div>
<a href="namespaces.html">libstage</a>
</div>

<div class=box_light>
<!-- <a href="http://sourceforge.net"><img border=0 src="http://sourceforge.net/sflogo.php?group_id=42445&type=1"></a> -->
<div class="title">Online</div>


<a href="https://github.com/rtv/Stage">GitHub</a>
<a href="https://github.com/rtv/Stage/issues">Bugs/Issues</a>
<hr>
<a href="http://playerstage.org">Player Project</a><br>
<a href="http://sourceforge.net/mail/?group_id=42445">Mailing Lists</a>

</div>


</div>

<div id="content" >

<div>

<!-- Generated by Doxygen 1.7.5.1 -->
</div>
<div class="header">
  <div class="headertitle">
<div class="title">libstageplugin - simulation driver for Player</div>  </div>
</div>
<div class="contents">
<p><b>libstageplugin</b> is a plugin for Player that allows Player clients to access simulated robots as if they were normal Player devices.</p>
<p>Stage robots and sensors work like any other Player device: users write robot controllers and sensor algorithms as `clients' to the Player `server'. Typically, clients cannot tell the difference between the real robot devices and their simulated Stage equivalents (unless they try very hard). We have found that robot controllers developed as Player clients controlling Stage robots will work with little or no modification with the real robots and vice versa [1]. With a little care, the same binary program can often control Stage robots and real robots without even being recompiled [2]. Thus the Player/Stage system allows rapid prototyping of controllers destined for real robots. Stage can also be very useful by simulating populations of realistic robot devices you don't happen to own [3].</p>
<dl class="user"><dt><b>Authors</b></dt><dd></dd></dl>
<p>Richard Vaughan</p>
<p>[refs]</p>
<dl class="user"><dt><b>Configuration file examples:</b></dt><dd></dd></dl>
<p>Creating two models in a Stage worldfile, saved as "example.world":</p>
<div class="fragment"><pre class="fragment">
# this is a comment
# create a position model - it can drive around like a robot
position
(
  name "marvin"
  color "red"

  pose [ 1 1 0 ]

  # add a range scanner on top of the robot
  ranger()
)

# create a position model with a gripper attached to each side
position
(
  name "gort"
  color "silver"
  pose [ 6 1 0 ]
  size [ 1 2 ]

  gripper( pose [0  1  90] )
  gripper( pose [0 -1 -90] )
)
</pre></div><p>Attaching Player interfaces to the Stage models "marvin" and "gort" in a Player config (.cfg) <a href="file:">file:</a></p>
<div class="fragment"><pre class="fragment">
# Present a simulation interface on the default port (6665).
# Load the Stage plugin driver and create the world described
# in the worldfile "example.world"
# The simulation interface MUST be created before any simulated devices
# models can be used.
driver
(
  name "stage"
  provides ["simulation:0"]
  plugin "libstageplugin"
  worldfile "example.world"
)

# Present a position interface on the default port (6665), connected
# to the Stage position model "marvin", and a ranger interface connected to
# the ranger child of "marvin".
driver
(
  name "stage"
  provides ["position2d:0" "ranger:0"]
  model "marvin"
)

# Present three interfaces on port 6666, connected to the Stage
# position model "gort" and its two grippers.
driver
(
  name "stage"
  provides ["6666:position2d:0" "6666:gripper:0" "6666:gripper:1"]
  model "gort"
)
</pre></div><p>More examples can be found in the Stage source tree, in directory &lt;stage-version&gt;/worlds.</p>
<dl class="user"><dt><b>Player configuration file options</b></dt><dd></dd></dl>
<ul>
<li>worldfile &lt;string&gt;<ul>
<li>where &lt;string&gt; is the filename of a Stage worldfile. Player will attempt to load the worldfile and attach interfaces to Stage models specified by the "model" keyword</li>
</ul>
</li>
<li>model &lt;string&gt;<ul>
<li>where &lt;string&gt; is the name of a Stage position model that will be controlled by this interface. Stage will search down the tree of models starting at the named model to find a previously-unassigned device of the right type.</li>
</ul>
</li>
<li>usegui &lt;&gt;<ul>
<li>if zero, Player/Stage runs with no GUI. If non-zero (the default), it runs with a GUI window.</li>
</ul>
</li>
</ul>
<dl class="user"><dt><b>Provides</b></dt><dd></dd></dl>
<p>The stage plugin driver provides the following device interfaces:</p>
<dl class="user"><dt><b>ActArray interface</b></dt><dd><ul>
<li>PLAYER_ACTARRAY_REQ_GET_GEOM</li>
<li>PLAYER_ACTARRAY_CMD_POS</li>
<li>PLAYER_ACTARRAY_CMD_SPEED</li>
<li>PLAYER_ACTARRAY_DATA_STATE</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Blobfinder interface</b></dt><dd><ul>
<li>PLAYER_BLOBFINDER_DATA_BLOBS</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Fiducial interface</b></dt><dd><ul>
<li>PLAYER_FIDUCIAL_DATA_SCAN</li>
<li>PLAYER_FIDUCIAL_REQ_GET_GEOM</li>
<li>PLAYER_FIDUCIAL_REQ_SET_ID</li>
<li>PLAYER_FIDUCIAL_REQ_GET_ID</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Graphics2D interface</b></dt><dd><ul>
<li>PLAYER_GRAPHICS2D_CMD_POINTS</li>
<li>PLAYER_GRAPHICS2D_CMD_POLYGON</li>
<li>PLAYER_GRAPHICS2D_CMD_MULTILINE</li>
<li>PLAYER_GRAPHICS2D_CMD_POLYLINE</li>
<li>PLAYER_GRAPHICS2D_CMD_CLEAR</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Graphics3D interface</b></dt><dd><ul>
<li>PLAYER_GRAPHICS3D_CMD_DRAW</li>
<li>PLAYER_GRAPHICS3D_CMD_PUSH</li>
<li>PLAYER_GRAPHICS3D_CMD_POP</li>
<li>PLAYER_GRAPHICS3D_CMD_CLEAR</li>
<li>PLAYER_GRAPHICS3D_CMD_TRANSLATE</li>
<li>PLAYER_GRAPHICS3D_CMD_ROTATE</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Gripper interface</b></dt><dd><ul>
<li>PLAYER_GRIPPER_DATA_STATE</li>
<li>PLAYER_GRIPPER_CMD_STATE</li>
<li>PLAYER_GRIPPER_REQ_GET_GEOM</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Position interface</b></dt><dd><ul>
<li>PLAYER_POSITION2D_CMD_POS</li>
<li>PLAYER_POSITION2D_CMD_VEL</li>
<li>PLAYER_POSITION2D_CMD_CAR</li>
<li>PLAYER_POSITION2D_DATA_STATE</li>
<li>PLAYER_POSITION2D_REQ_GET_GEOM</li>
<li>PLAYER_POSITION2D_REQ_MOTOR_POWER</li>
<li>PLAYER_POSITION2D_REQ_RESET_ODOM</li>
<li>PLAYER_POSITION2D_REQ_SET_ODOM</li>
<li>PLAYER_POSITION2D_REQ_POSITION_MODE</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Ranger interface</b></dt><dd><ul>
<li>PLAYER_RANGER_DATA_RANGE</li>
<li>PLAYER_RANGER_DATA_INTENS</li>
<li>PLAYER_RANGER_REQ_GET_CONFIG</li>
<li>PLAYER_RANGER_REQ_GET_GEOM</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Simulation interface</b></dt><dd><ul>
<li>PLAYER_SIMULATION_REQ_GET_POSE2D player_simulation_pose2d_req_t</li>
<li>PLAYER_SIMULATION_REQ_SET_POSE2D player_simulation_pose2d_req_t</li>
<li>PLAYER_SIMULATION_REQ_GET_POSE3D player_simulation_pose3d_req_t</li>
<li>PLAYER_SIMULATION_REQ_SET_POSE3D player_simulation_pose3d_req_t</li>
<li>PLAYER_SIMULATION_REQ_SET_PROPERTY player_simulation_property_req_t<ul>
<li>(name) (prop) (value) (description)</li>
<li>model "color" float[4] [0]=R, [1]=G, [2]=B, [3]=A</li>
</ul>
</li>
<li>PLAYER_SIMULATION_REQ_GET_PROPERTY player_simulation_property_req_t<ul>
<li>(name) (prop) (value) (description)</li>
<li>model "color" float[4] [0]=R, [1]=G, [2]=B, [3]=A</li>
<li>&lt;unused&gt; "time" uint64_t simulation time in usec</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Speech interface</b></dt><dd><ul>
<li>PLAYER_SPEECH_CMD_SAY </li>
</ul>
</dd></dl>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 29 2011 16:43:39 for Stage by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
