<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<!-- $Id: header.html,v 1.5 2008-02-24 23:24:40 rtv Exp $ -->

<HEAD>


<meta HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=utf-8">
<meta name="keywords" content="stage, robot, simulation, player, player/stage">
<link href="doxygen.css" rel="stylesheet" type="text/css">

<style type="text/css">

.floatright { float: right; margin: 0 0 1em 1em; }

body {
  font-family: sans-serif;
  #font-family: Geneva, Verdana, Helvetica, Arial, sans-serif;
  background-color: #FFF;
  color:#000;
}


a:link { 
	color: #A00;
}

a:visited { 
	color: #800;
}

a { text-decoration: none; }
a:hover { text-decoration: underline; }


.timestamp { text-align:right; background-color: #DDD; font-size:75%;}

h1 { 
  font-size:160%; 
}

h2 {
  font-size:110%;
  #color: #FFF;
  #background-color: #666;
  #padding:3px;
}

h3 { text-align:left; }

img {
  border: 0;
}

ul.menu { 
    position:relative;
    left:-2.5em;
    margin-bottom:0px;
    margin-top:0px;
}

ul.menu1 { 
    position:relative;
    left:-2.1em;
    margin-bottom:0px;
    margin-top:0px;
}

li.menu { 
    list-style-type: none;
    position:relative;
    #left:-0.5em;
}


#sidebar { position: absolute; left:0px; padding:2em; top:0em; width:11em;}

#content { position: absolute; left:12em; top:0em; padding-left:3em; padding-right:3em; padding-bottom:2em; margin-top:1em; margin-right:2em; }

div.box { background-color:#EEE; border: 1px solid #000; padding: 0.5ex 0.4em 0.5ex 0.6em; margin:1em;  }
div.box_light { background-color:#FFF; border: 1px solid #000; padding: 0.5ex 0.4em 0.5ex 0.6em; margin:1em;  }
div.title { font-weight:bold;  margin-bottom:2px;}

div.topbar { position: absolute; top:0px; left:9em; margin:1em; }

</style>

<TITLE>Stage Manual</TITLE>

</HEAD>

<body>

<div id="sidebar"> 

<h2 style="text-align:center;">
<a href="index.html"><img src="stage_button.png" alt="Stage logo image"></a>
</h2>

<div class="box">
<div class=title>Stage</div>

<ul class=menu>
<li class=menu><a href="index.html">Frontpage</a>
<li class=menu><a href="release.html">Release</a>
<li class=menu><a href="authors.html">Authors</a>
<li class=menu><a href="modules.html">Contents</a>
</div>


<div class="box">
<div class=title>User</div>
<ul class=menu>
<li class=menu><a href="install.html">Installation</a>
<li class=menu><a href="help.html">Help</a>
<hr>

<!-- the lists of plugins and models come next -->

<li class=menu><a href="group__world.html">World</a>
<li class=menu><a href="group__worldgui.html">WorldGUI</a>
<li class=menu><a href="group__model.html">Model</a>
<ul class=menu1>
<li class=menu><a href="group__model__actuator.html">actuator</a></li>
<li class=menu><a href="group__model__blobfinder.html">blobfinder</a></li>
<li class=menu><a href="group__model__camera.html">camera</a></li>
<li class=menu><a href="group__model__fiducial.html">fiducial</a></li>
<li class=menu><a href="group__model__gripper.html">gripper</a></li>
<li class=menu><a href="group__model__laser.html">laser</a></li>
<li class=menu><a href="group__model__position.html">position</a></li>
<li class=menu><a href="group__model__ranger.html">ranger</a></li>
<!--
TODO

<li class=menu><a href="group__model__bumper.html">bumper</a></li>
<li class=menu><a href="group__model__blinkenlight.html">blinkenlight</a></li>
-->
</ul>

</div>

<div class=box>
<div class="title">Player</div>
<li class=menu><a href="group__player.html">libstageplugin</a>
</div>


<div class=box>
<div class="title">Developer</div>
<a href="namespaces.html">libstage</a>
</div>

<div class=box_light>
<!-- <a href="http://sourceforge.net"><img border=0 src="http://sourceforge.net/sflogo.php?group_id=42445&type=1"></a> -->
<div class="title">Online</div>
<a href="http://playerstage.org">Homepage</a><br>
<a href="http://playerstage.sourceforge.net/wiki/Basic_FAQ">FAQ (Wiki)</a><br>
<a href="http://sourceforge.net/project/showfiles.php?group_id=42445">Download</a><br>
<a href="http://sourceforge.net/projects/playerstage">Project</a><br>
<a href="http://sourceforge.net/tracker/?group_id=42445">Bugs</a><br>
<a href="http://sourceforge.net/mail/?group_id=42445">Mailing Lists</a>
</div>


</div>

<div id="content" >
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="headertitle">
<h1>Installation </h1>  </div>
</div>
<div class="contents">
<h2>Build system</h2>
<p>Stage is now built using the CMake build system (version 2.4.7 or newer). This has two main advantages over the old GNU autoconf/automake system: (i) it is much faster; (ii) CMake can create native build files for Windows and Mac OS X, which will help Stage become more portable.</p>
<h2>Dependencies</h2>
<p>Building Stage requires the following tools and libraries:</p>
<ul>
<li>
pkg-config </li>
<li>
FLTK 1.1.x  </li>
<li>
OpenGL </li>
<li>
libpng </li>
<li>
ltdl (Libtool) </li>
</ul>
<p>The optional Player plugin requires Player &gt;= 2.1.</p>
<p>The optional Avonstage web-enabled binary requires Avon &gt;= 0.1.</p>
<h2>Configuring the build</h2>
<p>Unpack the distribution or check it out from SVN. Change directory to the top level of the Stage source tree.</p>
<p>First, you may need to help CMake find your the libraries on which Stage depends. For example, if you use MacPorts on OS X, packages are usually installed in <code>/opt/local</code>, which is not in CMake's default system search path. Add your non-standard software directories to CMake's search paths by setting environment variables, e.g. in bash:</p>
<pre><code>$ export CMAKE_INCLUDE_PATH=/opt/local/include
$ export CMAKE_LIBRARY_PATH=/opt/local/lib
</code></pre><p>If you want to use Player with Stage, install Player first, then make sure that pkg-config can find it. Test it like so:</p>
<pre><code>$ pkg-config --modversion playercore
</code></pre><p>This should output the version number of the Player installation (probably 2.2.0 or later). If not, add the location of Player's pkg-config file to your <code>PKG_CONFIG_PATH</code>, eg. in bash, and replacing &lt;Player installation="" prefix&gt;=""&gt; with the correct directory, do:</p>
<pre><code>$ export PKG_CONFIG_PATH+=&lt;Player installation prefix&gt;/lib/pkgconfig
</code></pre><p>Now that the supporting software is set up, you can decide where you want to install Stage. The default installation directory varies by system, but is often <code>/usr/local</code> on Unix variants. This is easy and is often a good choice, but has the disadvantage that installation needs root/sudo priviliges. To install in the default location, do:</p>
<pre><code>$ cmake .
</code></pre><p>If you wish to install Stage elsewhere, define the <code>CMAKE_INSTALL_PATH</code> path variable when invoking cmake. To do this, use this command, substituting <code>&lt;prefix&gt;</code> with your chosen installation directory.</p>
<pre><code>$ cmake -DCMAKE_INSTALL_PREFIX=&lt;prefix&gt; .
</code></pre><p>For example to install in <code>$HOME/playerstage</code>, do:</p>
<pre><code>$ cmake -DCMAKE_INSTALL_PREFIX=$HOME/playerstage .
</code></pre><p>Cmake will generate makefiles specifically for your machine. When this is done, you can inspect and edit the build settings by using ccmake:</p>
<pre><code>$ ccmake .
</code></pre><p>or by editing the file CMakeCache.txt manually.</p>
<h2>Building</h2>
<p>In the top level directory of the source tree, do:</p>
<pre><code>$ make
</code></pre><h2>Installing</h2>
<p>In the top level directory of the source tree, do:</p>
<pre><code>$ make install
</code></pre><p>(You may need to run this command as root or sudo, depending on the install location).</p>
<p>Stage will install its components in various directories, for example:</p>
<pre><code>&lt;prefix&gt;/bin    (executables, including the 'stage' program)  
&lt;prefix&gt;/lib    (libraries, including libstage)  
&lt;prefix&gt;/share  (contains data resources, such as images)
</code></pre><h2>Setup</h2>
<p>You must ensure that the dynamic library libstage.so (or libstage.dylib, or libstage.dll, depending on your platform) can be found by your system's library loader. The method for doing this varies by platform.</p>
<p>On Linux, using bash:</p>
<pre><code>$ export LD_LIBRARY_PATH=&lt;prefix&gt;/lib
</code></pre><p>On OS X, using bash:</p>
<pre><code>$ export DYLD_LIBRARY_PATH=&lt;prefix&gt;/lib
</code></pre><p>If you plan to use Stage plugins, you also need to set the <code>STAGEPATH</code> environment variable to include the directory that contains your plugins. E.g. in bash, do:</p>
<pre><code>$ export STAGEPATH=/usr/local/lib
</code></pre><p>If you installed Stage somewhere other than <code>/usr/local</code>, substitute your install prefix:</p>
<pre><code>$ export STAGEPATH=&lt;stage install prefix&gt;/lib
</code></pre><p>If you are using Stage with Player, you probably don't need to set the <code>STAGEPATH</code>. However, you may need to set the <code>PLAYERPATH</code> to include Stage's installed lib directory instead.</p>
<h2>Testing</h2>
<p>To test your Stage installation, do:</p>
<pre><code>$ &lt;prefix&gt;/bin/stage worlds/simple.world
</code></pre><p>You should see a window appear, showing some robots. You can change the camera point of view by holding down the 'ctrl' key and moving the mouse pointer. If this works, you are ready to write your own robot simulations using libstage.</p>
<p>If you plan to use Stage plugins, you can test that plugins are working:</p>
<pre><code>$ &lt;prefix&gt;/bin/stage worlds/fasr.world
</code></pre><p>You should see a window appear, showing some robots. Try pressing the 'p' key to pause and un-pause the simulation, to check that the robots are working. If this works, you are ready to write Stage plugins.</p>
<h2>Next steps</h2>
<ul>
<li>
<p class="startli"></p>
<p class="endli">read the Stage manual, available from the Player Project website (also buildable from the docsrc directory in the source tree (requires doxygen)). </p>
</li>
<li>
<p class="startli"></p>
<p class="endli">look at the examples provided in the worlds and examples directories. </p>
</li>
</ul>
<p>Enjoy using Stage -- rtv</p>
<p>"All the world's a stage, and all the men and women merely players" <br/>
 Wm. Shakespeare - "As you like it" </p>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Nov 26 2010 13:13:30 for Stage by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
